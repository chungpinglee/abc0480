<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æéº—ç´å…¨å®¶-ä¿å–®è³‡ç”¢ç®¡ç†ç³»çµ±</title>
    <style>
        /* =========================================
           1. æ ¸å¿ƒè‰²å½©ç³»çµ±
           ========================================= */
        :root {
            --bg-deep: #24355A;
            --bg-modal: #FFFFFF;
            --text-dark: #1F2937;
            --text-white: #FFFFFF;
            --radius-card: 24px;
            --radius-btn: 18px;
            --shadow-card: 0 8px 16px rgba(0,0,0,0.08);
            --shadow-hover: 0 20px 30px rgba(0,0,0,0.15);
            --transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        body {
            font-family: "Microsoft JhengHei", "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
            background-color: var(--bg-deep);
            color: var(--text-dark);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent; /* ç§»é™¤ iOS é»æ“Šé«˜äº®è—è‰²å€å¡Š */
        }

        /* é é¦– */
        header {
            padding: 20px 5%; /* æ‰‹æ©Ÿç‰ˆç¸®å°ä¸€é» */
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0,0,0,0.15);
            backdrop-filter: blur(5px);
        }
        header h1 { color: white; margin: 0; font-size: 1.5rem; letter-spacing: 1px; font-weight: 800; text-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .admin-btn {
            background: rgba(255,255,255,0.2); color: white; border: 2px solid rgba(255,255,255,0.5);
            padding: 8px 15px; border-radius: 30px; cursor: pointer; transition: 0.2s; font-weight: bold; font-size: 0.9rem;
        }

        /* =========================================
           2. ä¸»åˆ†é¡ (Level 1)
           ========================================= */
        .main-container {
            flex: 1;
            padding: 20px 5%;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }
        .grid-level-1 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1400px;
        }

        .main-card {
            border-radius: var(--radius-card);
            padding: 30px 25px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            min-height: 220px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            color: white; 
            box-shadow: var(--shadow-card);
            border: none;
        }

        .main-card .icon-large { font-size: 4rem; margin-bottom: 10px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.2)); }
        .main-card h2 { font-size: 1.6rem; margin: 0; font-weight: 800; line-height: 1.2; text-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .main-card p { opacity: 0.95; margin-top: 5px; font-size: 1rem; font-weight: 600; }
        
        .deco-circle {
            position: absolute; top: -50px; right: -50px; width: 180px; height: 180px;
            background: rgba(255,255,255,0.15); border-radius: 50%; pointer-events: none;
        }

        /* =========================================
           3. å½ˆè·³è¦–çª— (Modal)
           ========================================= */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(8px);
            z-index: 1000; opacity: 0; visibility: hidden;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 0.3s;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }

        .modal-content {
            background: var(--bg-modal);
            width: 95%; max-width: 1200px; height: 90vh; /* æ‰‹æ©Ÿç‰ˆä½”æ»¿æ›´å¤šç©ºé–“ */
            border-radius: var(--radius-card);
            display: flex; flex-direction: column;
            box-shadow: 0 25px 60px rgba(0,0,0,0.5);
            transform: scale(0.9); opacity: 0;
            transition: var(--transition);
            overflow: hidden;
        }
        .modal-overlay.active .modal-content { transform: scale(1); opacity: 1; }

        .modal-header {
            padding: 20px 25px; background: white; border-bottom: 2px solid #f0f0f0;
            display: flex; justify-content: space-between; align-items: center;
        }
        .modal-title { font-size: 1.4rem; font-weight: 800; display: flex; align-items: center; gap: 10px; color: var(--bg-deep); }
        .close-btn {
            background: #f3f4f6; border: none; width: 40px; height: 40px; border-radius: 50%;
            font-size: 1.5rem; cursor: pointer; transition: 0.2s; color: #666;
            display: flex; align-items: center; justify-content: center;
        }

        .modal-body {
            flex: 1; padding: 25px; overflow-y: auto; background-color: #FAFAFA;
            -webkit-overflow-scrolling: touch; /* è®“ iOS æ²å‹•æ›´é †æš¢ */
        }

        /* =========================================
           4. æ¬¡åˆ†é¡é¸å–® (Level 2)
           ========================================= */
        .level-2-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .sub-btn {
            border-radius: var(--radius-btn);
            padding: 25px 15px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 140px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            color: white; 
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255,255,255,0.2);
        }

        .sub-btn.active {
            box-shadow: inset 0 0 0 5px rgba(255,255,255,0.6);
            transform: scale(0.98);
        }

        .sub-btn .emoji { 
            font-size: 3.5rem; margin-bottom: 10px; display: inline-block; 
            filter: drop-shadow(0 4px 4px rgba(0,0,0,0.1));
        }
        .sub-btn .text { font-size: 1.2rem; font-weight: 800; letter-spacing: 0.5px; text-shadow: 0 1px 2px rgba(0,0,0,0.1); }

        /* =========================================
           5. å¡ç‰‡å¼é¸å–® (Level 3) - ä¿®æ­£æ‰‹æ©Ÿç‰ˆè‰²å½©
           ========================================= */
        .level-3-section {
            display: none; 
            border-top: 3px dashed #ddd;
            padding-top: 30px;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .section-title { font-size: 1.3rem; margin-bottom: 20px; color: var(--bg-deep); font-weight: 800; display: flex; align-items: center; gap: 10px; }

        .level-3-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .link-card {
            border-radius: var(--radius-btn);
            padding: 20px;
            display: flex; align-items: center;
            text-decoration: none; 
            color: var(--text-dark); 
            box-shadow: var(--shadow-card);
            border: 2px solid transparent; 
            opacity: 0; 
            animation: slideInUp 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
            transition: transform 0.3s ease;
            
            /* é—œéµï¼šå¼·åˆ¶ä½¿ç”¨ JS è¨­å®šçš„èƒŒæ™¯è‰²ï¼Œä¸è®“é è¨­æ¨£å¼è¦†è“‹ */
            background-color: #f5f5f5; /* é è¨­ç°åº•ï¼Œæœƒè¢« JS è¦†è“‹ */
        }

        .link-card .card-icon {
            font-size: 2.2rem; margin-right: 15px;
            width: 55px; height: 55px; 
            background: white; 
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }

        .link-card strong { display: block; font-size: 1.1rem; margin-bottom: 5px; color: #000; font-weight: 800; }
        .link-card span { font-size: 0.95rem; color: #444; line-height: 1.4; font-weight: 500; }

        .link-card.highlight { border: 2px solid rgba(0,0,0,0.1); }

        /* ========================================================
           ğŸ”¥ é—œéµä¿®æ­£ï¼šåªåœ¨æœ‰æ»‘é¼ çš„è£ç½® (Desktop) å•Ÿç”¨ Hover è®Šç™½æ•ˆæœ
           é€™æ¨£æ‰‹æ©Ÿä¸Šå°±ä¸æœƒå› ç‚ºé»æ“Šè€Œå¡åœ¨ç™½è‰²èƒŒæ™¯
           ======================================================== */
        @media (hover: hover) {
            .main-card:hover { transform: translateY(-10px) scale(1.02); box-shadow: 0 25px 50px rgba(0,0,0,0.3); z-index: 5; }
            .sub-btn:hover { transform: translateY(-8px) scale(1.02); box-shadow: 0 20px 40px rgba(0,0,0,0.2); filter: brightness(1.1); }
            
            .link-card:hover {
                transform: translateY(-5px); 
                box-shadow: var(--shadow-hover);
                background-color: white !important; /* é›»è…¦ç‰ˆ Hover æ™‚æ‰è®Šç™½ */
            }
        }

        /* ç·¨è¼¯å™¨ */
        #editor-modal .modal-content { height: 70vh; max-width: 800px; }
        #json-editor { width: 100%; height: 100%; padding: 20px; font-family: monospace; border: none; resize: none; background: #f8f9fa; font-size: 14px; }
        
        /* æ‰‹æ©Ÿç‰ˆæ’ç‰ˆå„ªåŒ– */
        @media (max-width: 768px) {
            .grid-level-1 { grid-template-columns: 1fr; }
            .level-3-grid { grid-template-columns: 1fr; }
            
            /* Level 2 æ‰‹æ©Ÿç‰ˆæ¨£å¼ï¼šæ©«å‘æ’åˆ—ä½†ä¿æŒè‰²å¡Š */
            .sub-btn { 
                height: 100px; 
                flex-direction: row; 
                justify-content: flex-start; 
                gap: 20px; 
                padding: 15px 25px; 
                text-align: left; 
            }
            .sub-btn .emoji { font-size: 2.5rem; margin-bottom: 0; }
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸ›¡ï¸ æéº—ç´å…¨å®¶-ä¿å–®ç³»çµ±</h1>
        <div>
            <button class="admin-btn" onclick="openEditor()">âš™ï¸ ç·¨è¼¯</button>
            <button class="admin-btn" onclick="saveAndDownload()">ğŸ’¾ å„²å­˜</button>
        </div>
    </header>

    <div class="main-container">
        <div id="level-1-grid" class="grid-level-1"></div>
    </div>

    <div id="view-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div id="modal-title" class="modal-title"></div>
                <button class="close-btn" onclick="closeViewModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <div id="level-2-container" class="level-2-grid"></div>
                
                <div id="level-3-section" class="level-3-section">
                    <div id="level-3-title" class="section-title"></div>
                    <div id="level-3-grid" class="level-3-grid"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="editor-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">âš™ï¸ ç·¨è¼¯ JSON è³‡æ–™</div>
                <button class="close-btn" onclick="closeEditor()">Ã—</button>
            </div>
            <div class="modal-body" style="padding:0;">
                <textarea id="json-editor"></textarea>
            </div>
            <div style="padding:20px; text-align:right; background:#f0f0f0;">
                <button class="admin-btn" style="background:#46B3E6; color:white; border:none;" onclick="updateData()">æ›´æ–°ä¸¦é è¦½</button>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // ğŸ¨ è‰²å½©é…ç½®åº«
        // ==========================================
        const colorPalette = [
            { main: "#FF6B6B", light: "#FFF0F0" }, // çŠç‘šç´…
            { main: "#4ECDC4", light: "#E0F7FA" }, // ç¶ æ¾çŸ³
            { main: "#F9C74F", light: "#FFFDE7" }, // é®®é»ƒ
            { main: "#1A535C", light: "#E0F2F1" }, // æ·±é’
            { main: "#9B5DE5", light: "#F3E5F5" }, // ç´«ç¾…è˜­
            { main: "#F15BB5", light: "#FCE4EC" }, // æ¡ƒç´…
            { main: "#00BBF9", light: "#E1F5FE" }, // äº®è—
            { main: "#00F5D4", light: "#E0F2F1" }, // è–„è·ç¶ 
            { main: "#FB5607", light: "#FFF3E0" }, // æ©˜ç´…
            { main: "#8338EC", light: "#EDE7F6" }, // æ·±ç´«
            { main: "#3A86FF", light: "#E3F2FD" }  // çš‡å®¶è—
        ];

        // ==========================================
        // ğŸ”§ è³‡æ–™æ ¸å¿ƒ
        // ==========================================
        let pageData = {
            categories: [
                {
                    title: "å®¶åº­æˆå“¡åŠä¿å–®å„é …å¥æª¢åˆ†æ",
                    desc: "æ•´åˆå…¨å®¶èªéŸ³åˆ†æã€æ ¡æ­£å ±å‘Šèˆ‡å€‹äººä¿å–®è©³æƒ…",
                    icon: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",
                    color: "#E86A92", 
                    subCategories: [
                        {
                            name: "æç´ ç¢§", emoji: "ğŸ‘©â€ğŸ¦°",
                            items: [
                                { title: "ä¿å–®æ ¡æ­£åœ–è¡¨åˆ†æ", desc: "è¦–è¦ºåŒ–ç¼ºå£åˆ†æ (HTMLç¶²é )", url: "ä¿å–®åœ–è¡¨åˆ†æ.html", icon: "ğŸ“Š", highlight: true },
                                { title: "ä¿å–®æ ¡æ­£åˆ†æå ±å‘Š", desc: "è©³ç´°åˆ—è¡¨èˆ‡èªªæ˜ (HTMLç¶²é )", url: "ä¿å–®åˆ†æå ±å‘Š.html", icon: "ğŸ“‘", highlight: true },
                                { title: "ä¿å–®æ ¡æ­£åˆ†æ(PDF)", desc: "å®Œæ•´å ±å‘Šæª”æ¡ˆ", url: "#", icon: "ğŸ“„" },
                                { title: "æŠ•ä¿ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/aa3a988f-c735-4f0a-95bf-705462d583b9", icon: "ğŸ—‚ï¸" },
                                { title: "æœå‹™ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/9bd4f569-c364-4e93-8b67-cb5202b5fa37", icon: "ğŸ¤" },
                                { title: "ç†è³ ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/954a6cba-b7cd-4993-8acc-09bcf00c14a9", icon: "ğŸ©¹" },
                                { title: "å—å±±æ ¡æ­£è¡¨", desc: "PDFæ–‡ä»¶", url: "å—å±±æ ¡æ­£è¡¨.pdf", icon: "ğŸ“‰" },
                                { title: "è£œå¼·å»ºè­°", desc: "PDFæ–‡ä»¶", url: "è£œå¼·å»ºè­°.pdf", icon: "ğŸ’¡" },
                                { title: "ä¿å–®å¥æª¢åˆ†æ(å½±éŸ³)", desc: "å€‹äººåˆ†æå½±éŸ³", url: "ä¿å–®å¥æª¢åˆ†æ.mp4", icon: "ğŸ¬" }
                            ]
                        },
                        {
                            name: "æéº—ç´", emoji: "ğŸ‘©",
                            items: [
                                { title: "å€‹äººèªéŸ³åˆ†æ", desc: "å°ˆå±¬ä¿å–®è§£èªª", url: "https://drive.google.com/file/d/1ePhQ-1JX9qf9sJQhcN-I2kkguYzMu9Bw/view?usp=drive_link", icon: "ğŸ—£ï¸", highlight: true },
                                { title: "å€‹äººä¿å–®åˆ†æ", desc: "è©³ç´°æ¢æ¬¾æ ¡æ­£", url: "#", icon: "ğŸ”", highlight: true },
                                { title: "å—å±±ä¿å–®æ ¡æ­£", desc: "å—å±±äººå£½å°ˆå±¬", url: "https://drive.google.com/file/d/1ET2kY7CQG8CfW83JNpx1L5uEXc_nb36X/view?usp=drive_link", icon: "ğŸ“‹" },
                                { title: "æŠ•ä¿ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/cd391a19-ccdf-4587-9191-61dae59c03f9", icon: "ğŸ—‚ï¸" },
                                { title: "æœå‹™ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/139b0871-e4cd-4d81-9a6c-627a7550dd2d", icon: "ğŸ¤" },
                                { title: "ç†è³ ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/3f8f5f00-6c10-43ba-8ee4-22a3f8347574", icon: "ğŸ©¹" }
                            ]
                        },
                        {
                            name: "å³é€²è²¡", emoji: "ğŸ‘¨",
                            items: [
                                { title: "å€‹äººèªéŸ³åˆ†æ", desc: "å°ˆå±¬ä¿å–®è§£èªª", url: "https://drive.google.com/file/d/1ioya4qOrhGwIHytNb_FOaKhtquGZnu51/view?usp=drive_link", icon: "ğŸ—£ï¸", highlight: true },
                                { title: "å€‹äººä¿å–®åˆ†æ", desc: "è©³ç´°æ¢æ¬¾æ ¡æ­£", url: "https://drive.google.com/file/d/1aVURO8DNYEqqZizVIetULev93qPTc6YY/view?usp=drive_link", icon: "ğŸ”", highlight: true },
                                { title: "å—å±±ä¿å–®æ ¡æ­£", desc: "å—å±±äººå£½å°ˆå±¬", url: "https://drive.google.com/file/d/1R_w8pjFBBNv5dzqZ2DUilDvRTDBBYMn1/view?usp=drive_link", icon: "ğŸ“‹" },
                                { title: "æŠ•ä¿ç´€éŒ„", desc: "Nanshan", url: "https://share.evernote.com/note/0f59487e-3cc3-4193-9db2-12e6def63aa0", icon: "ğŸ—‚ï¸" },
                                { title: "æœå‹™ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/bd60b2d5-5fec-483d-9294-f9bcb1ba336e", icon: "ğŸ¤" },
                                { title: "ç†è³ ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/e9e822bf-803a-48cf-80cb-6bac4b429a23", icon: "ğŸ©¹" }
                            ]
                        },
                        {
                            name: "å³éœ½èˆª", emoji: "ğŸ‘¦",
                            items: [
                                { title: "å€‹äººèªéŸ³åˆ†æ", desc: "å°ˆå±¬ä¿å–®è§£èªª", url: "https://drive.google.com/file/d/1sVTAcEmax7YyWJJvqJuJ7VzrS5OLC1Bk/view?usp=drive_link", icon: "ğŸ—£ï¸", highlight: true },
                                { title: "å€‹äººä¿å–®åˆ†æ", desc: "è©³ç´°æ¢æ¬¾æ ¡æ­£", url: "https://drive.google.com/file/d/1HsDnUmOdntk6t-F29rI45dOBIUcwnvTd/view?usp=drive_link", icon: "ğŸ”", highlight: true },
                                { title: "å—å±±ä¿å–®æ ¡æ­£", desc: "å—å±±äººå£½å°ˆå±¬", url: "https://drive.google.com/file/d/1mFfHrGi1KroGHdYlqA8vPpNDI1D0VTLl/view?usp=drive_link", icon: "ğŸ“‹" },
                                { title: "æŠ•ä¿ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/1643c582-21a0-47be-a053-e24a1847686d", icon: "ğŸ—‚ï¸" },
                                { title: "æœå‹™ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/2d7f3cad-c1d2-4a23-be86-b4f713c73ae1", icon: "ğŸ¤" },
                                { title: "ç†è³ ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/2cec8ac0-0f5c-4ef1-a4f0-867ab318e22b", icon: "ğŸ©¹" }
                            ]
                        },
                        {
                            name: "æå¾ç´ ç", emoji: "ğŸ‘µ",
                            items: [
                                { title: "æŠ•ä¿ç´€éŒ„", desc: "Evernote", url: "https://share.evernote.com/note/23430a1a-8ff5-4b3b-8352-61aed5567e2c", icon: "ğŸ—‚ï¸" },
                                { title: "æœå‹™ç´€éŒ„", desc: "Evernote", url: "#", icon: "ğŸ¤" },
                                { title: "ç†è³ ç´€éŒ„", desc: "Evernote", url: "#", icon: "ğŸ©¹" }
                            ]
                        }
                    ]
                },
                {
                    title: "æŠ•è³‡å‹ä¿éšªå°ˆå€",
                    desc: "åŠ å€¼çµ¦ä»˜ã€åƒ¹å€¼åˆ†æèˆ‡BVAå ±è¡¨",
                    icon: "ğŸ’¹",
                    color: "#6366F1", 
                    subCategories: [
                        {
                            name: "åˆ†æèˆ‡å ±è¡¨", emoji: "ğŸ“ˆ",
                            items: [
                                { title: "èªéŸ³è§£èªª", desc: "åˆ†æå°è¦½", url: "https://drive.google.com/file/d/1ZLp1kj6cZj7DXrmwwNOJwKETfo5Y7OFd/view?usp=drive_link", icon: "ğŸ§" },
                                { title: "æŠ•è³‡å‹ä¿å–®åˆ†æ", desc: "åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼(PDF)", url: "https://drive.google.com/file/d/1e5V79mzGUd01i2iDFp_77ntB0786SGey/view?usp=drive_link", icon: "ğŸ“‘" },
                                { title: "BVAå ±è¡¨", desc: "Evernote", url: "https://share.evernote.com/note/ecb649b3-54b9-482c-0de3-8baf19520f31", icon: "ğŸ“‰" }
                            ]
                        }
                    ]
                },
                {
                    title: "å…¨å®¶è³‡ç”¢çµ±è¨ˆ",
                    desc: "ä¿éšœã€åƒ¹å€¼ã€é‚„æœ¬é‡‘ä¸‰è¡¨åˆä¸€",
                    icon: "ğŸ’°",
                    color: "#8D72E1", 
                    subCategories: [
                        {
                            name: "ä¸‰å¤§çµ±è¨ˆè¡¨", emoji: "ğŸ“Š",
                            items: [
                                { title: "å…¨å®¶ä¿éšœçµ±è¨ˆè¡¨", desc: "äººç”Ÿä¿è­‰é‡‘", url: "../å…¨å®¶ä¿éšœçµ±è¨ˆè¡¨/å…¨å®¶ä¿éšœçµ±è¨ˆè¡¨.html", icon: "ğŸ›¡ï¸" },
                                { title: "å…¨å®¶ä¿å–®åƒ¹å€¼", desc: "å®¶åº­è³‡ç”¢", url: "../å…¨å®¶ä¿å–®åƒ¹å€¼çµ±è¨ˆè¡¨/å…¨å®¶ä¿å–®åƒ¹å€¼çµ±è¨ˆè¡¨.html", icon: "ğŸ’" },
                                { title: "å…¨å®¶é‚„æœ¬é‡‘çµ±è¨ˆ", desc: "å®¶åº­ç¾é‡‘æµ", url: "../å…¨å®¶é‚„æœ¬é‡‘çµ±è¨ˆè¡¨/å…¨å®¶é‚„æœ¬é‡‘çµ±è¨ˆè¡¨.html", icon: "ğŸ’µ" }
                            ]
                        },
                        {
                            name: "ç³»çµ±å°èˆª", emoji: "ğŸ§­",
                            items: [
                                { title: "å›ç³»çµ±é¦–é ", desc: "æéº—ç´å…¨å®¶é¦–é ", url: "file:///C:/Users/%E6%9D%8E%E4%BB%B2%E5%B9%B3/Desktop/%E6%88%91%E7%9A%84HTML%E7%B3%BB%E7%B5%B1/%E5%AE%A2%E6%88%B6%E7%AE%A1%E7%90%86/%E6%9D%8E%E9%BA%97%E7%90%B4%E5%85%A8%E5%AE%B6/%E6%9D%8E%E9%BA%97%E7%90%B4%E5%85%A8%E5%AE%B6%E9%A6%96%E9%A0%81.html", icon: "ğŸ”™" }
                            ]
                        }
                    ]
                },
                {
                    title: "è²¡å¯Œç®¡ç†å°ˆå€",
                    desc: "ç¨…å‹™åˆ†æã€å‚³æ‰¿è¦åŠƒèˆ‡æŠ•è³‡",
                    icon: "ğŸ¦",
                    color: "#FDB940", 
                    subCategories: [
                        {
                            name: "ç¨…å‹™èˆ‡å‚³æ‰¿", emoji: "âš–ï¸",
                            items: [
                                { title: "è²¡å¯Œå‚³æ‰¿åˆ†æ", desc: "èªéŸ³ç‰ˆ", url: "https://drive.google.com/file/d/1oREACA7iiXogsUXFhpUlM2UEpxYOvFON/view?usp=sharing", icon: "ğŸ—£ï¸" },
                                { title: "å…¨å®¶ç¨…å‹™åˆ†æ", desc: "PDF", url: "https://drive.google.com/file/d/1HP2e5SIP3uAcJm8Lyu5CE3RiHyuiqe6J/view?usp=drive_link", icon: "ğŸ§¾" },
                                { title: "è³‡ç”¢ç¾é‡‘æµåˆ†æ", desc: "PDF", url: "https://drive.google.com/file/d/13ECn-fc1mnmH4i60fg6Wj8ypFES98Vwa/view?usp=drive_link", icon: "ğŸ’§" }
                            ]
                        }
                    ]
                },
                {
                    title: "ç”¢ç‰©ä¿éšª",
                    desc: "æ±½æ©Ÿè»Šã€ä½å®…ç«éšªèˆ‡è²¬ä»»éšª",
                    icon: "ğŸš—",
                    color: "#F0A261", 
                    subCategories: [
                        {
                            name: "è»Šè¼›ä¿éšª", emoji: "ğŸš˜",
                            items: [
                                { title: "æ±½è»Šéšª-å­£é€šå¯¦æ¥­", desc: "7986-L8", url: "https://lite.evernote.com/note/659f5c0d-43b9-448c-a6c3-0370fcdd8c13", icon: "ğŸš™" },
                                { title: "æ±½è»Šéšª-æéº—ç´", desc: "6986-YQ (ä¸™å¼)", url: "https://lite.evernote.com/note/158484e9-8c19-4fae-bfd9-95bcf031f763", icon: "ğŸš™" },
                                { title: "æ±½è»Šéšª-æéº—ç´", desc: "BXM-9689 (ä¹™å¼)", url: "https://share.evernote.com/note/123d451e-90a4-cd6d-5d74-9e8cf2db7c10", icon: "ğŸš™" },
                                { title: "æ©Ÿè»Šéšª-å³éœ½èˆª", desc: "MPM-9209", url: "https://lite.evernote.com/note/09e1263c-a93d-4017-a137-e8825bc553c2", icon: "ğŸ›µ" },
                                { title: "æ©Ÿè»Šéšª-å³é€²è²¡", desc: "NAE-9689", url: "https://lite.evernote.com/note/65f9dbc9-788e-494c-a754-0bbb402c689d", icon: "ğŸ›µ" },
                                { title: "æ±½è»Šéšªèªªæ˜æ›¸", desc: "æ•…äº‹æ›¸ç”¢ç”Ÿå™¨", url: "C:\\Users\\æä»²å¹³\\Desktop\\æˆ‘çš„HTMLç³»çµ±\\ç¨‹å¼-æ•…äº‹æ›¸ç”¢ç”Ÿå™¨\\æ±½è»Šä¿éšª\\å°ææ–°è»Šçš„å¥‡å¹»ä¹‹-æ•…äº‹\\car_insurance_storybook.html", icon: "ğŸ“–" }
                            ]
                        },
                        {
                            name: "ä½å®…ç«éšª", emoji: "ğŸ ",
                            items: [
                                { title: "åŸºéš†æš–æš–335å··", desc: "å³é€²è²¡ (æ”¹å»ºä¸­)", url: "https://lite.evernote.com/note/10a77216-a590-40a1-94e5-9f7912bb48a3", icon: "ğŸ§±" },
                                { title: "åŸºéš†æš–æš–è¡—495è™Ÿ", desc: "æéº—ç´", url: "https://lite.evernote.com/note/5b9e0fb2-6685-4509-9d98-b07622f92191", icon: "ğŸ¡" },
                                { title: "åŸºéš†æš–æš–è¡—323è™Ÿ", desc: "å³é€²è²¡", url: "https://lite.evernote.com/note/91e326bd-08ea-741f-bcda-991e3ab78071", icon: "ğŸ¢" }
                            ]
                        },
                        {
                            name: "å—å±±ç”¢ç‰©ç¸½è¡¨", emoji: "ğŸ“‘",
                            items: [
                                { title: "å—å±±ç”¢ç‰©ç¸½è¡¨", desc: "ç¸½è¦½", url: "#", icon: "ğŸ“‚" }
                            ]
                        }
                    ]
                },
                {
                    title: "ä¼æ¥­ä¿å–®å°ˆå€",
                    desc: "å­£é€šå¯¦æ¥­ã€ç™»å¾¡å¯¦æ¥­",
                    icon: "ğŸ¢",
                    color: "#5ABF9A",
                    subCategories: [
                        {
                            name: "å­£é€šå¯¦æ¥­", emoji: "ğŸ—ï¸",
                            items: [
                                { title: "æŠ•ä¿ç´€éŒ„", desc: "", url: "https://share.evernote.com/note/a4c99a9f-27b3-4ab6-9c3d-b80fc1adee97", icon: "ğŸ—‚ï¸" },
                                { title: "å³é€²è²¡åä¸‹ä¼æ¥­ä¿å–®", desc: "", url: "https://share.evernote.com/note/1773f410-9cf6-e438-0e2d-157bc34305eb", icon: "ğŸ‘”" },
                                { title: "å—å±±äººå£½åœ˜é«”éšª", desc: "", url: "https://share.evernote.com/note/f5adf104-e234-463c-98d5-49d461cc7206", icon: "ğŸ‘¥" },
                                { title: "é›‡ä¸»æ„å¤–è²¬ä»»éšª", desc: "", url: "https://share.evernote.com/note/161cf59d-10cd-40ca-9a66-ee274279e7dc", icon: "â›‘ï¸" }
                            ]
                        },
                        {
                            name: "ç™»å¾¡å¯¦æ¥­", emoji: "ğŸ­",
                            items: [
                                { title: "æŠ•ä¿ç´€éŒ„", desc: "", url: "https://share.evernote.com/note/6cfef888-08ef-4633-9c42-381dc41b5ebc", icon: "ğŸ—‚ï¸" },
                                { title: "æéº—ç´åä¸‹ä¼æ¥­ä¿å–®", desc: "", url: "https://share.evernote.com/note/4fc241c2-de99-7c48-4ef4-d62e990870a7", icon: "ğŸ‘”" },
                                { title: "å—å±±ç”¢ç‰©é›‡ä¸»æ„å¤–éšª", desc: "", url: "https://share.evernote.com/note/a849a3f2-7754-4f66-978d-8544e26e720e", icon: "â›‘ï¸" }
                            ]
                        }
                    ]
                },
                {
                    title: "å”®å¾Œæœå‹™è³‡æº",
                    desc: "è¡¨å–®ä¸‹è¼‰èˆ‡è¯çµ¡è³‡è¨Š",
                    icon: "ğŸ¤",
                    color: "#46B3E6", 
                    subCategories: [
                        {
                            name: "å¸¸ç”¨è³‡æº", emoji: "ğŸŒ",
                            items: [
                                { title: "å”®å¾Œæœå‹™è³‡æºä¸€è¦½è¡¨", desc: "Github Page", url: "https://chungpinglee.github.io/abc0480//%E5%94%AE%E5%BE%8C%E6%9C%8D%E5%8B%99%E8%B3%87%E6%BA%90.html", icon: "ğŸ”—" }
                            ]
                        }
                    ]
                }
            ]
        };

        // ==========================================
        // ğŸš€ UI æ¸²æŸ“é‚è¼¯
        // ==========================================
        const mainGrid = document.getElementById('level-1-grid');
        const viewModal = document.getElementById('view-modal');
        const modalTitle = document.getElementById('modal-title');
        const level2Container = document.getElementById('level-2-container');
        const level3Section = document.getElementById('level-3-section');
        const level3Title = document.getElementById('level-3-title');
        const level3Grid = document.getElementById('level-3-grid');

        function init() {
            renderLevel1();
        }

        function renderLevel1() {
            mainGrid.innerHTML = '';
            pageData.categories.forEach((cat, index) => {
                const card = document.createElement('div');
                card.className = 'main-card';
                card.style.backgroundColor = cat.color;
                
                card.innerHTML = `
                    <div class="deco-circle"></div>
                    <div class="icon-large">${cat.icon}</div>
                    <div>
                        <h2>${cat.title}</h2>
                        <p>${cat.desc}</p>
                    </div>
                `;
                card.onclick = () => openModal(index);
                mainGrid.appendChild(card);
            });
        }

        function openModal(catIndex) {
            const category = pageData.categories[catIndex];
            modalTitle.innerHTML = `<span style="margin-right:15px; font-size: 2rem;">${category.icon}</span> ${category.title}`;
            modalTitle.style.color = category.color;
            
            level2Container.innerHTML = '';
            level3Section.style.display = 'none'; 
            level3Grid.innerHTML = '';

            category.subCategories.forEach((sub, subIndex) => {
                const btn = document.createElement('div');
                btn.className = 'sub-btn';
                
                // Level 2 æŒ‰éˆ•é¡è‰²åˆ†é…
                const colorObj = colorPalette[subIndex % colorPalette.length];
                // ç‚ºäº†é˜²æ­¢æ‰‹æ©Ÿä¸Šç„¡æ•ˆï¼Œæˆ‘å€‘ç›´æ¥æ“ä½œ DOM æ¨£å¼ï¼Œä¸¦åŠ ä¸Š important (é›–ç„¶JS inline æ¬Šé‡å¾ˆé«˜ï¼Œä½†ä¿éšªèµ·è¦‹)
                btn.style.setProperty('background-color', colorObj.main, 'important');
                
                btn.innerHTML = `
                    <div class="emoji">${sub.emoji}</div>
                    <div class="text">${sub.name}</div>
                `;
                btn.onclick = () => {
                    document.querySelectorAll('.sub-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderLevel3(sub, colorObj);
                };
                level2Container.appendChild(btn);
            });

            viewModal.classList.add('active');
        }

        function renderLevel3(subCategory, parentColorObj) {
            level3Section.style.display = 'block';
            level3Title.innerHTML = `<span style="font-size:1.5rem;">${subCategory.emoji}</span> ${subCategory.name} - è©³ç´°è³‡æ–™`;
            
            level3Title.style.color = parentColorObj.main; 
            level3Grid.innerHTML = '';

            subCategory.items.forEach((item, index) => {
                const card = document.createElement('a');
                card.className = `link-card ${item.highlight ? 'highlight' : ''}`;
                card.href = item.url || '#';
                card.target = '_blank';
                card.style.animationDelay = `${index * 0.08}s`; 
                
                // æ¯ä¸€å¼µå¡ç‰‡ä¾åºåˆ†é…ä¸åŒçš„æ·ºè‰²èƒŒæ™¯
                const specificColor = colorPalette[index % colorPalette.length];
                
                // ğŸ”¥ å¼·åˆ¶è¨­å®šèƒŒæ™¯è‰²ï¼Œç¢ºä¿æ‰‹æ©Ÿç‰ˆä¸æœƒè®Šç™½
                card.style.setProperty('background-color', specificColor.light, 'important');

                card.innerHTML = `
                    <div class="card-icon">${item.icon}</div>
                    <div>
                        <strong>${item.title}</strong>
                        <span>${item.desc}</span>
                    </div>
                `;
                
                // Hover effect: é‚Šæ¡†ä½¿ç”¨å°æ‡‰çš„æ·±è‰²ç³» (åƒ…åœ¨é›»è…¦ç‰ˆé€é CSS hover ç”Ÿæ•ˆ)
                card.addEventListener('mouseenter', () => {
                    // é›»è…¦ç‰ˆæ‰åŸ·è¡Œé€™å€‹
                    if (window.matchMedia('(hover: hover)').matches) {
                        card.style.borderColor = specificColor.main;
                    }
                });
                card.addEventListener('mouseleave', () => {
                    if (window.matchMedia('(hover: hover)').matches) {
                        card.style.borderColor = 'transparent';
                    }
                });

                level3Grid.appendChild(card);
            });
            
            setTimeout(() => {
                level3Section.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        }

        function closeViewModal() {
            viewModal.classList.remove('active');
        }

        viewModal.addEventListener('click', (e) => {
            if(e.target === viewModal) closeViewModal();
        });

        const editorModal = document.getElementById('editor-modal');
        const jsonEditor = document.getElementById('json-editor');

        function openEditor() {
            jsonEditor.value = JSON.stringify(pageData, null, 4);
            editorModal.classList.add('active');
        }
        function closeEditor() { editorModal.classList.remove('active'); }
        function updateData() {
            try {
                pageData = JSON.parse(jsonEditor.value);
                renderLevel1();
                closeEditor();
            } catch(e) { alert("JSON æ ¼å¼éŒ¯èª¤"); }
        }
        function saveAndDownload() {
            const html = document.documentElement.outerHTML;
            const dataStr = JSON.stringify(pageData, null, 4);
            const newHtml = html.replace(/let pageData = \{([\s\S]*?)\};/, `let pageData = ${dataStr};`);
            const blob = new Blob([newHtml], {type: 'text/html'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `æéº—ç´å…¨å®¶ç³»çµ±_${new Date().toISOString().split('T')[0]}.html`;
            a.click();
        }

        init();
    </script>
</body>
</html>