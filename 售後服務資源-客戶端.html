<!DOCTYPE html>
<html lang="zh-TW"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å”®å¾Œæœå‹™è³‡æº</title>
    <style>
        /* --- å…¨åŸŸèˆ‡åŸºæœ¬æ¨£å¼ (æœªä¿®æ”¹) --- */
        :root {
            --primary-color: #007bff;
            --primary-hover-color: #0056b3;
            --secondary-color: #6c757d;
            --background-color: #f8f9fa;
            --content-bg-color: #ffffff;
            --text-color: #212529;
            --border-color: #dee2e6;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --danger-color: #dc3545;
            --danger-hover-color: #c82333;
            --success-color: #28a745;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s;
        }
        .container { max-width: 960px; margin: 0 auto; padding: 15px; }

        /* --- é é¦– (æœªä¿®æ”¹) --- */
        header {
            background-color: var(--content-bg-color);
            padding: 15px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 2px 4px var(--shadow-color);
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
        }
        #page-title { margin: 0; font-size: 1.8em; flex-grow: 1; }
        #page-title:hover { cursor: pointer; opacity: 0.7; }
        .controls-main { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
        
        /* --- ç·¨è¼¯æ¨¡å¼é–‹é—œ (æœªä¿®æ”¹) --- */
        .switch { position: relative; display: inline-block; width: 50px; height: 28px; }
        .switch input { display: none; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 28px; }
        .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(22px); }
        .edit-mode-label { font-size: 0.9em; user-select: none; cursor: pointer; }

        /* --- æŒ‰éˆ•é€šç”¨æ¨£å¼ (æœªä¿®æ”¹) --- */
        button { padding: 8px 12px; font-size: 0.9em; border: 1px solid var(--border-color); border-radius: 5px; cursor: pointer; background-color: var(--content-bg-color); transition: all 0.2s ease-in-out; }
        button:hover { opacity: 0.8; border-color: var(--secondary-color); }
        #add-block-btn { background-color: var(--success-color); color: white; border-color: var(--success-color); }
        #save-btn { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
        .primary-action { background-color: var(--primary-color); color: white; } /* Helper class for modal button */

        /* --- å€å¡Š (Block) æ¨£å¼ (æœªä¿®æ”¹) --- */
        .block { background: var(--content-bg-color); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 20px; padding: 15px; box-shadow: 0 1px 3px var(--shadow-color); transition: box-shadow 0.3s; }
        .block:hover { box-shadow: 0 4px 8px var(--shadow-color); }
        .block-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); padding-bottom: 10px; margin-bottom: 15px; }
        .block-title { margin: 0; font-size: 1.4em; }
        .block-title:hover { cursor: pointer; opacity: 0.7; }
        .block-controls, .item-controls { display: flex; gap: 5px; }
        .block-controls button, .item-controls button { padding: 5px 8px; font-size: 1em; }
        .delete-block, .delete-item { color: var(--danger-color); }
        .delete-block:hover, .delete-item:hover { background-color: var(--danger-color); color: white; }
        .add-item-btn { margin-top: 15px; width: 100%; }

        /* --- é …ç›® (Item) æ¨£å¼ (æœªä¿®æ”¹) --- */
        .item-list { display: flex; flex-direction: column; gap: 10px; }
        .item { display: flex; justify-content: space-between; align-items: center; padding: 10px; background-color: var(--background-color); border-radius: 5px; border: 1px solid transparent; }
        .item-content { flex-grow: 1; }
        .item-content a { text-decoration: none; color: var(--primary-color); font-weight: 500; }
        .item-content a:hover { text-decoration: underline; }
        .edit-mode .item-content a { pointer-events: none; }
        .item-edit-form { display: none; flex-direction: column; gap: 5px; flex-grow: 1; }
        .item-edit-form input { padding: 5px; border: 1px solid var(--border-color); border-radius: 3px; }
        .item-edit-form button { font-size: 0.8em; padding: 4px 8px; }

        /* --- ç·¨è¼¯æ¨¡å¼æ§åˆ¶ (æœªä¿®æ”¹) --- */
        .edit-mode-item { display: none; }
        .edit-mode .edit-mode-item { display: flex; }
        .edit-mode-item.inline { display: none; }
        .edit-mode .edit-mode-item.inline { display: inline; }

        /* --- æ¡Œé¢ç‰ˆéŸ¿æ‡‰å¼èª¿æ•´ (æœªä¿®æ”¹) --- */
        @media (min-width: 768px) {
            #page-title { font-size: 2.2em; }
            .container { padding: 20px; }
        }

        /* --- å½ˆå‡ºè¦–çª— (Modal) æ¨£å¼ (æœªä¿®æ”¹) --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none; 
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: var(--content-bg-color);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
        .modal-content h3 {
            margin-top: 0;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        .modal-form-group {
            margin-bottom: 15px;
        }
        .modal-form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .modal-form-group select,
        .modal-form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-sizing: border-box; 
        }
        .modal-controls {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }
        /* --- é …ç›®åº«ç®¡ç†è¦–çª—çš„æ¨£å¼ (æœªä¿®æ”¹) --- */
        #library-items-list {
            max-height: 250px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 15px;
        }
        .library-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px;
            border-bottom: 1px solid #eee;
        }
        .library-item:last-child {
            border-bottom: none;
        }
        .library-item-info {
            flex-grow: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin-right: 10px;
        }
        .library-item-info small {
            color: var(--secondary-color);
            display: block;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .delete-library-item {
            padding: 2px 6px;
            font-size: 0.8em;
            color: var(--danger-color);
            flex-shrink: 0;
        }
        .delete-library-item:hover {
            background-color: var(--danger-color);
            color: white;
        }
        .top-modal-controls {
            display: flex;
            flex-wrap: wrap; 
            gap: 10px;
            margin: 15px 0;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 15px;
        }
        .top-modal-controls button {
            flex-grow: 1;
        }

        /* --- âœ¨ ç¾åŒ–ä¿®æ”¹é–‹å§‹ âœ¨ --- */
        
        /* 1. å­—é«”è«‹ç”¨å¾®è»Ÿæ­£é»‘é«” */
        body {
            font-family: "Microsoft JhengHei", "å¾®è»Ÿæ­£é»‘é«”", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        /* 2. è¡¨é ­æ¨™é¡Œ */
        #page-title {
            background-color: #007bff; /* è—è‰² */
            color: white;
            font-weight: bold;
            padding: 5px 15px;
            border-radius: 8px;
            border: 2px solid black; /* å¤–æ¡†:é»‘ç²—é«” */
            transition: all 0.2s ease-in-out;
        }
        /* 5. æ»‘é¼ æ»‘éæ–‡å­—æ™‚ï¼Œæ–‡å­—é¡è‰²:ç´…è‰² */
        #page-title:hover {
            color: #dc3545; /* ç´…è‰² */
            opacity: 1;
            text-shadow: none;
        }
        /* 6. æ»‘é¼ åœç•™åœ¨æ–‡å­—æ™‚ï¼Œæ–‡å­—å­—é«”åŠ å¤§1è™ŸåŠ ç²—ï¼Œé¡è‰²:ç´…è‰²ï¼Œä¸¦ä¸”æœ‰å…‰è¼ */
        #page-title:active {
            color: #dc3545; /* ç´…è‰² */
            font-weight: 900; /* åŠ ç²— */
            font-size: 110%; /* åŠ å¤§1è™Ÿ */
            text-shadow: 0 0 10px rgba(255, 20, 20, 0.8); /* ç´…è‰²å…‰è¼ */
        }

        /* 3. æ‰€æœ‰å€å¡Š:æ–‡å­—:æ·±è—è‰²ï¼Œå¡«æ»¿æ•ˆæœ:æ·¡ç¶ è‰² */
        .block {
            background-color: #DFF0D8; /* æ·¡ç¶ è‰² */
            color: #00008B; /* æ·±è—è‰² */
            border-color: #C1E2B3;
        }
        .block .block-title {
            color: #00008B; /* æ·±è—è‰² */
            transition: all 0.2s ease-in-out;
        }
        /* 5. æ»‘é¼ æ»‘éå€å¡Šæ¨™é¡Œæ™‚ */
        .block .block-title:hover {
            color: #dc3545; /* ç´…è‰² */
            opacity: 1;
        }
        /* 6. æ»‘é¼ åœç•™(æŒ‰ä½)å€å¡Šæ¨™é¡Œæ™‚ */
        .block .block-title:active {
            color: #dc3545; /* ç´…è‰² */
            font-weight: 900; /* åŠ ç²— */
            font-size: 110%; /* åŠ å¤§1è™Ÿ */
            text-shadow: 0 0 10px rgba(255, 20, 20, 0.8); /* ç´…è‰²å…‰è¼ */
        }

        /* 4. é …ç›®æ–‡å­—:é»‘è‰² */
        .item {
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
        }
        .item .item-content a {
            color: black; /* é»‘è‰² */
            font-weight: bold;
            display: inline-block; 
            transition: all 0.2s ease-in-out;
        }
        /* 5. æ»‘é¼ æ»‘éé …ç›®æ–‡å­—æ™‚ */
        .item .item-content a:hover {
            color: #dc3545; /* ç´…è‰² */
            text-decoration: underline;
        }
        /* 6. æ»‘é¼ åœç•™(æŒ‰ä½)é …ç›®æ–‡å­—æ™‚ */
        .item .item-content a:active {
            color: #dc3545; /* ç´…è‰² */
            font-weight: 900; /* åŠ ç²— */
            font-size: 110%; /* åŠ å¤§1è™Ÿ */
            text-shadow: 0 0 10px rgba(255, 20, 20, 0.8); /* ç´…è‰²å…‰è¼ */
        }

        /* 7. ç•¶æˆ‘æ»‘é¼ æ»‘éæŒ‰éˆ•æ™‚ï¼ŒæŒ‰éˆ•é¡è‰²:ç™½è‰²ï¼Œå¡«æ»¿æ•ˆæœ:ç´…è‰² */
        button:hover {
            background-color: #dc3545; /* ç´…è‰² */
            color: white !important; /* !important ç¢ºä¿è¦†è“‹æ‰€æœ‰æŒ‰éˆ•çš„æ–‡å­—é¡è‰² */
            border-color: #c82333; 
            opacity: 1;
        }
        /* é‡å°ç‰¹å®šå·²æœ‰ hover æ•ˆæœçš„æŒ‰éˆ•é€²è¡Œå¾®èª¿ï¼Œç¢ºä¿ä¸€è‡´æ€§ */
        .delete-block:hover, .delete-item:hover, .delete-library-item:hover {
            background-color: #dc3545;
            color: white !important;
            border-color: #c82333;
        }
        /* --- âœ¨ ç¾åŒ–ä¿®æ”¹çµæŸ âœ¨ --- */
    </style>
</head>
<body data-page-id="page-1761444707403" class="">

    <div class="container">
        <header>
            <h1 id="page-title" title="é»æ“Šä»¥ç·¨è¼¯æ¨™é¡Œ" contenteditable="false" style="">å”®å¾Œæœå‹™è³‡æº</h1>
            <div class="controls-main">
                <label for="edit-mode-toggle" class="edit-mode-label">ç·¨è¼¯æ¨¡å¼</label>
                <label class="switch">
                    <input type="checkbox" id="edit-mode-toggle">
                    <span class="slider"></span>
                </label>
                <button id="manage-library-btn" class="edit-mode-item">ğŸ“š ç®¡ç†é …ç›®åº«</button>
                <button id="add-block-btn" class="edit-mode-item">ï¼‹ æ–°å¢å€å¡Š</button>
                <button id="save-btn">ğŸ’¾ å„²å­˜ä¸¦ä¸‹è¼‰</button>
            </div>
        </header>

        <main id="main-container">
            
                
                
                
                
                <section class="block" data-id="1753780819659">
                    <div class="block-header">
                        <h2 class="block-title" title="é»æ“Šä»¥ç·¨è¼¯å€å¡Šæ¨™é¡Œ">å—å±±äººå£½-æœå‹™è³‡æº</h2>
                        <div class="block-controls edit-mode-item">
                            <button class="move-block-up" title="ä¸Šç§»">â†‘</button>
                            <button class="move-block-down" title="ä¸‹ç§»">â†“</button>
                            <button class="delete-block" title="åˆªé™¤å€å¡Š">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <div class="item-list">
                <div class="item" data-id="1753781119786">
                    <div class="item-content" style="display: block;">
                        <a href="https://www.nanshanlife.com.tw/nanshanlife/sitemap" target="_blank">å—å±±äººå£½å®˜æ–¹ç¶²ç«™</a>
                    </div>
                    <div class="item-edit-form" style="display: none;">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="å—å±±äººå£½å®˜æ–¹ç¶²ç«™">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshanlife.com.tw/nanshanlife/sitemap">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item" style="">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="item" data-id="1753781144800">
                    <div class="item-content">
                        <a href="https://chatweb.nanshanlife.com.tw/?token=kTOszsUUuuuhVmDFdiPE9X4AaXYkFD0mthnj6hEB4Q5Mf1%2Fw0M4XapkgG7J9qk5GTmW6tRf45wI5PeqrYNn9LyrugF1PgkYIhyKB0yz%2BsQQAjjuqvb5x%2BQOAw0ffZEPRFDaHBgMrs6d7bERiPLADZCwdIZGS3O3O3T5cPk5MFCg%3D" target="_blank">å—å±±äººå£½AIæ™ºèƒ½å®¢æœ</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="å—å±±äººå£½AIæ™ºèƒ½å®¢æœ">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://chatweb.nanshanlife.com.tw/?token=kTOszsUUuuuhVmDFdiPE9X4AaXYkFD0mthnj6hEB4Q5Mf1%2Fw0M4XapkgG7J9qk5GTmW6tRf45wI5PeqrYNn9LyrugF1PgkYIhyKB0yz%2BsQQAjjuqvb5x%2BQOAw0ffZEPRFDaHBgMrs6d7bERiPLADZCwdIZGS3O3O3T5cPk5MFCg%3D">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="item" data-id="1753781175002">
                    <div class="item-content">
                        <a href="https://www.nanshanlife.com.tw/nanshanlife/service-online-nsapp" target="_blank">è«‹åŠ å…¥-å—å±±äººå£½æ‰‹æ©ŸAPP</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="è«‹åŠ å…¥-å—å±±äººå£½æ‰‹æ©ŸAPP">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshanlife.com.tw/nanshanlife/service-online-nsapp">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="item" data-id="1753781186676">
                    <div class="item-content">
                        <a href="https://www.nanshanlife.com.tw/nanshanlife/service-online-line" target="_blank">è«‹åŠ å…¥-LINEå—å±±äººå£½å®˜æ–¹å¸³è™Ÿ</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="è«‹åŠ å…¥-LINEå—å±±äººå£½å®˜æ–¹å¸³è™Ÿ">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshanlife.com.tw/nanshanlife/service-online-line">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="item" data-id="1753781227056">
                    <div class="item-content" style="display: block;">
                        <a href="https://www.nanshanlife.com.tw/nanshanlife/service-form" target="_blank">å„ç¨®è¡¨æ ¼ä¸‹è¼‰</a>
                    </div>
                    <div class="item-edit-form" style="display: none;">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="å„ç¨®è¡¨æ ¼ä¸‹è¼‰">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshanlife.com.tw/nanshanlife/service-form">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item" style="">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="item" data-id="1753781243757">
                    <div class="item-content">
                        <a href="#" target="_blank">å…ä»˜è²»é›»è©± 0800-020-060 æŒ‰1</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="å…ä»˜è²»é›»è©± 0800-020-060 æŒ‰1">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="#">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
            </div>
                    <button class="add-item-btn edit-mode-item">ï¼‹ æ–°å¢é …ç›®</button>
                </section>
                <section class="block" data-id="1753780831656">
                    <div class="block-header">
                        <h2 class="block-title" title="é»æ“Šä»¥ç·¨è¼¯å€å¡Šæ¨™é¡Œ">å—å±±ç”¢ç‰©-æœå‹™è³‡æº</h2>
                        <div class="block-controls edit-mode-item">
                            <button class="move-block-up" title="ä¸Šç§»">â†‘</button>
                            <button class="move-block-down" title="ä¸‹ç§»">â†“</button>
                            <button class="delete-block" title="åˆªé™¤å€å¡Š">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <div class="item-list">
                <div class="item" data-id="1753781261326">
                    <div class="item-content">
                        <a href="https://www.nanshangeneral.com.tw/sitemap" target="_blank">å—å±±ç”¢ç‰©å®˜æ–¹ç¶²ç«™</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="å—å±±ç”¢ç‰©å®˜æ–¹ç¶²ç«™">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshangeneral.com.tw/sitemap">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="item" data-id="1753781281417">
                    <div class="item-content">
                        <a href="https://www.nanshangeneral.com.tw/download" target="_blank">å—å±±ç”¢ç‰©-å„ç¨®è¡¨æ ¼ä¸‹è¼‰</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="å—å±±ç”¢ç‰©-å„ç¨®è¡¨æ ¼ä¸‹è¼‰">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshangeneral.com.tw/download">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1753781408831">
                    <div class="item-content">
                        <a href="https://www.nanshangeneral.com.tw/line" target="_blank">è«‹åŠ å…¥å€‹äººåŒ–LINEé€šçŸ¥æœå‹™</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="è«‹åŠ å…¥å€‹äººåŒ–LINEé€šçŸ¥æœå‹™">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshangeneral.com.tw/line">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1761444396694">
                    <div class="item-content">
                        <a href="#" target="_blank" style="color: #fe0101;">æ—…éŠä¸ä¾¿éšªç›¸é—œæœå‹™</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="æ—…éŠä¸ä¾¿éšªç›¸é—œæœå‹™">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="#">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1753781292328">
                    <div class="item-content">
                        <a href="https://www.nanshangeneral.com.tw/PublicWebGeneral/flight_delay.html" target="_blank">ä¸ä¾¿éšª:é£›æ©Ÿå»¶èª¤å³æ™‚ç”³è«‹ç†è³ æµç¨‹</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="ä¸ä¾¿éšª:é£›æ©Ÿå»¶èª¤å³æ™‚ç”³è«‹ç†è³ æµç¨‹">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshangeneral.com.tw/PublicWebGeneral/flight_delay.html">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1753781337969">
                    <div class="item-content">
                        <a href="https://www.nanshangeneral.com.tw/240" target="_blank">æ—…éŠå¹³å®‰éšª:ç†è³ æ–‡ä»¶åŠå•é¡Œèªªæ˜</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="æ—…éŠå¹³å®‰éšª:ç†è³ æ–‡ä»¶åŠå•é¡Œèªªæ˜">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshangeneral.com.tw/240">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1753781360094">
                    <div class="item-content">
                        <a href="https://www.nanshangeneral.com.tw/service-119?tabTitle=%E8%A1%8C%E6%94%BF%E5%8F%8A%E6%97%85%E9%81%8A%E8%B3%87%E8%A8%8A%E5%8D%94%E5%8A%A9" target="_blank">æµ·å¤–ç·Šæ€¥æ•‘æ´å°ˆç·šåŠç›¸é—œèªªæ˜</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="æµ·å¤–ç·Šæ€¥æ•‘æ´å°ˆç·šåŠç›¸é—œèªªæ˜">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshangeneral.com.tw/service-119?tabTitle=%E8%A1%8C%E6%94%BF%E5%8F%8A%E6%97%85%E9%81%8A%E8%B3%87%E8%A8%8A%E5%8D%94%E5%8A%A9">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1761444434455">
                    <div class="item-content">
                        <a href="#" target="_blank" style="color: #ff0505;">è»Šéšªç›¸é—œæœå‹™</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="è»Šéšªç›¸é—œæœå‹™">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="#">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1753781270000">
                    <div class="item-content">
                        <a href="https://www.nanshangeneral.com.tw/contactus?tabTitle=%E5%8C%97%E5%8D%80&amp;page=1" target="_blank">æ±½è»Šæ‹–åŠæœå‹™å°ˆç·šåŠå…¨çœæœå‹™æ“šé»</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="æ±½è»Šæ‹–åŠæœå‹™å°ˆç·šåŠå…¨çœæœå‹™æ“šé»">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.nanshangeneral.com.tw/contactus?tabTitle=%E5%8C%97%E5%8D%80&amp;page=1">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                
                <div class="item" data-id="1753781320990">
                    <div class="item-content">
                        <a href="#" target="_blank">å—å±±ç”¢ç‰©å…ä»˜è²»é›»è©± :0800-020-060æŒ‰2</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="å—å±±ç”¢ç‰©å…ä»˜è²»é›»è©± :0800-020-060æŒ‰2">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="#">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
            
                
            
                
            
                <div class="item" data-id="1761444604060">
                    <div class="item-content" style="display: block;">
                        <a href="https://notebooklm.google.com/notebook/2357da7b-cc3e-4bb1-b5af-88ba09d62456" target="_blank" style="color: black;">è»Šç¦è™•ç†èˆ‡æ³•å¾‹è²¬ä»»æŸ¥è©¢AI</a>
                    </div>
                    <div class="item-edit-form" style="display: none;">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="è»Šç¦è™•ç†èˆ‡æ³•å¾‹è²¬ä»»æŸ¥è©¢AI">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="#">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item" style="">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
            </div>
                    <button class="add-item-btn edit-mode-item">ï¼‹ æ–°å¢é …ç›®</button>
                </section>
                <section class="block" data-id="1753780845204">
                    <div class="block-header">
                        <h2 class="block-title" title="é»æ“Šä»¥ç·¨è¼¯å€å¡Šæ¨™é¡Œ">ä»²å¹³-æœå‹™è³‡æº</h2>
                        <div class="block-controls edit-mode-item">
                            <button class="move-block-up" title="ä¸Šç§»">â†‘</button>
                            <button class="move-block-down" title="ä¸‹ç§»">â†“</button>
                            <button class="delete-block" title="åˆªé™¤å€å¡Š">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <div class="item-list">
                <div class="item" data-id="1753786051397">
                    <div class="item-content">
                        <a href="https://drive.google.com/file/d/1rKt8lNDBWCZNoAlzn1HriZUvEVdxAi3v/view?usp=sharing" target="_blank">å…è²¼éƒµç¥¨å›å‡½</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="å…è²¼éƒµç¥¨å›å‡½">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://drive.google.com/file/d/1rKt8lNDBWCZNoAlzn1HriZUvEVdxAi3v/view?usp=sharing">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1753781492160">
                    <div class="item-content" style="display: block;">
                        <a href="#" target="_blank">ä»²å¹³é›»å­éƒµä»¶ä¿¡ç®± : abc0480@gmail.com</a>
                    </div>
                    <div class="item-edit-form" style="display: none;">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="ä»²å¹³é›»å­éƒµä»¶ä¿¡ç®±">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="mail to : abc0480@gmail.com">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item" style="">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="item" data-id="1753781886630">
                    <div class="item-content">
                        <a href="#" target="_blank">LINE ID : 0932218851</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç§°" value="LINE ID : 0932218851">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="#">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
                <div class="item" data-id="1753786081409">
                    <div class="item-content">
                        <a href="#" target="_blank">æ‰‹æ©Ÿè™Ÿç¢¼ : 0932218851</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç§°" value="æ‰‹æ©Ÿè™Ÿç¢¼ : 0932218851">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="#">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div><div class="item" data-id="1753782085684">
                    <div class="item-content">
                        <a href="https://www.youtube.com/channel/UCHNl9TQDWCSIPffKsGCLhkw" target="_blank">ä¿ç ”å¿«ä¿®ç«™</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç§°" value="ä¿ç ”å¿«ä¿®ç«™">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="https://www.youtube.com/channel/UCHNl9TQDWCSIPffKsGCLhkw">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
            </div>
                    <button class="add-item-btn edit-mode-item">ï¼‹ æ–°å¢é …ç›®</button>
                </section>
            </main>
    </div>

    <div id="add-item-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>æ–°å¢é …ç›®</h3>
            <div class="modal-form-group">
                <label for="item-library-select">å¾è³‡æ–™åº«ä¸­é¸æ“‡</label>
                <select id="item-library-select"><option value="new">--- è«‹é¸æ“‡æˆ–è‡ªè¡Œè¼¸å…¥ ---</option><option value="{&quot;name&quot;:&quot;â›°ï¸ğŸ›¡ï¸å—å±±äººå£½ä¿å–®æ ¡æ­£è¡¨&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#f90606&quot;,&quot;id&quot;:&quot;lib-1758039397462&quot;}" style="color: rgb(249, 6, 6); font-weight: bold;">â›°ï¸ğŸ›¡ï¸å—å±±äººå£½ä¿å–®æ ¡æ­£è¡¨</option><option value="{&quot;name&quot;:&quot;ğŸ”ï¸ğŸ å—å±±ç”¢ç‰©--ç¸½è¡¨&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#064b12&quot;,&quot;id&quot;:&quot;lib-1758100273321&quot;}" style="color: rgb(6, 75, 18); font-weight: bold;">ğŸ”ï¸ğŸ å—å±±ç”¢ç‰©--ç¸½è¡¨</option><option value="{&quot;name&quot;:&quot;ğŸ ğŸ”¥ä½å®…ç«éšª&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#f20202&quot;,&quot;id&quot;:&quot;lib-1758039464230&quot;}" style="color: rgb(242, 2, 2); font-weight: bold;">ğŸ ğŸ”¥ä½å®…ç«éšª</option><option value="{&quot;name&quot;:&quot;ğŸ’°ğŸ§˜â€â™‚ï¸é‡‘å¦‚æ„å€‹äººæ„å¤–éšª&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#f50505&quot;,&quot;id&quot;:&quot;lib-1758039478988&quot;}" style="color: rgb(245, 5, 5); font-weight: bold;">ğŸ’°ğŸ§˜â€â™‚ï¸é‡‘å¦‚æ„å€‹äººæ„å¤–éšª</option><option value="{&quot;name&quot;:&quot;ğŸ“„ğŸ“Šä¿å–®æ ¡æ­£åˆ†æå ±å‘Š&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#ff0512&quot;,&quot;id&quot;:&quot;lib-1758039374761&quot;}" style="color: rgb(255, 5, 18); font-weight: bold;">ğŸ“„ğŸ“Šä¿å–®æ ¡æ­£åˆ†æå ±å‘Š</option><option value="{&quot;name&quot;:&quot;ğŸ©ºğŸ—£ï¸ä¿å–®å¥æª¢èªéŸ³åˆ†æ&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#f50000&quot;,&quot;id&quot;:&quot;lib-1758039330676&quot;}" style="color: rgb(245, 0, 0); font-weight: bold;">ğŸ©ºğŸ—£ï¸ä¿å–®å¥æª¢èªéŸ³åˆ†æ</option><option value="{&quot;name&quot;:&quot;ğŸš—ğŸ›¡ï¸æ±½è»Šéšª-ğŸ’»&quot;,&quot;url&quot;:&quot;C:\\Users\\æä»²å¹³\\Desktop\\æˆ‘çš„HTMLç³»çµ±\\ç¨‹å¼-æ•…äº‹æ›¸ç”¢ç”Ÿå™¨\\æ±½è»Šä¿éšª\\å°ææ–°è»Šçš„å¥‡å¹»ä¹‹-æ•…äº‹\\car_insurance_storybook.html&quot;,&quot;color&quot;:&quot;#f90606&quot;,&quot;id&quot;:&quot;lib-1758103441719&quot;}" style="color: rgb(249, 6, 6); font-weight: bold;">ğŸš—ğŸ›¡ï¸æ±½è»Šéšª-ğŸ’»</option><option value="{&quot;name&quot;:&quot;ğŸš—ğŸ›¡ï¸æ±½è»Šéšª-ğŸ“&quot;,&quot;url&quot;:&quot;https://drive.google.com/file/d/1I7QmEN6IN13dUD5dHxF5hkW_tJlDpF6g/view?usp=sharing&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758103594280&quot;}" style="color: rgb(0, 0, 0);">ğŸš—ğŸ›¡ï¸æ±½è»Šéšª-ğŸ“</option><option value="{&quot;name&quot;:&quot;ğŸ›µğŸ›¡ï¸æ©Ÿè»Šéšª&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#ff0000&quot;,&quot;id&quot;:&quot;lib-1758039498411&quot;}" style="color: rgb(255, 0, 0); font-weight: bold;">ğŸ›µğŸ›¡ï¸æ©Ÿè»Šéšª</option><option value="{&quot;name&quot;:&quot;æŠ•ä¿ç´€éŒ„&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758039696261&quot;}" style="color: rgb(0, 0, 0);">æŠ•ä¿ç´€éŒ„</option><option value="{&quot;name&quot;:&quot;æŠ•è³‡å‹ä¿å–®åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼åˆ†æ--å ±è¡¨&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758039649399&quot;}" style="color: rgb(0, 0, 0);">æŠ•è³‡å‹ä¿å–®åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼åˆ†æ--å ±è¡¨</option><option value="{&quot;name&quot;:&quot;æŠ•è³‡å‹ä¿å–®åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼åˆ†æ-èªéŸ³&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758039613152&quot;}" style="color: rgb(0, 0, 0);">æŠ•è³‡å‹ä¿å–®åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼åˆ†æ-èªéŸ³</option><option value="{&quot;name&quot;:&quot;è»Šéšªç›¸é—œæœå‹™&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#ff0505&quot;,&quot;id&quot;:&quot;lib-1761444312687&quot;}" style="color: rgb(255, 5, 5); font-weight: bold;">è»Šéšªç›¸é—œæœå‹™</option><option value="{&quot;name&quot;:&quot;æœå‹™ç´€éŒ„&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758039712730&quot;}" style="color: rgb(0, 0, 0);">æœå‹™ç´€éŒ„</option><option value="{&quot;name&quot;:&quot;ä¿å–®æ ¡æ­£åˆ†æå ±å‘Š--&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758039564638&quot;}" style="color: rgb(0, 0, 0);">ä¿å–®æ ¡æ­£åˆ†æå ±å‘Š--</option><option value="{&quot;name&quot;:&quot;ä¿å–®å¥æª¢èªéŸ³åˆ†æ--&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758039525067&quot;}" style="color: rgb(0, 0, 0);">ä¿å–®å¥æª¢èªéŸ³åˆ†æ--</option><option value="{&quot;name&quot;:&quot;å—å±±äººå£½ä¿å–®æ ¡æ­£è¡¨--&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758039579520&quot;}" style="color: rgb(0, 0, 0);">å—å±±äººå£½ä¿å–®æ ¡æ­£è¡¨--</option><option value="{&quot;name&quot;:&quot;æ—…éŠä¸ä¾¿éšªç›¸é—œæœå‹™&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#fe0101&quot;,&quot;id&quot;:&quot;lib-1761444344686&quot;}" style="color: rgb(254, 1, 1); font-weight: bold;">æ—…éŠä¸ä¾¿éšªç›¸é—œæœå‹™</option><option value="{&quot;name&quot;:&quot;ç†è³ ç´€éŒ„&quot;,&quot;url&quot;:&quot;&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;id&quot;:&quot;lib-1758039729790&quot;}" style="color: rgb(0, 0, 0);">ç†è³ ç´€éŒ„</option></select>
            </div>
            <div id="manual-item-entry" style="display: block;">
                <div class="modal-form-group">
                    <label for="new-item-name">è‡ªè¡Œè¼¸å…¥é …ç›®åç¨±</label>
                    <input type="text" id="new-item-name" placeholder="">
                </div>
                <div class="modal-form-group">
                    <label for="new-item-url">é€£çµ URL</label>
                    <input type="url" id="new-item-url" placeholder="https://example.com">
                </div>
            </div>
            <div class="modal-controls">
                <button id="cancel-add-item-btn">å–æ¶ˆ</button>
                <button id="confirm-add-item-btn" class="primary-action">ç¢ºèªæ–°å¢</button>
            </div>
        </div>
    </div>
    
    <div id="add-block-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>æ–°å¢å€å¡Š</h3>
            <div class="modal-form-group">
                <label for="new-block-title">è«‹è¼¸å…¥æ–°æ¨™é¡Œ</label>
                <input type="text" id="new-block-title" placeholder="ä¾‹å¦‚ï¼šå®¢æˆ¶Aç›¸é—œé€£çµ">
            </div>
            <div class="modal-controls">
                <button id="cancel-add-block-btn">å–æ¶ˆ</button>
                <button id="confirm-add-block-btn" class="primary-action">ç¢ºèªæ–°å¢</button>
            </div>
        </div>
    </div>
    
    <div id="manage-library-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>ç®¡ç†å…¨åŸŸé …ç›®åº«</h3>
            
            <div class="top-modal-controls">
                <button id="add-to-library-continue-btn">æ–°å¢å¾Œç¹¼çºŒ</button>
                <button id="add-to-library-close-btn" class="primary-action">æ–°å¢ä¸¦é—œé–‰</button>
                <button id="close-library-modal-btn">é—œé–‰è¦–çª—</button>
            </div>

            <p>æ‚¨å¯ä»¥åœ¨ä¸‹æ–¹æŸ¥çœ‹ã€æ–°å¢æˆ–åˆªé™¤é …ç›®åº«ä¸­çš„å…§å®¹ã€‚</p>

            <div class="modal-form-group">
                <label>ç›®å‰åº«å­˜é …ç›®</label>
                <div id="library-items-list"><div class="library-item" data-id="lib-1758039397462">
                    <div class="library-item-info" title="â›°ï¸ğŸ›¡ï¸å—å±±äººå£½ä¿å–®æ ¡æ­£è¡¨
ç„¡é€£çµ">
                        <strong style="color: #f90606;">â›°ï¸ğŸ›¡ï¸å—å±±äººå£½ä¿å–®æ ¡æ­£è¡¨</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758100273321">
                    <div class="library-item-info" title="ğŸ”ï¸ğŸ å—å±±ç”¢ç‰©--ç¸½è¡¨
ç„¡é€£çµ">
                        <strong style="color: #064b12;">ğŸ”ï¸ğŸ å—å±±ç”¢ç‰©--ç¸½è¡¨</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039464230">
                    <div class="library-item-info" title="ğŸ ğŸ”¥ä½å®…ç«éšª
ç„¡é€£çµ">
                        <strong style="color: #f20202;">ğŸ ğŸ”¥ä½å®…ç«éšª</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039478988">
                    <div class="library-item-info" title="ğŸ’°ğŸ§˜â€â™‚ï¸é‡‘å¦‚æ„å€‹äººæ„å¤–éšª
ç„¡é€£çµ">
                        <strong style="color: #f50505;">ğŸ’°ğŸ§˜â€â™‚ï¸é‡‘å¦‚æ„å€‹äººæ„å¤–éšª</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039374761">
                    <div class="library-item-info" title="ğŸ“„ğŸ“Šä¿å–®æ ¡æ­£åˆ†æå ±å‘Š
ç„¡é€£çµ">
                        <strong style="color: #ff0512;">ğŸ“„ğŸ“Šä¿å–®æ ¡æ­£åˆ†æå ±å‘Š</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039330676">
                    <div class="library-item-info" title="ğŸ©ºğŸ—£ï¸ä¿å–®å¥æª¢èªéŸ³åˆ†æ
ç„¡é€£çµ">
                        <strong style="color: #f50000;">ğŸ©ºğŸ—£ï¸ä¿å–®å¥æª¢èªéŸ³åˆ†æ</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758103441719">
                    <div class="library-item-info" title="ğŸš—ğŸ›¡ï¸æ±½è»Šéšª-ğŸ’»
C:\Users\æä»²å¹³\Desktop\æˆ‘çš„HTMLç³»çµ±\ç¨‹å¼-æ•…äº‹æ›¸ç”¢ç”Ÿå™¨\æ±½è»Šä¿éšª\å°ææ–°è»Šçš„å¥‡å¹»ä¹‹-æ•…äº‹\car_insurance_storybook.html">
                        <strong style="color: #f90606;">ğŸš—ğŸ›¡ï¸æ±½è»Šéšª-ğŸ’»</strong>
                        <small>C:\Users\æä»²å¹³\Desktop\æˆ‘çš„HTMLç³»çµ±\ç¨‹å¼-æ•…äº‹æ›¸ç”¢ç”Ÿå™¨\æ±½è»Šä¿éšª\å°ææ–°è»Šçš„å¥‡å¹»ä¹‹-æ•…äº‹\car_insurance_storybook.html</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758103594280">
                    <div class="library-item-info" title="ğŸš—ğŸ›¡ï¸æ±½è»Šéšª-ğŸ“
https://drive.google.com/file/d/1I7QmEN6IN13dUD5dHxF5hkW_tJlDpF6g/view?usp=sharing">
                        <strong style="color: #000000;">ğŸš—ğŸ›¡ï¸æ±½è»Šéšª-ğŸ“</strong>
                        <small>https://drive.google.com/file/d/1I7QmEN6IN13dUD5dHxF5hkW_tJlDpF6g/view?usp=sharing</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039498411">
                    <div class="library-item-info" title="ğŸ›µğŸ›¡ï¸æ©Ÿè»Šéšª
ç„¡é€£çµ">
                        <strong style="color: #ff0000;">ğŸ›µğŸ›¡ï¸æ©Ÿè»Šéšª</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039696261">
                    <div class="library-item-info" title="æŠ•ä¿ç´€éŒ„
ç„¡é€£çµ">
                        <strong style="color: #000000;">æŠ•ä¿ç´€éŒ„</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039649399">
                    <div class="library-item-info" title="æŠ•è³‡å‹ä¿å–®åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼åˆ†æ--å ±è¡¨
ç„¡é€£çµ">
                        <strong style="color: #000000;">æŠ•è³‡å‹ä¿å–®åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼åˆ†æ--å ±è¡¨</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039613152">
                    <div class="library-item-info" title="æŠ•è³‡å‹ä¿å–®åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼åˆ†æ-èªéŸ³
ç„¡é€£çµ">
                        <strong style="color: #000000;">æŠ•è³‡å‹ä¿å–®åŠ å€¼çµ¦ä»˜èˆ‡åƒ¹å€¼åˆ†æ-èªéŸ³</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1761444312687">
                    <div class="library-item-info" title="è»Šéšªç›¸é—œæœå‹™
ç„¡é€£çµ">
                        <strong style="color: #ff0505;">è»Šéšªç›¸é—œæœå‹™</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039712730">
                    <div class="library-item-info" title="æœå‹™ç´€éŒ„
ç„¡é€£çµ">
                        <strong style="color: #000000;">æœå‹™ç´€éŒ„</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039564638">
                    <div class="library-item-info" title="ä¿å–®æ ¡æ­£åˆ†æå ±å‘Š--
ç„¡é€£çµ">
                        <strong style="color: #000000;">ä¿å–®æ ¡æ­£åˆ†æå ±å‘Š--</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039525067">
                    <div class="library-item-info" title="ä¿å–®å¥æª¢èªéŸ³åˆ†æ--
ç„¡é€£çµ">
                        <strong style="color: #000000;">ä¿å–®å¥æª¢èªéŸ³åˆ†æ--</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039579520">
                    <div class="library-item-info" title="å—å±±äººå£½ä¿å–®æ ¡æ­£è¡¨--
ç„¡é€£çµ">
                        <strong style="color: #000000;">å—å±±äººå£½ä¿å–®æ ¡æ­£è¡¨--</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1761444344686">
                    <div class="library-item-info" title="æ—…éŠä¸ä¾¿éšªç›¸é—œæœå‹™
ç„¡é€£çµ">
                        <strong style="color: #fe0101;">æ—…éŠä¸ä¾¿éšªç›¸é—œæœå‹™</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div><div class="library-item" data-id="lib-1758039729790">
                    <div class="library-item-info" title="ç†è³ ç´€éŒ„
ç„¡é€£çµ">
                        <strong style="color: #000000;">ç†è³ ç´€éŒ„</strong>
                        <small>ç„¡é€£çµ</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                </div></div>
            </div>
            <hr>
            <h4>æ–°å¢è‡³é …ç›®åº«</h4>
            <div class="modal-form-group">
                <label for="lib-new-item-name">é¡¯ç¤ºåç¨± (å¿…è¦)</label>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <input type="text" id="lib-new-item-name" placeholder="ä¾‹å¦‚ï¼šå¸¸ç”¨å ±è¡¨ç³»çµ±" style="flex-grow: 1; color: rgb(0, 0, 0);">
                    <input type="color" id="lib-new-item-color" title="é¸æ“‡æ–‡å­—é¡è‰²" value="#000000" style="width: 25px; height: 25px; padding: 2px;">
                    </div>
            </div>
            <div class="modal-form-group">
                <label for="lib-new-item-url">é€£çµ URL (éå¿…è¦)</label>
                <input type="url" id="lib-new-item-url" placeholder="å¯ç•™ç©º">
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- é é¢èº«åˆ†è­‰æ©Ÿåˆ¶ (é‚è¼¯ä¸è®Š) ---
        let pageId = document.body.dataset.pageId;
        if (!pageId) {
            pageId = 'page-' + Date.now();
            document.body.dataset.pageId = pageId;
        }

        // --- DOM å…ƒç´ é¸æ“‡ (ç„¡æ–°å¢) ---
        const pageTitle = document.getElementById('page-title');
        const mainContainer = document.getElementById('main-container');
        const addBlockBtn = document.getElementById('add-block-btn');
        const editModeToggle = document.getElementById('edit-mode-toggle');
        const saveBtn = document.getElementById('save-btn');
        const addItemModal = document.getElementById('add-item-modal');
        const itemLibrarySelect = document.getElementById('item-library-select');
        const manualItemEntry = document.getElementById('manual-item-entry');
        const newItemNameInput = document.getElementById('new-item-name');
        const newItemUrlInput = document.getElementById('new-item-url');
        const confirmAddItemBtn = document.getElementById('confirm-add-item-btn');
        const cancelAddItemBtn = document.getElementById('cancel-add-item-btn');
        const addBlockModal = document.getElementById('add-block-modal');
        const newBlockTitleInput = document.getElementById('new-block-title');
        const confirmAddBlockBtn = document.getElementById('confirm-add-block-btn');
        const cancelAddBlockBtn = document.getElementById('cancel-add-block-btn');
        const manageLibraryBtn = document.getElementById('manage-library-btn');
        const manageLibraryModal = document.getElementById('manage-library-modal');
        const libraryItemsList = document.getElementById('library-items-list');
        const libNewItemNameInput = document.getElementById('lib-new-item-name');
        const libNewItemUrlInput = document.getElementById('lib-new-item-url');
        const libNewItemColorInput = document.getElementById('lib-new-item-color');
        const addToLibraryContinueBtn = document.getElementById('add-to-library-continue-btn');
        const addToLibraryCloseBtn = document.getElementById('add-to-library-close-btn');
        const closeLibraryModalBtn = document.getElementById('close-library-modal-btn');

        // --- ç‹€æ…‹èˆ‡è³‡æ–™ (é‚è¼¯ä¸è®Š) ---
        const CONTENT_STORAGE_KEY = `portalPageContent-${pageId}`;
        const GLOBAL_LIBRARY_KEY = `portalGlobalItemLibrary`;
        let globalItemLibrary = [];
        let currentAddItemTargetList = null; 

        // --- æ ¸å¿ƒè³‡æ–™å­˜å–å‡½æ•¸ (é‚è¼¯ä¸è®Š) ---
        const savePageContent = () => {
            const dataToSave = {
                title: pageTitle.textContent,
                content: mainContainer.innerHTML
            };
            localStorage.setItem(CONTENT_STORAGE_KEY, JSON.stringify(dataToSave));
        };
        const saveGlobalLibrary = () => {
            globalItemLibrary.sort((a, b) => a.name.localeCompare(b.name, 'zh-Hant'));
            localStorage.setItem(GLOBAL_LIBRARY_KEY, JSON.stringify(globalItemLibrary));
        };
        const loadState = () => {
            const savedLibrary = localStorage.getItem(GLOBAL_LIBRARY_KEY);
            if (savedLibrary) {
                globalItemLibrary = JSON.parse(savedLibrary);
            }
            const savedData = localStorage.getItem(CONTENT_STORAGE_KEY);
            if (savedData) {
                const data = JSON.parse(savedData);
                pageTitle.textContent = data.title;
                mainContainer.innerHTML = data.content;
                updatePageTitle();
            } else {
                if(mainContainer.children.length === 0){
                    addBlock('é è¨­å€å¡Š');
                }
            }
        };
        const addItemToGlobalLibrary = (name, url, color) => {
            const trimmedName = name.trim();
            const trimmedUrl = url.trim();
            const existingItem = globalItemLibrary.find(item => item.name === trimmedName);
            if (!existingItem) {
                globalItemLibrary.push({ name: trimmedName, url: trimmedUrl, color: color, id: 'lib-' + Date.now() });
                saveGlobalLibrary();
                return true;
            } else {
                alert(`åç¨±ç‚º "${trimmedName}" çš„é …ç›®å·²å­˜åœ¨æ–¼åº«ä¸­ï¼Œè«‹ä½¿ç”¨ä¸åŒåç¨±ã€‚`);
                return false;
            }
        };

        // --- æ ¸å¿ƒåŠŸèƒ½å‡½æ•¸ (é‚è¼¯ä¸è®Š) ---
        const toggleEditMode = () => {
            document.body.classList.toggle('edit-mode', editModeToggle.checked);
            if (!editModeToggle.checked) {
                document.querySelectorAll('.is-editing').forEach(el => {
                    el.classList.remove('is-editing');
                    if(el.classList.contains('item')){
                        toggleItemEditView(el, false);
                    }
                });
                document.querySelectorAll('[contenteditable="true"]').forEach(el => {
                    el.contentEditable = 'false';
                    savePageContent(); 
                });
            }
        };
        const makeEditable = (element) => {
            if (!editModeToggle.checked) return;
            element.style.outline = 'none';
            element.contentEditable = 'true';
            element.focus();
            document.execCommand('selectAll', false, null);
            element.addEventListener('blur', () => {
                element.contentEditable = 'false';
                element.style.outline = '';
                savePageContent();
            }, { once: true });
        };
        const updatePageTitle = () => {
            document.title = pageTitle.textContent.trim();
        };
        const addBlock = (title = 'æ–°å€å¡Š') => {
            const blockId = Date.now();
            const blockHTML = `
                <section class="block" data-id="${blockId}">
                    <div class="block-header">
                        <h2 class="block-title" title="é»æ“Šä»¥ç·¨è¼¯å€å¡Šæ¨™é¡Œ">${title}</h2>
                        <div class="block-controls edit-mode-item">
                            <button class="move-block-up" title="ä¸Šç§»">â†‘</button>
                            <button class="move-block-down" title="ä¸‹ç§»">â†“</button>
                            <button class="delete-block" title="åˆªé™¤å€å¡Š">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                    <div class="item-list"></div>
                    <button class="add-item-btn edit-mode-item">ï¼‹ æ–°å¢é …ç›®</button>
                </section>
            `;
            mainContainer.insertAdjacentHTML('beforeend', blockHTML);
            savePageContent();
        };
        const createAndInsertItem = (itemListEl, name, url, color) => {
            const itemId = Date.now();
            const linkColor = color || 'black';
            const itemHTML = `
                <div class="item" data-id="${itemId}">
                    <div class="item-content">
                        <a href="${url || '#'}" target="_blank" style="color: ${linkColor};">${name}</a>
                    </div>
                    <div class="item-edit-form">
                        <input type="text" class="edit-item-name" placeholder="é¡¯ç¤ºåç¨±" value="${name}">
                        <input type="url" class="edit-item-url" placeholder="https://example.com" value="${url || '#'}">
                        <div>
                            <button class="save-item-edit">å„²å­˜</button>
                            <button class="cancel-item-edit">å–æ¶ˆ</button>
                        </div>
                    </div>
                    <div class="item-controls edit-mode-item">
                        <button class="edit-item" title="ç·¨è¼¯">âœï¸</button>
                        <button class="move-item-up" title="ä¸Šç§»">â†‘</button>
                        <button class="move-item-down" title="ä¸‹ç§»">â†“</button>
                        <button class="delete-item" title="åˆªé™¤">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `;
            itemListEl.insertAdjacentHTML('beforeend', itemHTML);
            savePageContent();
        };
        const toggleItemEditView = (itemEl, showEdit) => {
            const contentView = itemEl.querySelector('.item-content');
            const editForm = itemEl.querySelector('.item-edit-form');
            const controlsView = itemEl.querySelector('.item-controls');
            contentView.style.display = showEdit ? 'none' : 'block';
            editForm.style.display = showEdit ? 'flex' : 'none';
            controlsView.style.display = showEdit ? 'none' : '';
            if(showEdit){ itemEl.classList.add('is-editing'); } 
            else { itemEl.classList.remove('is-editing'); }
        };
        const saveItemEdit = (btn) => {
            const itemEl = btn.closest('.item');
            const nameInput = itemEl.querySelector('.edit-item-name');
            const urlInput = itemEl.querySelector('.edit-item-url');
            const link = itemEl.querySelector('.item-content a');
            link.textContent = nameInput.value;
            link.href = urlInput.value || '#';
            toggleItemEditView(itemEl, false);
            savePageContent();
        };
        const moveElement = (element, direction) => {
            const parent = element.parentNode;
            if (direction === 'up') {
                const previousSibling = element.previousElementSibling;
                if (previousSibling) parent.insertBefore(element, previousSibling);
            } else if (direction === 'down') {
                const nextSibling = element.nextElementSibling;
                if (nextSibling) parent.insertBefore(nextSibling, element);
            }
            savePageContent();
        };
        const saveAndDownload = () => {
            const newDocument = document.documentElement.cloneNode(true);
            const newId = 'page-' + Date.now();
            newDocument.querySelector('body').dataset.pageId = newId;
            newDocument.querySelector('body').classList.remove('edit-mode');
            const editToggle = newDocument.querySelector('#edit-mode-toggle');
            if (editToggle) {
                editToggle.checked = false;
            }
            const htmlContent = `<!DOCTYPE html>\n` + newDocument.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
            const link = document.createElement('a');
            const newFileName = pageTitle.textContent.trim() || 'portal';
            link.href = URL.createObjectURL(blob);
            link.download = `${newFileName}-${new Date().toISOString().slice(0,10)}.html`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(link.href);
            alert('å…·å‚™å®Œæ•´ç·¨è¼¯åŠŸèƒ½çš„æ–°æª”æ¡ˆå·²æˆåŠŸç”¢ç”Ÿä¸¦é–‹å§‹ä¸‹è¼‰ï¼');
        };

        // --- Modal ç›¸é—œå‡½æ•¸ (é‚è¼¯ä¸è®Š) ---
        const showAddItemModal = (btn) => {
            currentAddItemTargetList = btn.closest('.block').querySelector('.item-list');
            itemLibrarySelect.innerHTML = '<option value="new">--- è«‹é¸æ“‡æˆ–è‡ªè¡Œè¼¸å…¥ ---</option>';
            globalItemLibrary.forEach(item => {
                const option = document.createElement('option');
                option.value = JSON.stringify(item);
                option.textContent = item.name;
                option.style.color = item.color || 'black';
                if ((item.color || '#000000').toLowerCase() !== '#000000') {
                    option.style.fontWeight = 'bold';
                }
                itemLibrarySelect.appendChild(option);
            });
            itemLibrarySelect.value = 'new';
            manualItemEntry.style.display = 'block';
            newItemNameInput.value = '';
            newItemUrlInput.value = '';
            addItemModal.style.display = 'flex';
            newItemNameInput.focus();
        };
        const closeAddItemModal = () => {
            addItemModal.style.display = 'none';
            currentAddItemTargetList = null;
        };
        const showAddBlockModal = () => {
            newBlockTitleInput.value = '';
            addBlockModal.style.display = 'flex';
            newBlockTitleInput.focus();
        };
        const closeAddBlockModal = () => {
            addBlockModal.style.display = 'none';
        };
        const populateLibraryManagementList = () => {
            libraryItemsList.innerHTML = ''; 
            if (globalItemLibrary.length === 0) {
                libraryItemsList.innerHTML = '<p style="text-align:center; color: var(--secondary-color);">é …ç›®åº«æ˜¯ç©ºçš„ã€‚</p>';
                return;
            }
            globalItemLibrary.forEach(item => {
                const itemEl = document.createElement('div');
                itemEl.className = 'library-item';
                itemEl.dataset.id = item.id;
                const itemColor = item.color || '#000000';
                itemEl.innerHTML = `
                    <div class="library-item-info" title="${item.name}\n${item.url || 'ç„¡é€£çµ'}">
                        <strong style="color: ${itemColor};">${item.name}</strong>
                        <small>${item.url || 'ç„¡é€£çµ'}</small>
                    </div>
                    <button class="delete-library-item" title="å¾åº«ä¸­åˆªé™¤">ğŸ—‘ï¸</button>
                `;
                libraryItemsList.appendChild(itemEl);
            });
        };
        const showManageLibraryModal = () => {
            populateLibraryManagementList();
            manageLibraryModal.style.display = 'flex';
        };
        const closeManageLibraryModal = () => {
            manageLibraryModal.style.display = 'none';
        };
        const handleAddToLibrary = (shouldClose) => {
            const name = libNewItemNameInput.value.trim();
            const url = libNewItemUrlInput.value.trim();
            const color = libNewItemColorInput.value;
            if (!name) {
                alert('é¡¯ç¤ºåç¨±ä¸å¯ç‚ºç©ºï¼');
                return;
            }
            if (addItemToGlobalLibrary(name, url, color)) {
                libNewItemNameInput.value = '';
                libNewItemUrlInput.value = '';
                libNewItemNameInput.style.color = '#000000';
                libNewItemColorInput.value = '#000000';
                populateLibraryManagementList();
                if (shouldClose) {
                    closeManageLibraryModal();
                } else {
                    libNewItemNameInput.focus();
                }
            }
        };

        // --- äº‹ä»¶ç›£è½å™¨ (é‚è¼¯ä¸è®Š) ---
        mainContainer.addEventListener('click', (e) => {
            const target = e.target;
            const block = target.closest('.block');
            const item = target.closest('.item');
            if (target.matches('.block-title')) { makeEditable(target); }
            if (target.matches('.delete-block')) {
                if (confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹å€å¡ŠåŠå…¶æ‰€æœ‰å…§å®¹å—ï¼Ÿ')) {
                    block.remove();
                    savePageContent();
                }
            }
            if (target.matches('.move-block-up')) { moveElement(block, 'up'); }
            if (target.matches('.move-block-down')) { moveElement(block, 'down'); }
            if (target.matches('.add-item-btn')) { showAddItemModal(target); }
            if (!item) return;
            if (target.matches('.edit-item')) { toggleItemEditView(item, true); }
            if (target.matches('.save-item-edit')) { saveItemEdit(target); }
            if (target.matches('.cancel-item-edit')) {
                const nameInput = item.querySelector('.edit-item-name');
                const urlInput = item.querySelector('.edit-item-url');
                const link = item.querySelector('.item-content a');
                nameInput.value = link.textContent;
                urlInput.value = link.href;
                toggleItemEditView(item, false);
            }
            if (target.matches('.delete-item')) {
                if (confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹é …ç›®å—ï¼Ÿ')) {
                    item.remove();
                    savePageContent();
                }
            }
            if (target.matches('.move-item-up')) { moveElement(item, 'up'); }
            if (target.matches('.move-item-down')) { moveElement(item, 'down'); }
        });
        itemLibrarySelect.addEventListener('change', () => {
            manualItemEntry.style.display = (itemLibrarySelect.value === 'new') ? 'block' : 'none';
            if (itemLibrarySelect.value === 'new') newItemNameInput.focus();
        });
        confirmAddItemBtn.addEventListener('click', () => {
            if (!currentAddItemTargetList) return;
            let name, url, color;
            if (itemLibrarySelect.value === 'new') {
                name = newItemNameInput.value.trim();
                url = newItemUrlInput.value.trim();
                color = null;
                if (!name) {
                    alert('è«‹è¼¸å…¥é¡¯ç¤ºåç¨±ï¼');
                    return;
                }
            } else {
                const selectedItem = JSON.parse(itemLibrarySelect.value);
                name = selectedItem.name;
                url = selectedItem.url;
                color = selectedItem.color;
            }
            createAndInsertItem(currentAddItemTargetList, name, url, color);
            closeAddItemModal();
        });
        cancelAddItemBtn.addEventListener('click', closeAddItemModal);
        editModeToggle.addEventListener('change', toggleEditMode);
        if(saveBtn) { saveBtn.addEventListener('click', saveAndDownload); }
        addBlockBtn.addEventListener('click', showAddBlockModal);
        pageTitle.addEventListener('click', () => makeEditable(pageTitle));
        pageTitle.addEventListener('input', () => {
            updatePageTitle(); 
            setTimeout(savePageContent, 500);
        });
        confirmAddBlockBtn.addEventListener('click', () => {
            let title = newBlockTitleInput.value.trim();
            if (!title) {
                alert('è«‹è¼¸å…¥å€å¡Šæ¨™é¡Œï¼');
                return;
            }
            addBlock(title);
            closeAddBlockModal();
        });
        cancelAddBlockBtn.addEventListener('click', closeAddBlockModal);
        manageLibraryBtn.addEventListener('click', showManageLibraryModal);
        addToLibraryContinueBtn.addEventListener('click', () => handleAddToLibrary(false));
        addToLibraryCloseBtn.addEventListener('click', () => handleAddToLibrary(true));
        libraryItemsList.addEventListener('click', (e) => {
            if(e.target.matches('.delete-library-item')) {
                const itemEl = e.target.closest('.library-item');
                const itemId = itemEl.dataset.id;
                const itemText = itemEl.querySelector('strong').textContent;
                if (confirm(`ç¢ºå®šè¦å¾å…¨åŸŸé …ç›®åº«ä¸­æ°¸ä¹…åˆªé™¤ "${itemText}" å—ï¼Ÿ\n(é€™ä¸æœƒå½±éŸ¿å·²æ–°å¢åˆ°é é¢ä¸Šçš„é …ç›®)`)) {
                    globalItemLibrary = globalItemLibrary.filter(item => item.id !== itemId);
                    saveGlobalLibrary();
                    populateLibraryManagementList();
                }
            }
        });
        closeLibraryModalBtn.addEventListener('click', closeManageLibraryModal);
        libNewItemColorInput.addEventListener('input', () => {
            libNewItemNameInput.style.color = libNewItemColorInput.value;
        });

        // --- é é¢åˆå§‹åŒ– ---
        loadState();
        toggleEditMode();
    });
    </script>

</body></html>