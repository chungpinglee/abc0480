<html lang="zh-TW"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjI2NmM5YTIxZDM4NGQzZmU0OGMyZjNhYjNiZmE1NjQ0Yzk0ZmY3Y2UiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIxNDY1NDIwNDMxMzMyNzg4OTg5NyIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjXzJlNTFmNTgyZTgyYWMwYTdfU1RFUC0z6YeR5aW95L2PMi4w6LyU5Yqp6Kqq5piONC00Lmh0bWwtNTczIn0sImV4cCI6MTc2OTE2NTU3OCwiaWF0IjoxNzY5MTYxOTc4LCJhbGciOiJSUzI1NiJ9.CDPXVlz-RvijXHKdrGuvwCzCzgEy_7woMtmxNBbfnhBfxIzTWuU1kpSbYILSN97PLeSQaIz1cYi0AXRkWSzWCBg_PuhRu4blu_E-yhkA6_qDhzKzSkiYVmP1QIUxMWh5DZaBX3aCh8UpHgeUBQwGAtQWQMQXszgtlr7mqO-o7uA-gkTB6z5wBlZB_VDagOzanYW6Mru03BnjU6nSkDfGOP9qVhl93bF2Zbk7o_RtIn8FnvM12PeM-xgHzV9TkEzTkWvGfbUPmh97RuccLvH-HUK9uR4khh9UxLkbqvyfpZ1cI1RjxatAOJ5yR9iH9PoL7dBNyxVJEvprVl8pC0rhcQ","c_2e51f582e82ac0a7_STEP-3金好住2.0輔助說明4-4.html-573")</script><script>'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-09-2025","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-3-pro-image-preview-11-2025","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金好住2.0住宅火險輔助說明</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        .paper-shadow { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        
        /* 依照要求設定表格文字樣式：微軟正黑體、12號(約16px)、黑色 */
        .table-text-custom { 
            font-family: "Microsoft JhengHei", "微軟正黑體", sans-serif !important; 
            font-size: 12pt !important; 
            color: #000000 !important;
        }

        /* 依照要求設定超連結文字樣式：藍色 */
        .link-text-blue {
            color: #2563eb !important;
            text-decoration: underline !important;
        }
        
        /* 手機模式樣式 */
        .mobile-print-mode { 
            width: 100% !important; 
            max-width: 100% !important; 
            margin: 0 !important; 
            padding: 0 !important;
            background: #f8fafc !important;
        }

        .mobile-print-mode table { width: 100% !important; table-layout: fixed !important; }
        .mobile-print-mode th, .mobile-print-mode td { padding: 4px 2px !important; word-break: break-all; }
        
        /* 連結按鈕美化 */
        .coverage-link { 
            display: inline-flex !important; 
            align-items: center !important;
            white-space: nowrap !important;
            font-size: 8.5pt !important; 
            background: linear-gradient(135deg, #ffffff 0%, #f0f7ff 100%) !important; 
            border: 1px solid #3b82f6 !important;
            padding: 2px 8px !important;
            border-radius: 4px !important;
            text-decoration: none !important;
            color: #2563eb !important; /* 藍色連結 */
            margin-top: 4px !important;
            margin-right: 4px !important;
            font-weight: 600 !important;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            transition: all 0.2s ease-in-out;
        }
        
        /* 滑鼠滑過特效 */
        .coverage-link:hover, .hover-highlight:hover {
            color: #ef4444 !important;
            background: #fefce8 !important;
            border-color: #facc15 !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .hover-highlight {
            padding: 2px 4px;
            border-radius: 4px;
            transition: all 0.2s ease-in-out;
            display: inline-block;
        }

        .link-wrapper {
            display: flex !important;
            flex-direction: row !important;
            flex-wrap: wrap !important;
            align-items: center !important;
            width: 100% !important;
        }

        @media print {
            .no-print { display: none !important; }
            @page { margin: 5mm; size: auto; }
            body { background-color: white; -webkit-print-color-adjust: exact; print-color-adjust: exact; margin: 0; padding: 0; }
            .paper-shadow { box-shadow: none; border: none; }
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.sticky{position:sticky}.top-0{top:0px}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-8{margin-bottom:2rem}.mr-1{margin-right:0.25rem}.mt-2{margin-top:0.5rem}.mb-10{margin-bottom:2.5rem}.mt-8{margin-top:2rem}.ml-1{margin-left:0.25rem}.mt-1{margin-top:0.25rem}.mb-6{margin-bottom:1.5rem}.mr-2{margin-right:0.5rem}.mt-4{margin-top:1rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.min-h-screen{min-height:100vh}.w-\[30\%\]{width:30%}.w-\[35\%\]{width:35%}.w-full{width:100%}.w-\[10\%\]{width:10%}.w-\[15\%\]{width:15%}.w-\[20\%\]{width:20%}.w-\[25\%\]{width:25%}.w-20{width:5rem}.w-64{width:16rem}.max-w-7xl{max-width:80rem}.border-collapse{border-collapse:collapse}.cursor-pointer{cursor:pointer}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-3{gap:0.75rem}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:0.25rem}.rounded-full{border-radius:9999px}.rounded-xl{border-radius:0.75rem}.rounded-lg{border-radius:0.5rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-l-8{border-left-width:8px}.border-t{border-top-width:1px}.border-blue-100{--tw-border-opacity:1;border-color:rgb(219 234 254 / var(--tw-border-opacity, 1))}.border-blue-600{--tw-border-opacity:1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-indigo-600{--tw-border-opacity:1;border-color:rgb(79 70 229 / var(--tw-border-opacity, 1))}.border-white\/40{border-color:rgb(255 255 255 / 0.4)}.border-gray-100{--tw-border-opacity:1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-yellow-300{--tw-border-opacity:1;border-color:rgb(253 224 71 / var(--tw-border-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-50\/50{background-color:rgb(239 246 255 / 0.5)}.bg-blue-700{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity:1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/20{background-color:rgb(255 255 255 / 0.2)}.bg-blue-500{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-indigo-600{--tw-bg-opacity:1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity:1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity:1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-500{--tw-bg-opacity:1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.bg-yellow-100{--tw-bg-opacity:1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity:1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-orange-600{--tw-bg-opacity:1;background-color:rgb(234 88 12 / var(--tw-bg-opacity, 1))}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-2{padding:0.5rem}.p-8{padding:2rem}.p-1{padding:0.25rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pb-20{padding-bottom:5rem}.pb-4{padding-bottom:1rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.font-sans{font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-\[8pt\]{font-size:8pt}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-\[10px\]{font-size:10px}.font-black{font-weight:900}.font-bold{font-weight:700}.font-medium{font-weight:500}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-tight{line-height:1.25}.leading-normal{line-height:1.5}.tracking-tight{letter-spacing:-0.025em}.tracking-wider{letter-spacing:0.05em}.tracking-tighter{letter-spacing:-0.05em}.text-blue-700{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-blue-900{--tw-text-opacity:1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity:1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-indigo-900{--tw-text-opacity:1;color:rgb(49 46 129 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-black{--tw-text-opacity:1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-blue-400{--tw-text-opacity:1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-white\/30:hover{background-color:rgb(255 255 255 / 0.3)}.hover\:bg-blue-600:hover{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-700:hover{--tw-bg-opacity:1;background-color:rgb(67 56 202 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-700:hover{--tw-bg-opacity:1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.hover\:bg-red-600:hover{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\:bg-green-50\/30:hover{background-color:rgb(240 253 244 / 0.3)}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-orange-700:hover{--tw-bg-opacity:1;background-color:rgb(194 65 12 / var(--tw-bg-opacity, 1))}.hover\:text-red-500:hover{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.hover\:text-red-600:hover{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}@media (min-width: 768px){.md\:mt-0{margin-top:0px}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:p-8{padding:2rem}.md\:pl-4{padding-left:1rem}.md\:text-3xl{font-size:1.875rem;line-height:2.25rem}.md\:text-xl{font-size:1.25rem;line-height:1.75rem}}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
var _React = React,
  useState = _React.useState,
  useRef = _React.useRef,
  useEffect = _React.useEffect,
  useMemo = _React.useMemo,
  useCallback = _React.useCallback;
var DB_DEFAULT_11 = [{
  id: 1001,
  code: "A01",
  keyword: "住家綜合保險",
  link1: {
    name: "",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "保單條款",
    url: "https://drive.google.com/file/d/1DDvulX7nAanF0hY5dqL3KQmQRS4um-8x/view?usp=sharing"
  }
}, {
  id: 1002,
  code: "B01",
  keyword: "住家財物損失保險",
  link1: {
    name: "",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "保單條款",
    url: "https://drive.google.com/file/d/1H_XDPLrwtp-Fi6AzdxlkOplJ6-WCXEmh/view?usp=drive_link"
  }
}, {
  id: 1003,
  code: "C01",
  keyword: "住家第三人責任保險",
  link1: {
    name: "",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "保單條款",
    url: "https://drive.google.com/file/d/1vF9h2itCOaSd-KwFoHERR7weGY6IUYNs/view?usp=drive_link"
  }
}, {
  id: 1004,
  code: "住宅地震基本保險",
  keyword: "住宅地震基本保險",
  link1: {
    name: "",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "保單條款",
    url: "https://drive.google.com/file/d/1u0o4QBoHmcMg170CwHjPhnxfVWj-bd_C/view?usp=drive_link"
  }
}, {
  id: 1005,
  code: "E01",
  keyword: "住家綠能升級附加條款",
  link1: {
    name: "",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "保單條款",
    url: "https://drive.google.com/file/d/1Rinkab6a-XycNtAQdiaPogjQSEL5pNHo/view?usp=drive_link"
  }
}, {
  id: 1006,
  code: "F01",
  keyword: "擴大承保機車火災事故附加條款",
  link1: {
    name: "",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "保單條款",
    url: "https://drive.google.com/file/d/1kChySSWGHuJ9JHz3aBLKHUg8z1YpVmOE/view?usp=drive_link"
  }
}, {
  id: 1007,
  code: "G01",
  keyword: "住宅天災費用補償保險",
  link1: {
    name: "",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "保單條款",
    url: "https://drive.google.com/file/d/1Frt5eSiBGlCYzzsy765tB3d01blsCss_/view?usp=drive_link"
  }
}, {
  id: 1008,
  code: "H01",
  keyword: "續保約定附加條款",
  link1: {
    name: "",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "保單條款",
    url: ""
  }
}, {
  id: 1009,
  code: "Z01",
  keyword: "回上頁",
  link1: {
    name: "回上頁",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "",
    url: ""
  }
}, {
  id: 1010,
  code: "Z02",
  keyword: "要保書",
  link1: {
    name: "要保書內容",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "",
    url: ""
  }
}, {
  id: 1011,
  code: "Z03",
  keyword: "報價單",
  link1: {
    name: "報價單內容",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "",
    url: ""
  }
}, {
  id: 1012,
  code: "M01",
  keyword: "目錄",
  link1: {
    name: "目錄",
    url: ""
  },
  link2: {
    name: "",
    url: ""
  },
  link3: {
    name: "",
    url: ""
  },
  link4: {
    name: "",
    url: ""
  }
}];
var getInitialData = function getInitialData() {
  try {
    var dataScript = document.getElementById('saved-data');
    var parsed = dataScript && dataScript.textContent ? JSON.parse(dataScript.textContent) : {};
    if (!parsed.linkLibrary || parsed.linkLibrary.length === 0) {
      parsed.linkLibrary = JSON.parse(JSON.stringify(DB_DEFAULT_11));
    }
    return parsed;
  } catch (e) {
    console.error("資料格式解析失敗");
  }
  return {
    meta: {},
    client: {},
    coverages: [],
    linkLibrary: JSON.parse(JSON.stringify(DB_DEFAULT_11))
  };
};
var INITIAL_DATA = getInitialData();
var EMPTY_TEMPLATE = {
  meta: {
    quoteNumber: "",
    date: ""
  },
  client: {
    proposerName: "",
    name: "",
    proposerPhone: "",
    phone: "",
    mailingAddress: "",
    address: "",
    model: "",
    plate: "",
    engineNo: "",
    manufacturingDate: "",
    policyPeriod: ""
  },
  coverages: [],
  linkLibrary: JSON.parse(JSON.stringify(DB_DEFAULT_11))
};
var CenteredNoteModal = function CenteredNoteModal(_ref) {
  var isOpen = _ref.isOpen,
    onClose = _ref.onClose,
    title = _ref.title,
    notes = _ref.notes;
  if (!isOpen) return null;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-[500] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm cursor-pointer",
    onClick: onClose
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-[#fefce8] border-2 border-yellow-400 rounded-xl max-w-md w-full max-h-[85vh] overflow-y-auto p-6 shadow-2xl relative cursor-pointer",
    onClick: onClose
  }, /*#__PURE__*/React.createElement("h4", {
    className: "text-red-700 font-bold text-xl mb-4 pb-2 border-b-2 border-yellow-300 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-info-circle"
  }), " ", title || '理賠重點摘要'), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4"
  }, notes.map(function (note, i) {
    return /*#__PURE__*/React.createElement("div", {
      key: i,
      className: "flex gap-3 text-base leading-relaxed text-gray-700"
    }, /*#__PURE__*/React.createElement("span", {
      className: "font-bold text-red-500 shrink-0"
    }, i + 1, "."), /*#__PURE__*/React.createElement("span", null, note));
  })), /*#__PURE__*/React.createElement("div", {
    className: "mt-8 pt-4 border-t border-yellow-200 text-center"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-xs text-gray-400 italic font-medium"
  }, "\u9EDE\u64CA\u8996\u7A97\u5167\u4EFB\u610F\u8655\u5373\u53EF\u95DC\u9589"))));
};
var PromptModal = function PromptModal(_ref2) {
  var onClose = _ref2.onClose;
  var _useState = useState(false),
    _useState2 = _slicedToArray(_useState, 2),
    copied = _useState2[0],
    setCopied = _useState2[1];
  var promptText = "\u4F60\u662F\u5C08\u696D\u7684\u4F4F\u5B85\u706B\u96AA\u8F49\u5C0D\u52A9\u7406\u3002\u8ACB\u5C07\u300C\u4FDD\u96AA\u5831\u50F9\u55AE\u300D\u5167\u5BB9\u8F49\u63DB\u70BA\u7B26\u5408\u7279\u5B9A\u7D50\u69CB\u7684 JSON \u683C\u5F0F\u3002\n\n**\u56B4\u683C\u63D0\u53D6\u8207\u7D50\u69CB\u8981\u6C42\uFF1A**\n\n1. **JSON \u5C64\u7D1A**\uFF1A\n   * meta: \u5305\u542B quoteNumber (\u5831\u50F9\u55AE\u865F), date (\u5831\u50F9\u65E5\u671F)\u3002\n   * client: \u5305\u542B \u8981\u4FDD\u4EBA/\u88AB\u4FDD\u4EBA\u8CC7\u8A0A\u8207\u5EFA\u7BC9\u8CC7\u8A0A\u3002\n   * coverages: \u96AA\u7A2E\u9663\u5217\u3002\n\n2. **\u5EFA\u7BC9\u8CC7\u8A0A (\u653E\u5728 client \u5167)**\uFF1A\n   * model: \u7D50\u69CB (\u5982\uFF1A\u92FC\u7B4B\u6DF7\u51DD\u571F\u9020)\u3002\n   * plate: \u6A13\u5C64 (\u5982\uFF1A\u5171 7 \u5C64)\u3002\n   * engineNo:\u576A\u6578 (\u5982\uFF1A65.75\u576A)\u3002\n   * manufacturingDate: \u5B8C\u5DE5\u5E74\u5EA6 (\u5982\uFF1A\u6C11\u570B73\u5E74)\u3002\n\n3. **\u96AA\u7A2E\u8CC7\u8A0A (\u653E\u5728 coverages \u9663\u5217\u5167)**\uFF1A\n   * \u6BCF\u500B\u7269\u4EF6\u5FC5\u9808\u5305\u542B\uFF1Aname (\u96AA\u7A2E\u540D\u7A31), detail (\u4FDD\u96AA\u6A19\u7684\u7269\u6587\u5B57), amount (\u4FDD\u984D), deductible (\u81EA\u8CA0\u984D), premium (\u4FDD\u8CBB\u6578\u5B57)\u3002\n   * **\u95DC\u9375\u4FDD\u8CBB\u908F\u8F2F**\uFF1A\n     * \u300C\u4F4F\u5BB6\u7D9C\u5408\u4FDD\u96AA\u300D\uFF1A\u9019\u662F\u8A08\u756B\u540D\u7A31\uFF0C\u8ACB\u52D9\u5FC5\u653E\u5728\u9663\u5217\u7684\u7B2C\u4E00\u4F4D\u3002\u5176 premium (\u4FDD\u8CBB) \u6B04\u4F4D\u8ACB\u52D9\u5FC5\u586B\u5165 0\uFF0C\u4EE5\u907F\u514D\u8207\u4E0B\u65B9\u7D30\u9805\u91CD\u8907\u8A08\u7B97\u7E3D\u4FDD\u8CBB\u3002\n     * \u5176\u4ED6\u7D30\u9805\u96AA\u7A2E\uFF1A\u8ACB\u4F9D\u7167\u5831\u50F9\u55AE\u5BE6\u969B\u91D1\u984D\u63D0\u53D6\u4FDD\u8CBB\u3002\n\n4. **\u6B04\u4F4D\u5C0D\u61C9\u8868**\uFF1A\n   * proposerName: \u8981\u4FDD\u4EBA, name: \u88AB\u4FDD\u4EBA, proposerPhone: \u8981\u4FDD\u4EBA\u96FB\u8A71, phone: \u88AB\u4FDD\u4EBA\u96FB\u8A71, mailingAddress: \u901A\u8A0A\u5730\u5740, address: \u6A19\u7684\u7269\u5730\u5740, policyPeriod: \u4FDD\u96AA\u671F\u9593\u3002\n\n**\u8F38\u51FA\u9650\u5236 (\u91CD\u8981\u9632\u932F)\uFF1A**\n* **\u7981\u6B62\u5F15\u7528\u6A19\u8A18**\uFF1A\u8F38\u51FA\u5167\u5BB9\u7D55\u5C0D\u4E0D\u53EF\u5305\u542B\u4EFB\u4F55 \u3001[cite: ...] \u6216\u985E\u4F3C\u7684\u67E5\u8B49\u5F15\u7528\u6A19\u8A18\u3002\n* **\u7D14\u6DE8\u683C\u5F0F**\uFF1A\u53EA\u56DE\u50B3\u7D14\u6DE8\u7684 JSON \u7A0B\u5F0F\u78BC\u584A\uFF0C\u78BA\u4FDD\u4E0D\u9700\u4EFB\u4F55\u8655\u7406\u5373\u53EF\u88AB JSON.parse() \u89E3\u6790\u3002";
  var handleCopy = function handleCopy() {
    var textArea = document.createElement("textarea");
    textArea.value = promptText;
    document.body.appendChild(textArea);
    textArea.select();
    try {
      document.execCommand('copy');
      setCopied(true);
      setTimeout(function () {
        return setCopied(false);
      }, 2000);
    } catch (err) {
      console.error('無法複製', err);
    }
    document.body.removeChild(textArea);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-[300] p-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-lg shadow-xl max-w-2xl w-full flex flex-col max-h-[90vh]"
  }, /*#__PURE__*/React.createElement("div", {
    className: "p-4 border-b flex justify-between items-center bg-gray-50 rounded-t-lg"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold text-gray-800"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-robot text-blue-600 mr-2"
  }), "\u751F\u6210 AI \u8F49\u63DB\u6307\u4EE4"), /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "text-gray-500 hover:text-gray-700"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-times text-xl"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "p-6 overflow-y-auto flex-1 text-sm text-gray-600"
  }, /*#__PURE__*/React.createElement("textarea", {
    readOnly: true,
    className: "w-full h-80 p-4 bg-gray-800 text-green-400 font-mono text-sm rounded shadow-inner",
    value: promptText
  })), /*#__PURE__*/React.createElement("div", {
    className: "p-4 border-t bg-gray-50 flex justify-end gap-3"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "px-4 py-2 text-gray-600 hover:bg-gray-200 rounded font-medium"
  }, "\u95DC\u9589"), /*#__PURE__*/React.createElement("button", {
    onClick: handleCopy,
    className: "px-5 py-2 rounded shadow font-bold transition flex items-center gap-2 ".concat(copied ? 'bg-green-600 text-white' : 'bg-blue-600 text-white hover:bg-blue-700')
  }, copied ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-check"
  }), " \u5DF2\u8907\u88FD\u5230\u526A\u8CBC\u7C3F") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-copy"
  }), " \u8907\u88FD\u6307\u4EE4")))));
};
var LinkManagerView = function LinkManagerView(_ref3) {
  var data = _ref3.data,
    isEditingLinks = _ref3.isEditingLinks,
    setIsEditingLinks = _ref3.setIsEditingLinks,
    setCurrentView = _ref3.setCurrentView,
    handleLibraryChange = _ref3.handleLibraryChange,
    addLibraryRow = _ref3.addLibraryRow,
    removeLibraryRow = _ref3.removeLibraryRow,
    saveAsHtml = _ref3.saveAsHtml;
  return /*#__PURE__*/React.createElement("div", {
    className: "max-w-7xl mx-auto bg-white min-h-screen p-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-6 border-b pb-4"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-blue-700"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-database mr-2"
  }), "\u9023\u7D50\u8CC7\u6599\u5EAB\u7BA1\u7406 (\u5171 ", data.linkLibrary.length, " \u689D)"), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setIsEditingLinks(!isEditingLinks);
    },
    className: "px-4 py-2 rounded font-medium ".concat(isEditingLinks ? 'bg-green-600 text-white' : 'bg-yellow-500 text-black')
  }, isEditingLinks ? "完成並儲存" : "修改設定"), /*#__PURE__*/React.createElement("button", {
    onClick: saveAsHtml,
    className: "px-4 py-2 bg-indigo-600 text-white rounded font-medium shadow"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-file-download"
  }), " \u5B58\u6A94"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentView('presentation');
    },
    className: "px-4 py-2 bg-gray-500 text-white rounded"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-arrow-left"
  }), " \u8FD4\u56DE"))), /*#__PURE__*/React.createElement("div", {
    className: "overflow-x-auto shadow rounded-lg border"
  }, /*#__PURE__*/React.createElement("table", {
    className: "w-full text-left border-collapse"
  }, /*#__PURE__*/React.createElement("thead", {
    className: "bg-gray-100 text-gray-700 text-sm"
  }, /*#__PURE__*/React.createElement("tr", null, /*#__PURE__*/React.createElement("th", {
    className: "p-4 w-20 bg-yellow-100 text-center"
  }, "\u4EE3\u865F"), /*#__PURE__*/React.createElement("th", {
    className: "p-4 w-64 text-center"
  }, "\u95DC\u9375\u5B57 (\u5339\u914D\u96AA\u7A2E)"), /*#__PURE__*/React.createElement("th", {
    className: "p-4"
  }, "\u9023\u7D50\u8A2D\u5B9A (Link 1-4)"), isEditingLinks && /*#__PURE__*/React.createElement("th", {
    className: "p-4 text-center"
  }, "\u64CD\u4F5C"))), /*#__PURE__*/React.createElement("tbody", null, data.linkLibrary.map(function (lib, index) {
    return /*#__PURE__*/React.createElement("tr", {
      key: lib.id,
      className: "border-t text-sm hover:bg-gray-50 transition"
    }, /*#__PURE__*/React.createElement("td", {
      className: "p-4 align-top bg-yellow-50 font-bold text-center"
    }, isEditingLinks ? /*#__PURE__*/React.createElement("input", {
      className: "w-full border-2 border-yellow-300 rounded p-1 text-center font-bold",
      value: lib.code || '',
      onChange: function onChange(e) {
        return handleLibraryChange(index, 'code', e.target.value);
      },
      maxLength: 3
    }) : lib.code), /*#__PURE__*/React.createElement("td", {
      className: "p-4 align-top"
    }, isEditingLinks ? /*#__PURE__*/React.createElement("textarea", {
      className: "w-full border rounded p-2",
      rows: 3,
      value: lib.keyword,
      onChange: function onChange(e) {
        return handleLibraryChange(index, 'keyword', e.target.value);
      }
    }) : /*#__PURE__*/React.createElement("span", {
      className: "font-bold text-center block w-full"
    }, lib.keyword)), /*#__PURE__*/React.createElement("td", {
      className: "p-4 align-top"
    }, /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-1 md:grid-cols-2 gap-3"
    }, [1, 2, 3, 4].map(function (i) {
      var _lib, _lib2, _lib3, _lib4;
      return /*#__PURE__*/React.createElement("div", {
        key: i,
        className: "p-2 bg-gray-50 border rounded-lg shadow-sm"
      }, /*#__PURE__*/React.createElement("div", {
        className: "text-[10px] text-blue-500 font-bold mb-1 uppercase tracking-tighter"
      }, "\u9023\u7D50 ", i), isEditingLinks ? /*#__PURE__*/React.createElement("div", {
        className: "space-y-1"
      }, /*#__PURE__*/React.createElement("input", {
        className: "w-full border p-1 text-xs rounded",
        placeholder: "\u6309\u9215\u540D\u7A31",
        value: ((_lib = lib["link".concat(i)]) === null || _lib === void 0 ? void 0 : _lib.name) || '',
        onChange: function onChange(e) {
          return handleLibraryChange(index, "link".concat(i), e.target.value, 'name');
        }
      }), /*#__PURE__*/React.createElement("input", {
        className: "w-full border p-1 text-xs font-mono rounded",
        placeholder: "URL \u7DB2\u5740",
        value: ((_lib2 = lib["link".concat(i)]) === null || _lib2 === void 0 ? void 0 : _lib2.url) || '',
        onChange: function onChange(e) {
          return handleLibraryChange(index, "link".concat(i), e.target.value, 'url');
        }
      })) : /*#__PURE__*/React.createElement("div", {
        className: "flex flex-col"
      }, /*#__PURE__*/React.createElement("span", {
        className: "text-xs font-bold text-gray-700"
      }, ((_lib3 = lib["link".concat(i)]) === null || _lib3 === void 0 ? void 0 : _lib3.name) || "-"), /*#__PURE__*/React.createElement("span", {
        className: "text-[10px] text-gray-400 truncate w-full"
      }, ((_lib4 = lib["link".concat(i)]) === null || _lib4 === void 0 ? void 0 : _lib4.url) || "未設定")));
    }))), isEditingLinks && /*#__PURE__*/React.createElement("td", {
      className: "p-4 text-center align-top"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return removeLibraryRow(index);
      },
      className: "text-red-400 hover:text-red-600 transition p-2"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-trash-alt"
    }))));
  })))), isEditingLinks && /*#__PURE__*/React.createElement("button", {
    onClick: addLibraryRow,
    className: "mt-4 px-4 py-2 bg-green-600 text-white rounded shadow font-bold hover:bg-green-700 transition"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-plus mr-2"
  }), "\u65B0\u589E\u9805\u76EE"));
};
var EditView = function EditView(_ref4) {
  var data = _ref4.data,
    setData = _ref4.setData,
    setCurrentView = _ref4.setCurrentView;
  var handleClientChange = function handleClientChange(field, value) {
    return setData(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        client: _objectSpread(_objectSpread({}, prev.client), {}, _defineProperty({}, field, value))
      });
    });
  };
  var handleCoverageChange = function handleCoverageChange(index, field, value) {
    var newCoverages = _toConsumableArray(data.coverages);
    newCoverages[index] = _objectSpread(_objectSpread({}, newCoverages[index]), {}, _defineProperty({}, field, value));
    setData(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        coverages: newCoverages
      });
    });
  };
  var addCoverageRow = function addCoverageRow() {
    return setData(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        coverages: [].concat(_toConsumableArray(prev.coverages), [{
          id: Date.now(),
          name: "",
          detail: "",
          amount: "",
          deductible: "無",
          premium: 0
        }])
      });
    });
  };
  var removeCoverageRow = function removeCoverageRow(index) {
    return setData(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, {
        coverages: prev.coverages.filter(function (_, i) {
          return i !== index;
        })
      });
    });
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "max-w-7xl mx-auto p-8 bg-white min-h-screen"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-6 border-b pb-4"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-2xl font-bold text-yellow-600"
  }, "\u7DE8\u8F2F\u5831\u50F9\u5167\u5BB9"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentView('presentation');
    },
    className: "px-4 py-2 bg-blue-600 text-white rounded font-bold shadow hover:bg-blue-700 transition"
  }, "\u5B8C\u6210")), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8"
  }, Object.keys(data.client).map(function (key) {
    return /*#__PURE__*/React.createElement("div", {
      key: key
    }, /*#__PURE__*/React.createElement("label", {
      className: "block text-xs font-bold text-gray-400 mb-1 uppercase"
    }, key), /*#__PURE__*/React.createElement("input", {
      className: "w-full border p-2 rounded text-sm focus:ring-2 focus:ring-blue-200 outline-none",
      value: data.client[key] || '',
      onChange: function onChange(e) {
        return handleClientChange(key, e.target.value);
      }
    }));
  })), /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-50 p-4 rounded-lg border shadow-inner"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold mb-4 text-green-700 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-list"
  }), " \u627F\u4FDD\u96AA\u7A2E\u6E05\u55AE\u7BA1\u7406"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, data.coverages.map(function (c, i) {
    return /*#__PURE__*/React.createElement("div", {
      key: c.id || i,
      className: "bg-white p-3 border rounded-lg shadow-sm grid grid-cols-1 md:grid-cols-5 gap-2 relative"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col"
    }, /*#__PURE__*/React.createElement("label", {
      className: "text-[9px] font-bold text-gray-400"
    }, "\u627F\u4FDD\u96AA\u7A2E\u985E\u5225"), /*#__PURE__*/React.createElement("input", {
      className: "border p-2 rounded text-sm font-bold",
      value: c.name,
      onChange: function onChange(e) {
        return handleCoverageChange(i, 'name', e.target.value);
      }
    })), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col"
    }, /*#__PURE__*/React.createElement("label", {
      className: "text-[9px] font-bold text-gray-400"
    }, "\u4FDD\u96AA\u6A19\u7684\u7269"), /*#__PURE__*/React.createElement("input", {
      className: "border p-2 rounded text-sm",
      value: c.detail,
      onChange: function onChange(e) {
        return handleCoverageChange(i, 'detail', e.target.value);
      }
    })), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col"
    }, /*#__PURE__*/React.createElement("label", {
      className: "text-[9px] font-bold text-gray-400"
    }, "\u4FDD\u96AA\u91D1\u984D"), /*#__PURE__*/React.createElement("input", {
      className: "border p-2 rounded text-sm text-center",
      value: c.amount,
      onChange: function onChange(e) {
        return handleCoverageChange(i, 'amount', e.target.value);
      }
    })), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col"
    }, /*#__PURE__*/React.createElement("label", {
      className: "text-[9px] font-bold text-gray-400"
    }, "\u81EA\u8CA0\u984D"), /*#__PURE__*/React.createElement("input", {
      className: "border p-2 rounded text-sm text-center",
      value: c.deductible,
      onChange: function onChange(e) {
        return handleCoverageChange(i, 'deductible', e.target.value);
      }
    })), /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col"
    }, /*#__PURE__*/React.createElement("label", {
      className: "text-[9px] font-bold text-gray-400"
    }, "\u4FDD\u96AA\u8CBB"), /*#__PURE__*/React.createElement("div", {
      className: "flex gap-1"
    }, /*#__PURE__*/React.createElement("input", {
      className: "w-full border p-2 rounded text-sm font-bold text-right",
      type: "number",
      value: c.premium,
      onChange: function onChange(e) {
        return handleCoverageChange(i, 'premium', e.target.value);
      }
    }), /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return removeCoverageRow(i);
      },
      className: "text-red-400 hover:text-red-600 px-2 transition"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-trash-alt"
    })))));
  })), /*#__PURE__*/React.createElement("button", {
    onClick: addCoverageRow,
    className: "mt-4 px-4 py-2 bg-green-600 text-white rounded text-sm font-bold shadow hover:bg-green-700 transition"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-plus mr-2"
  }), "\u65B0\u589E\u96AA\u7A2E")));
};
var PresentationView = function PresentationView(_ref5) {
  var _data$linkLibrary$fin, _data$linkLibrary$fin2, _data$linkLibrary$fin3, _catalogItem$link;
  var data = _ref5.data,
    setCurrentView = _ref5.setCurrentView,
    findMatchingLinks = _ref5.findMatchingLinks,
    calculatedTotal = _ref5.calculatedTotal,
    importData = _ref5.importData,
    reloadInitialData = _ref5.reloadInitialData,
    saveAsHtml = _ref5.saveAsHtml,
    fileInputRef = _ref5.fileInputRef,
    setShowPromptModal = _ref5.setShowPromptModal;
  var _useState3 = useState(true),
    _useState4 = _slicedToArray(_useState3, 2),
    mobilePrintMode = _useState4[0],
    setMobilePrintMode = _useState4[1];
  var _useState5 = useState([]),
    _useState6 = _slicedToArray(_useState5, 2),
    clickHistory = _useState6[0],
    setClickHistory = _useState6[1];
  var _useState7 = useState(null),
    _useState8 = _slicedToArray(_useState7, 2),
    activeNote = _useState8[0],
    setActiveNote = _useState8[1];

  // 自負額註解內容
  var DEDUCTIBLE_NOTE_DATA = {
    title: "自負額與限額說明 (註4、5)",
    notes: ["竊盜損失(動產)：每一事故/保險期間累計賠償金額：15萬/30萬元，每一事故自負額 5,000 元。(註4)", "玻璃損失：每一事故/保險期間累計賠償金額：1萬/2萬元，每一事故自負額 1,000 元。(註5)"]
  };
  var containerClass = mobilePrintMode ? "mobile-print-mode" : "max-w-7xl mx-auto mt-8 bg-white paper-shadow rounded-lg overflow-hidden mb-10";
  var handleToggleMode = function handleToggleMode() {
    if (!mobilePrintMode) {
      setMobilePrintMode(true);
      return;
    }
    var now = Date.now();
    var newHistory = [].concat(_toConsumableArray(clickHistory), [now]).filter(function (time) {
      return now - time <= 2000;
    });
    if (newHistory.length >= 5) {
      setMobilePrintMode(false);
      setClickHistory([]);
    } else {
      setClickHistory(newHistory);
    }
  };
  var backItem = (_data$linkLibrary$fin = data.linkLibrary.find(function (l) {
    return l.code === "Z01";
  })) === null || _data$linkLibrary$fin === void 0 ? void 0 : _data$linkLibrary$fin.link1;
  var applicationItem = (_data$linkLibrary$fin2 = data.linkLibrary.find(function (l) {
    return l.code === "Z02";
  })) === null || _data$linkLibrary$fin2 === void 0 ? void 0 : _data$linkLibrary$fin2.link1;
  var quoteItem = (_data$linkLibrary$fin3 = data.linkLibrary.find(function (l) {
    return l.code === "Z03";
  })) === null || _data$linkLibrary$fin3 === void 0 ? void 0 : _data$linkLibrary$fin3.link1;
  var catalogItem = data.linkLibrary.find(function (l) {
    return l.keyword === "目錄";
  });
  var comprehensiveLinks = data.linkLibrary.find(function (l) {
    return l.code === "A01";
  });
  var getNoteData = function getNoteData(name) {
    var title = "理賠重點摘要";
    var notes = [];
    if (name.includes("住家財物損失")) {
      title = "住家財物損失 (含★註1~6)";
      notes = ["理賠內容：火災、爆炸等事故致建物或動產損失。", "情況理賠：包含清除廢棄物費用、金融信用卡重製費(註1)。", "補償項目：臨時住宿生活費、租屋仲介及搬遷補助費(註2)。", "限額動產：珠寶首飾1萬、皮草1萬、書籍1千、鐘錶2千(註3)。", "竊盜保障：動產竊盜損失每一事故自負額5千元(註4)。", "玻璃賠付：住宅玻璃破損每一事故自負額1千元(註5)。", "颱洪補償：自動承保住宅颱風及洪水災害補償保險(註6)。", "不理賠情：要保人故意行為、潮濕發霉、建物於投保前已受損。", "準備事項：理賠申請書、損失清單、現場照片、費用單據。", "賠付標準：建築物採重置成本計，不扣折舊；動產採實際價值。"];
    } else if (name.includes("第三人責任")) {
      title = "第三人責任 (含★註7)";
      notes = ["理賠內容：意外事故致第三人體傷、死亡 or 財物損害。", "情況理賠：所有、使用、管理標的意外致賠償請求時觸發。", "慰問金額：身故5萬、住院5千，累計上限50萬元(註7)。", "除外對象：不包含被保險人配偶、家屬、受僱人 or 同居人。", "不理賠情：故意行為、不法行為、電梯及機動車責任。", "不理賠情：向人租賃之財物責任、因震動致建物倒塌責任。", "法律協助：可協助民事抗辯及和解，公司負擔訴訟費用。", "直接請求：損害賠償責任確定後，第三人得直接請求賠款。", "準備事項：診斷書/醫療單據、和解書/判決書、身分證明。", "和解規範：未經本公司參與之承認 or 和解，公司不受其拘束。"];
    } else if (name.includes("地震基本")) {
      notes = ["理賠內容：地震、火災/海嘯致住宅建物損毀觸發理賠。", "情況理賠：限於「全損」，即鑑定不堪居住 or 修復費逾50%。", "賠付限額：最高150萬元，並額外支付20萬住宿費。", "不理賠情：動產、裝潢、土地、火山爆發、戰爭、核能。", "紅標補償：經鑑定具危險並貼紅色標誌者先行給付10萬元。", "給付方式：現金給付，備齊文件後15日內撥款。", "準備事項：理賠申請書、權狀影本、拆除通知 or 鑑定證明。", "複保處理：有多份保單時按保額比例分攤，合計限額150萬。", "削減給付：若全國損失超分散機制限額，將按比例削減。", "定義對象：領有合法牌照之住宅用建物。"];
    } else if (name.includes("綠能升級")) {
      notes = ["理賠內容：災損後改採「綠能建材」修復 or 重建建築物。", "情況理賠：主契約承保事故致保險標的損毀時觸發。", "標章限制：須獲綠建材、環保 or 節能標章之建材設備。", "理賠優點：依綠能建材費用賠償，且「不再扣除折舊」。", "金額限制：理賠上限為主約理賠核算金額之 150%。", "總額限制：綠能賠付與主約賠付合計不得超過主約保額。", "不理賠情：因被保險人因素致無法以綠能建材修復者。", "不理賠情：要保人故意行為、潮濕發霉、主約除外事項。", "準備事項：主約理賠文件、綠能建材修繕估價單及證明。", "計算基礎：採修復 or 重建所需之實際綠能費用賠付。"];
    } else if (name.includes("機車火災")) {
      notes = ["理賠內容：標的50米內 or 社區車位之機車火災/縱火損害。", "情況理賠：因火災事故 or 第三人惡意縱火所致之損失。", "對象限制：須為被保險人、配偶、家屬 or 同居人所有。", "車輛限制：必須為「領有合法牌照」之機車始受保障。", "賠付限額：每部機車最高理賠6萬元，最低不低於2千元。", "理賠方式：公司得以修復 or 以現金進行賠償。", "折舊計算：每年折舊率 25%，依出廠年月及月數換算。", "不理賠情：非屬火災 or 縱火事故、非承保區域之投保。", "準備事項：申請書、機車行照、修車估價單及發票。", "證明文件：應本公司要求時，需提供憲警處理證明。"];
    } else if (name.includes("天災費用")) {
      notes = ["理賠內容：天災致建物受損，連逾7日不適居住之補償。", "承保事故：地震、颱風、洪水、山崩、雷擊、閃電。", "情況理賠：因上述事故致住宅實質上不能居住連續逾7日。", "補標準：按修復費占重置成本之百分比計算補償月數。", "理賠上限：保險期間內最高補償期間以 12 個月為限。", "不理賠情：建物連逾60天無人看管、投保前已發生事故。", "不理賠情：潮濕發霉、原子能輻射、罷工暴動、傳染病。", "一次給付：金額確認後於 15 天內一次性給付現金。", "準備事項：申請書、損失清單、現場照片、無法居住證明。", "時效限制：權利自得請求日起，經過 2 年消滅。"];
    } else {
      notes = ["請參閱正式保單條款內容摘要。"];
    }
    return {
      title: title,
      notes: notes
    };
  };
  var renderItemName = function renderItemName(item) {
    var noteData = getNoteData(item.name);
    return /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col"
    }, /*#__PURE__*/React.createElement("span", {
      className: "hover-highlight font-bold text-gray-900 cursor-pointer table-text-custom",
      onClick: function onClick() {
        return setActiveNote(noteData);
      }
    }, item.name, " ", /*#__PURE__*/React.createElement("i", {
      className: "fas fa-info-circle text-blue-400 ml-1 text-xs"
    })), /*#__PURE__*/React.createElement("div", {
      className: "link-wrapper mt-1"
    }, [1, 2, 3, 4].map(function (i) {
      var matchedLinks = findMatchingLinks(item);
      var link = matchedLinks === null || matchedLinks === void 0 ? void 0 : matchedLinks["link".concat(i)];
      return (link === null || link === void 0 ? void 0 : link.url) && (link === null || link === void 0 ? void 0 : link.name) && /*#__PURE__*/React.createElement("a", {
        key: i,
        href: link.url,
        target: "_blank",
        className: "coverage-link link-text-blue"
      }, /*#__PURE__*/React.createElement("i", {
        className: "fas fa-file-pdf mr-1 text-[8pt]"
      }), link.name);
    })));
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "pb-20"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-gray-800 text-white p-3 shadow-md no-print sticky top-0 z-50"
  }, /*#__PURE__*/React.createElement("div", {
    className: "max-w-7xl mx-auto flex flex-wrap justify-between items-center gap-2"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-lg font-bold flex items-center gap-2"
  }, "\uD83C\uDFE0 \u4F4F\u5B85\u706B\u96AA\u8F14\u52A9\u7CFB\u7D71"), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2 flex-wrap text-sm"
  }, (catalogItem === null || catalogItem === void 0 || (_catalogItem$link = catalogItem.link1) === null || _catalogItem$link === void 0 ? void 0 : _catalogItem$link.url) && /*#__PURE__*/React.createElement("a", {
    href: catalogItem.link1.url,
    target: "_blank",
    className: "px-3 py-2 bg-orange-600 text-white rounded font-medium hover:bg-orange-700 transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-list"
  }), " \u76EE\u9304"), /*#__PURE__*/React.createElement("button", {
    onClick: handleToggleMode,
    className: "px-3 py-2 bg-gray-600 rounded font-medium hover:bg-gray-700 transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: mobilePrintMode ? "fas fa-desktop" : "fas fa-mobile-alt"
  }), " ", mobilePrintMode ? "電腦版" : "手機版"), !mobilePrintMode && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setShowPromptModal(true);
    },
    className: "px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded font-medium transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-robot"
  }), " \u751F\u6210 AI \u6307\u4EE4"), /*#__PURE__*/React.createElement("label", {
    className: "px-3 py-2 bg-green-600 hover:bg-green-700 rounded font-medium cursor-pointer transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-file-import"
  }), " \u532F\u5165 JSON", /*#__PURE__*/React.createElement("input", {
    type: "file",
    accept: ".json",
    ref: fileInputRef,
    onChange: importData,
    className: "hidden"
  })), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentView('edit_data');
    },
    className: "px-3 py-2 bg-yellow-500 text-black rounded font-medium transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-pen"
  }), " \u7DE8\u8F2F"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setCurrentView('manage_links');
    },
    className: "px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded font-medium transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-link"
  }), " \u8CC7\u6599\u5EAB"), /*#__PURE__*/React.createElement("button", {
    onClick: saveAsHtml,
    className: "px-3 py-2 bg-indigo-600 hover:bg-indigo-700 rounded font-medium transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-file-download"
  }), " \u5B58\u6A94"), /*#__PURE__*/React.createElement("button", {
    onClick: reloadInitialData,
    className: "px-3 py-2 bg-red-500 hover:bg-red-600 rounded font-medium transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-undo"
  }), " \u91CD\u8A2D"))))), /*#__PURE__*/React.createElement("div", {
    className: containerClass
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-blue-700 p-6 text-white shadow-inner flex flex-wrap justify-between items-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-4"
  }, /*#__PURE__*/React.createElement("a", {
    href: (backItem === null || backItem === void 0 ? void 0 : backItem.url) || "#",
    className: "no-print px-4 py-2 bg-white/20 hover:bg-white/30 text-white border border-white/40 rounded-full text-sm font-bold transition flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("i", {
    className: "fas fa-arrow-left"
  }), " ", (backItem === null || backItem === void 0 ? void 0 : backItem.name) || "回上頁"), /*#__PURE__*/React.createElement("h1", {
    className: "text-2xl md:text-3xl font-bold tracking-wider"
  }, "\u91D1\u597D\u4F4F2.0\u4F4F\u5B85\u706B\u96AA\u8F14\u52A9\u8AAA\u660E")), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2 no-print mt-2 md:mt-0 text-sm"
  }, (applicationItem === null || applicationItem === void 0 ? void 0 : applicationItem.url) && (applicationItem === null || applicationItem === void 0 ? void 0 : applicationItem.name) && /*#__PURE__*/React.createElement("a", {
    href: applicationItem.url,
    target: "_blank",
    className: "px-3 py-2 bg-white/20 border border-white/40 rounded-full font-bold hover:bg-white/30 transition link-text-blue"
  }, applicationItem.name), (quoteItem === null || quoteItem === void 0 ? void 0 : quoteItem.url) && (quoteItem === null || quoteItem === void 0 ? void 0 : quoteItem.name) && /*#__PURE__*/React.createElement("a", {
    href: quoteItem.url,
    target: "_blank",
    className: "px-3 py-2 bg-white/20 border border-white/40 rounded-full font-bold hover:bg-white/30 transition link-text-blue"
  }, quoteItem.name))), /*#__PURE__*/React.createElement("div", {
    className: "p-4 md:p-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-1 ".concat(mobilePrintMode ? 'gap-4' : 'md:grid-cols-2 gap-6', " mb-8")
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-5 rounded-xl border-l-8 border-blue-600 border shadow-sm"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-bold mb-2 text-blue-800"
  }, "\u57FA\u672C\u8CC7\u8A0A"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-2 text-sm text-gray-800"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-medium"
  }, "\u8981\u4FDD\u4EBA\uFF1A"), /*#__PURE__*/React.createElement("span", {
    className: "font-bold text-blue-900"
  }, data.client.proposerName)), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-medium"
  }, "\u88AB\u4FDD\u96AA\u4EBA\uFF1A"), /*#__PURE__*/React.createElement("span", {
    className: "font-bold text-gray-900"
  }, data.client.name)), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-medium"
  }, "\u9023\u7D61\u96FB\u8A71\uFF1A"), /*#__PURE__*/React.createElement("span", {
    className: "font-medium text-blue-800"
  }, "(\u8981) ", data.client.proposerPhone, " / (\u88AB) ", data.client.phone)), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-medium"
  }, "\u901A\u8A0A\u5730\u5740\uFF1A"), /*#__PURE__*/React.createElement("span", null, data.client.mailingAddress)), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-medium"
  }, "\u4FDD\u96AA\u671F\u9593\uFF1A"), /*#__PURE__*/React.createElement("span", {
    className: "text-sm bg-blue-50 text-blue-800 px-2 py-1 rounded font-mono"
  }, data.client.policyPeriod)))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white p-5 rounded-xl border-l-8 border-indigo-600 border shadow-sm"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-lg font-bold mb-2 text-blue-800"
  }, "\u6A19\u7684\u7269\u660E\u7D30"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-2 text-sm text-gray-800"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-medium text-xs"
  }, "\u6A19\u7684\u7269\u5730\u5740\uFF1A"), /*#__PURE__*/React.createElement("span", {
    className: "font-bold text-indigo-900"
  }, data.client.address)), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-bold"
  }, "\u5EFA\u7BC9\u7D50\u69CB\uFF1A"), /*#__PURE__*/React.createElement("span", {
    className: "text-blue-700 font-bold"
  }, data.client.model || "未辨識")), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-bold"
  }, "\u6A13\u5C64\u8CC7\u8A0A\uFF1A"), /*#__PURE__*/React.createElement("span", {
    className: "text-blue-700 font-bold"
  }, data.client.plate || "未辨識")), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-gray-500 font-medium"
  }, "\u576A\u6578/\u5B8C\u5DE5\uFF1A"), /*#__PURE__*/React.createElement("span", {
    className: "font-bold"
  }, data.client.engineNo || "未辨識"), " / ", data.client.manufacturingDate)))), /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-green-600 text-white p-3 font-bold"
  }, "\uD83D\uDEE1\uFE0F \u627F\u4FDD\u5167\u5BB9\u660E\u7D30 (\u9EDE\u64CA\u96AA\u7A2E\u540D\u7A31\u53EF\u770B\u7406\u8CE0\u91CD\u9EDE\u6458\u8981)"), /*#__PURE__*/React.createElement("div", {
    className: "overflow-x-auto"
  }, /*#__PURE__*/React.createElement("table", {
    className: "w-full text-left border-collapse"
  }, /*#__PURE__*/React.createElement("thead", null, /*#__PURE__*/React.createElement("tr", {
    className: "bg-green-50 table-text-custom font-black"
  }, /*#__PURE__*/React.createElement("th", {
    className: "py-3 px-2 border-b ".concat(mobilePrintMode ? 'w-[35%]' : 'w-[25%]')
  }, "\u627F\u4FDD\u96AA\u7A2E\u985E\u5225"), /*#__PURE__*/React.createElement("th", {
    className: "py-3 px-2 border-b ".concat(mobilePrintMode ? 'w-[35%]' : 'w-[30%]')
  }, "\u4FDD\u96AA\u6A19\u7684\u7269"), /*#__PURE__*/React.createElement("th", {
    className: "py-3 px-2 text-center border-b ".concat(mobilePrintMode ? 'w-[30%]' : 'w-[20%]')
  }, "\u4FDD\u96AA\u91D1\u984D"), !mobilePrintMode && /*#__PURE__*/React.createElement("th", {
    className: "py-3 px-2 text-center border-b w-[10%]"
  }, "\u81EA\u8CA0\u984D"), !mobilePrintMode && /*#__PURE__*/React.createElement("th", {
    className: "py-3 px-2 text-right border-b w-[15%]"
  }, "\u4FDD\u96AA\u8CBB"))), /*#__PURE__*/React.createElement("tbody", {
    className: "table-text-custom"
  }, /*#__PURE__*/React.createElement("tr", {
    className: "bg-blue-50/50 border-b border-blue-100 transition-colors"
  }, /*#__PURE__*/React.createElement("td", {
    className: "py-3 px-2 align-top"
  }, /*#__PURE__*/React.createElement("div", {
    className: "font-black text-blue-900 leading-tight mb-1"
  }, "\u4F4F\u5BB6\u7D9C\u5408\u4FDD\u96AA"), /*#__PURE__*/React.createElement("div", {
    className: "link-wrapper"
  }, [1, 2, 3, 4].map(function (i) {
    var link = comprehensiveLinks === null || comprehensiveLinks === void 0 ? void 0 : comprehensiveLinks["link".concat(i)];
    return (link === null || link === void 0 ? void 0 : link.url) && (link === null || link === void 0 ? void 0 : link.name) && /*#__PURE__*/React.createElement("a", {
      key: i,
      href: link.url,
      target: "_blank",
      className: "coverage-link link-text-blue"
    }, /*#__PURE__*/React.createElement("i", {
      className: "fas fa-file-pdf mr-1 text-[8pt]"
    }), link.name);
  }))), /*#__PURE__*/React.createElement("td", {
    colSpan: mobilePrintMode ? 2 : 4,
    className: "py-3 px-2 text-blue-800 italic align-middle"
  }, "\u4EE5\u4E0B\u70BA\u4F4F\u5BB6\u7D9C\u5408\u4FDD\u96AA\u8A08\u756B\u5167\u5BB9\uFF1A")), data.coverages.filter(function (c) {
    return c.name !== "住家綜合保險";
  }).map(function (item, index) {
    return /*#__PURE__*/React.createElement("tr", {
      key: index,
      className: "border-b border-gray-100 hover:bg-green-50/30 transition"
    }, /*#__PURE__*/React.createElement("td", {
      className: "py-3 px-2 align-top md:pl-4"
    }, renderItemName(item)), /*#__PURE__*/React.createElement("td", {
      className: "py-3 px-2 leading-normal align-top"
    }, item.detail), /*#__PURE__*/React.createElement("td", {
      className: "py-3 px-2 text-center align-top"
    }, item.amount), !mobilePrintMode && /*#__PURE__*/React.createElement("td", {
      className: "py-3 px-2 text-center align-top"
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex flex-col items-center"
    }, /*#__PURE__*/React.createElement("span", null, item.deductible || "無"), item.name.includes("財物損失") && /*#__PURE__*/React.createElement("button", {
      className: "link-text-blue font-bold mt-1 hover:text-red-500 transition",
      onClick: function onClick() {
        return setActiveNote(DEDUCTIBLE_NOTE_DATA);
      }
    }, "(\u8A3B4.5)"))), !mobilePrintMode && /*#__PURE__*/React.createElement("td", {
      className: "py-3 px-2 text-right font-bold align-top"
    }, Number(item.premium || 0).toLocaleString()));
  }), /*#__PURE__*/React.createElement("tr", {
    className: "bg-green-50 font-bold"
  }, /*#__PURE__*/React.createElement("td", {
    colSpan: mobilePrintMode ? 2 : 4,
    className: "py-4 px-3 text-right"
  }, "\uD83D\uDCB0 \u7E3D\u8A08\u4FDD\u96AA\u8CBB (\u65B0\u53F0\u5E63)"), /*#__PURE__*/React.createElement("td", {
    className: "py-4 px-3 text-right text-lg md:text-xl text-red-600 font-black tracking-tight"
  }, "$", calculatedTotal.toLocaleString())))))))), /*#__PURE__*/React.createElement(CenteredNoteModal, {
    isOpen: !!activeNote,
    onClose: function onClose() {
      return setActiveNote(null);
    },
    title: activeNote === null || activeNote === void 0 ? void 0 : activeNote.title,
    notes: (activeNote === null || activeNote === void 0 ? void 0 : activeNote.notes) || []
  }));
};
var App = function App() {
  var _useState9 = useState(INITIAL_DATA),
    _useState0 = _slicedToArray(_useState9, 2),
    data = _useState0[0],
    setData = _useState0[1];
  var _useState1 = useState('presentation'),
    _useState10 = _slicedToArray(_useState1, 2),
    currentView = _useState10[0],
    setCurrentView = _useState10[1];
  var _useState11 = useState(false),
    _useState12 = _slicedToArray(_useState11, 2),
    isEditingLinks = _useState12[0],
    setIsEditingLinks = _useState12[1];
  var _useState13 = useState(false),
    _useState14 = _slicedToArray(_useState13, 2),
    showPromptModal = _useState14[0],
    setShowPromptModal = _useState14[1];
  var fileInputRef = useRef(null);
  var calculatedTotal = useMemo(function () {
    return data.coverages.reduce(function (sum, item) {
      return sum + Number(item.premium || 0);
    }, 0);
  }, [data.coverages]);
  var findMatchingLinks = function findMatchingLinks(coverageItem) {
    if (!coverageItem.name) return null;
    var normalizedName = coverageItem.name.trim();
    return data.linkLibrary.find(function (lib) {
      return lib.keyword && normalizedName.includes(lib.keyword.trim());
    });
  };
  var handleLibraryChange = useCallback(function (index, field, value) {
    var subField = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
    setData(function (prev) {
      var newLibrary = _toConsumableArray(prev.linkLibrary);
      if (subField) newLibrary[index][field] = _objectSpread(_objectSpread({}, newLibrary[index][field]), {}, _defineProperty({}, subField, value));else newLibrary[index][field] = value;
      return _objectSpread(_objectSpread({}, prev), {}, {
        linkLibrary: newLibrary
      });
    });
  }, []);

  /**
   * 存檔功能強化：
   * 將目前 React 狀態（包含修改後的資料庫連結）完整寫入新檔案的 <script id="saved-data"> 內。
   * 這樣產出的 HTML 文件就是一個完全獨立、包含最新資料的單檔。
   */
  var saveAsHtml = function saveAsHtml() {
    // 複製整個 DOM 結構
    var clone = document.documentElement.cloneNode(true);

    // 清空 root，確保新檔案開啟時會由其內建的 JSON 重新初始化 React
    var rootDiv = clone.querySelector('#root');
    if (rootDiv) rootDiv.innerHTML = '';

    // 將目前的 state (data) 序列化並寫入 script 標籤
    var savedDataScript = clone.querySelector("#saved-data");
    if (savedDataScript) {
      // 這包含 meta, client, coverages 以及最關鍵的變更後 linkLibrary
      savedDataScript.textContent = JSON.stringify(data, null, 2);
    }

    // 產生檔名邏輯
    var dateStr = "";
    if (data.client.policyPeriod) {
      var match = data.client.policyPeriod.match(/(\d{2,3})\s*年\s*(\d{1,2})\s*月\s*(\d{1,2})\s*日/);
      if (match) {
        var year = match[1];
        var month = match[2].padStart(2, '0');
        var day = match[3].padStart(2, '0');
        dateStr = "".concat(year).concat(month).concat(day);
      }
    }
    var fileName = "".concat(dateStr).concat(data.client.name || '', "-\u4F4F\u5B85\u706B\u96AA\u8F14\u52A9\u8AAA\u660E.html");
    var blob = new Blob([clone.outerHTML], {
      type: "text/html"
    });
    var url = URL.createObjectURL(blob);
    var link = document.createElement('a');
    link.href = url;
    link.download = fileName;
    link.click();

    // 釋放記憶體
    setTimeout(function () {
      return URL.revokeObjectURL(url);
    }, 100);
  };
  var importData = function importData(event) {
    var file = event.target.files[0];
    if (!file) return;
    var reader = new FileReader();
    reader.onload = function (e) {
      try {
        var importedData = JSON.parse(e.target.result);
        if (!importedData.linkLibrary || importedData.linkLibrary.length === 0) {
          importedData.linkLibrary = JSON.parse(JSON.stringify(data.linkLibrary));
        }
        setData(importedData);
      } catch (error) {
        console.error("JSON 解析錯誤");
      }
    };
    reader.readAsText(file);
    event.target.value = '';
  };
  var reloadInitialData = function reloadInitialData() {
    if (confirm('確定要還原到預設值（清空所有輸入資料）？')) {
      setData(JSON.parse(JSON.stringify(EMPTY_TEMPLATE)));
    }
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-gray-100 font-sans"
  }, currentView === 'manage_links' ? /*#__PURE__*/React.createElement(LinkManagerView, {
    data: data,
    isEditingLinks: isEditingLinks,
    setIsEditingLinks: setIsEditingLinks,
    setCurrentView: setCurrentView,
    handleLibraryChange: handleLibraryChange,
    addLibraryRow: function addLibraryRow() {
      return setData(function (prev) {
        return _objectSpread(_objectSpread({}, prev), {}, {
          linkLibrary: [].concat(_toConsumableArray(prev.linkLibrary), [{
            id: Date.now(),
            code: "",
            keyword: "",
            link1: {},
            link2: {},
            link3: {},
            link4: {}
          }])
        });
      });
    },
    removeLibraryRow: function removeLibraryRow(i) {
      return setData(function (prev) {
        return _objectSpread(_objectSpread({}, prev), {}, {
          linkLibrary: prev.linkLibrary.filter(function (_, idx) {
            return idx !== i;
          })
        });
      });
    },
    saveAsHtml: saveAsHtml
  }) : currentView === 'edit_data' ? /*#__PURE__*/React.createElement(EditView, {
    data: data,
    setData: setData,
    setCurrentView: setCurrentView
  }) : /*#__PURE__*/React.createElement(PresentationView, {
    data: data,
    setCurrentView: setCurrentView,
    findMatchingLinks: findMatchingLinks,
    calculatedTotal: calculatedTotal,
    importData: importData,
    reloadInitialData: reloadInitialData,
    saveAsHtml: saveAsHtml,
    fileInputRef: fileInputRef,
    setShowPromptModal: setShowPromptModal
  }), showPromptModal && /*#__PURE__*/React.createElement(PromptModal, {
    onClose: function onClose() {
      return setShowPromptModal(false);
    }
  }));
};
var root = ReactDOM.createRoot(document.getElementById('root'));
root.render(/*#__PURE__*/React.createElement(App, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZUNhbGxiYWNrIiwiREJfREVGQVVMVF8xMSIsImlkIiwiY29kZSIsImtleXdvcmQiLCJsaW5rMSIsIm5hbWUiLCJ1cmwiLCJsaW5rMiIsImxpbmszIiwibGluazQiLCJnZXRJbml0aWFsRGF0YSIsImRhdGFTY3JpcHQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicGFyc2VkIiwidGV4dENvbnRlbnQiLCJKU09OIiwicGFyc2UiLCJsaW5rTGlicmFyeSIsImxlbmd0aCIsInN0cmluZ2lmeSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXRhIiwiY2xpZW50IiwiY292ZXJhZ2VzIiwiSU5JVElBTF9EQVRBIiwiRU1QVFlfVEVNUExBVEUiLCJxdW90ZU51bWJlciIsImRhdGUiLCJwcm9wb3Nlck5hbWUiLCJwcm9wb3NlclBob25lIiwicGhvbmUiLCJtYWlsaW5nQWRkcmVzcyIsImFkZHJlc3MiLCJtb2RlbCIsInBsYXRlIiwiZW5naW5lTm8iLCJtYW51ZmFjdHVyaW5nRGF0ZSIsInBvbGljeVBlcmlvZCIsIkNlbnRlcmVkTm90ZU1vZGFsIiwiX3JlZiIsImlzT3BlbiIsIm9uQ2xvc2UiLCJ0aXRsZSIsIm5vdGVzIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJtYXAiLCJub3RlIiwiaSIsImtleSIsIlByb21wdE1vZGFsIiwiX3JlZjIiLCJfdXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJwcm9tcHRUZXh0IiwiaGFuZGxlQ29weSIsInRleHRBcmVhIiwidmFsdWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsInNldFRpbWVvdXQiLCJlcnIiLCJyZW1vdmVDaGlsZCIsInJlYWRPbmx5IiwiY29uY2F0IiwiRnJhZ21lbnQiLCJMaW5rTWFuYWdlclZpZXciLCJfcmVmMyIsImRhdGEiLCJpc0VkaXRpbmdMaW5rcyIsInNldElzRWRpdGluZ0xpbmtzIiwic2V0Q3VycmVudFZpZXciLCJoYW5kbGVMaWJyYXJ5Q2hhbmdlIiwiYWRkTGlicmFyeVJvdyIsInJlbW92ZUxpYnJhcnlSb3ciLCJzYXZlQXNIdG1sIiwibGliIiwiaW5kZXgiLCJvbkNoYW5nZSIsInRhcmdldCIsIm1heExlbmd0aCIsInJvd3MiLCJfbGliIiwiX2xpYjIiLCJfbGliMyIsIl9saWI0IiwicGxhY2Vob2xkZXIiLCJFZGl0VmlldyIsIl9yZWY0Iiwic2V0RGF0YSIsImhhbmRsZUNsaWVudENoYW5nZSIsImZpZWxkIiwicHJldiIsIl9vYmplY3RTcHJlYWQiLCJfZGVmaW5lUHJvcGVydHkiLCJoYW5kbGVDb3ZlcmFnZUNoYW5nZSIsIm5ld0NvdmVyYWdlcyIsIl90b0NvbnN1bWFibGVBcnJheSIsImFkZENvdmVyYWdlUm93IiwiRGF0ZSIsIm5vdyIsImRldGFpbCIsImFtb3VudCIsImRlZHVjdGlibGUiLCJwcmVtaXVtIiwicmVtb3ZlQ292ZXJhZ2VSb3ciLCJmaWx0ZXIiLCJfIiwiT2JqZWN0Iiwia2V5cyIsImMiLCJ0eXBlIiwiUHJlc2VudGF0aW9uVmlldyIsIl9yZWY1IiwiX2RhdGEkbGlua0xpYnJhcnkkZmluIiwiX2RhdGEkbGlua0xpYnJhcnkkZmluMiIsIl9kYXRhJGxpbmtMaWJyYXJ5JGZpbjMiLCJfY2F0YWxvZ0l0ZW0kbGluayIsImZpbmRNYXRjaGluZ0xpbmtzIiwiY2FsY3VsYXRlZFRvdGFsIiwiaW1wb3J0RGF0YSIsInJlbG9hZEluaXRpYWxEYXRhIiwiZmlsZUlucHV0UmVmIiwic2V0U2hvd1Byb21wdE1vZGFsIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJtb2JpbGVQcmludE1vZGUiLCJzZXRNb2JpbGVQcmludE1vZGUiLCJfdXNlU3RhdGU1IiwiX3VzZVN0YXRlNiIsImNsaWNrSGlzdG9yeSIsInNldENsaWNrSGlzdG9yeSIsIl91c2VTdGF0ZTciLCJfdXNlU3RhdGU4IiwiYWN0aXZlTm90ZSIsInNldEFjdGl2ZU5vdGUiLCJERURVQ1RJQkxFX05PVEVfREFUQSIsImNvbnRhaW5lckNsYXNzIiwiaGFuZGxlVG9nZ2xlTW9kZSIsIm5ld0hpc3RvcnkiLCJ0aW1lIiwiYmFja0l0ZW0iLCJmaW5kIiwibCIsImFwcGxpY2F0aW9uSXRlbSIsInF1b3RlSXRlbSIsImNhdGFsb2dJdGVtIiwiY29tcHJlaGVuc2l2ZUxpbmtzIiwiZ2V0Tm90ZURhdGEiLCJpbmNsdWRlcyIsInJlbmRlckl0ZW1OYW1lIiwiaXRlbSIsIm5vdGVEYXRhIiwibWF0Y2hlZExpbmtzIiwibGluayIsImhyZWYiLCJhY2NlcHQiLCJyZWYiLCJjb2xTcGFuIiwiTnVtYmVyIiwidG9Mb2NhbGVTdHJpbmciLCJBcHAiLCJfdXNlU3RhdGU5IiwiX3VzZVN0YXRlMCIsIl91c2VTdGF0ZTEiLCJfdXNlU3RhdGUxMCIsImN1cnJlbnRWaWV3IiwiX3VzZVN0YXRlMTEiLCJfdXNlU3RhdGUxMiIsIl91c2VTdGF0ZTEzIiwiX3VzZVN0YXRlMTQiLCJzaG93UHJvbXB0TW9kYWwiLCJyZWR1Y2UiLCJzdW0iLCJjb3ZlcmFnZUl0ZW0iLCJub3JtYWxpemVkTmFtZSIsInRyaW0iLCJzdWJGaWVsZCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIm5ld0xpYnJhcnkiLCJjbG9uZSIsImRvY3VtZW50RWxlbWVudCIsImNsb25lTm9kZSIsInJvb3REaXYiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwic2F2ZWREYXRhU2NyaXB0IiwiZGF0ZVN0ciIsIm1hdGNoIiwieWVhciIsIm1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJmaWxlTmFtZSIsImJsb2IiLCJCbG9iIiwib3V0ZXJIVE1MIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsImV2ZW50IiwiZmlsZSIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImltcG9ydGVkRGF0YSIsInJlc3VsdCIsInJlYWRBc1RleHQiLCJjb25maXJtIiwiaWR4Iiwicm9vdCIsIlJlYWN0RE9NIiwiY3JlYXRlUm9vdCIsInJlbmRlciJdLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICAgIGNvbnN0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VDYWxsYmFjayB9ID0gUmVhY3Q7XG5cbiAgICAgICAgY29uc3QgREJfREVGQVVMVF8xMSA9IFtcbiAgICAgICAgICAgIHsgaWQ6IDEwMDEsIGNvZGU6IFwiQTAxXCIsIGtleXdvcmQ6IFwi5L2P5a6257ac5ZCI5L+d6ZqqXCIsIGxpbmsxOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazI6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rMzoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbms0OiB7IG5hbWU6IFwi5L+d5Zau5qKd5qy+XCIsIHVybDogXCJodHRwczovL2RyaXZlLmdvb2dsZS5jb20vZmlsZS9kLzFERHZ1bFg3bkFhbkYwaFk1ZHFMM0tRbVFSUzR1bS04eC92aWV3P3VzcD1zaGFyaW5nXCIgfSB9LFxuICAgICAgICAgICAgeyBpZDogMTAwMiwgY29kZTogXCJCMDFcIiwga2V5d29yZDogXCLkvY/lrrbosqHnianmkI3lpLHkv53pmqpcIiwgbGluazE6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rMjoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbmszOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazQ6IHsgbmFtZTogXCLkv53llq7mop3mrL5cIiwgdXJsOiBcImh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS9maWxlL2QvMUhfWERQTHJ3dHAtRmk2QXpkeGxrT3BsSjYtV0NYRW1oL3ZpZXc/dXNwPWRyaXZlX2xpbmtcIiB9IH0sXG4gICAgICAgICAgICB7IGlkOiAxMDAzLCBjb2RlOiBcIkMwMVwiLCBrZXl3b3JkOiBcIuS9j+WutuesrOS4ieS6uuiyrOS7u+S/nemaqlwiLCBsaW5rMToge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbmsyOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazM6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rNDogeyBuYW1lOiBcIuS/neWWruaineasvlwiLCB1cmw6IFwiaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xdkY5aDJpdENPYVNkLUt3Rm9IRVJSN3dlR1k2SVVZTnMvdmlldz91c3A9ZHJpdmVfbGlua1wiIH0gfSxcbiAgICAgICAgICAgIHsgaWQ6IDEwMDQsIGNvZGU6IFwi5L2P5a6F5Zyw6ZyH5Z+65pys5L+d6ZqqXCIsIGtleXdvcmQ6IFwi5L2P5a6F5Zyw6ZyH5Z+65pys5L+d6ZqqXCIsIGxpbmsxOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazI6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rMzoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbms0OiB7IG5hbWU6IFwi5L+d5Zau5qKd5qy+XCIsIHVybDogXCJodHRwczovL2RyaXZlLmdvb2dsZS5jb20vZmlsZS9kLzF1MG80UUJvSG1jTWcxNzBDd0hqUGhueGZWV2otYmRfQy92aWV3P3VzcD1kcml2ZV9saW5rXCIgfSB9LFxuICAgICAgICAgICAgeyBpZDogMTAwNSwgY29kZTogXCJFMDFcIiwga2V5d29yZDogXCLkvY/lrrbntqDog73ljYfntJrpmYTliqDmop3mrL5cIiwgbGluazE6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rMjoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbmszOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazQ6IHsgbmFtZTogXCLkv53llq7mop3mrL5cIiwgdXJsOiBcImh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS9maWxlL2QvMVJpbmthYjZhLVh5Y050QVFkaWFQb2dqUVNFTDVwTkhvL3ZpZXc/dXNwPWRyaXZlX2xpbmtcIiB9IH0sXG4gICAgICAgICAgICB7IGlkOiAxMDA2LCBjb2RlOiBcIkYwMVwiLCBrZXl3b3JkOiBcIuaTtOWkp+aJv+S/neapn+i7iueBq+eBveS6i+aVhemZhOWKoOaineasvlwiLCBsaW5rMToge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbmsyOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazM6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rNDogeyBuYW1lOiBcIuS/neWWruaineasvlwiLCB1cmw6IFwiaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xa0NoeVNTV0dIdUo5Skh6M2FCTEtIVWc4ejFZcFZtT0Uvdmlldz91c3A9ZHJpdmVfbGlua1wiIH0gfSxcbiAgICAgICAgICAgIHsgaWQ6IDEwMDcsIGNvZGU6IFwiRzAxXCIsIGtleXdvcmQ6IFwi5L2P5a6F5aSp54G96LK755So6KOc5YSf5L+d6ZqqXCIsIGxpbmsxOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazI6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rMzoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbms0OiB7IG5hbWU6IFwi5L+d5Zau5qKd5qy+XCIsIHVybDogXCJodHRwczovL2RyaXZlLmdvb2dsZS5jb20vZmlsZS9kLzFGcnQ1ZVNpQkdsQ1l6enN5NzY1dEIzZDAxYmxzQ3NzXy92aWV3P3VzcD1kcml2ZV9saW5rXCIgfSB9LFxuICAgICAgICAgICAgeyBpZDogMTAwOCwgY29kZTogXCJIMDFcIiwga2V5d29yZDogXCLnuozkv53ntITlrprpmYTliqDmop3mrL5cIiwgbGluazE6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rMjoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbmszOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazQ6IHsgbmFtZTogXCLkv53llq7mop3mrL5cIiwgdXJsOiBcIlwiIH0gfSxcbiAgICAgICAgICAgIHsgaWQ6IDEwMDksIGNvZGU6IFwiWjAxXCIsIGtleXdvcmQ6IFwi5Zue5LiK6aCBXCIsIGxpbmsxOiB7IG5hbWU6IFwi5Zue5LiK6aCBXCIsIHVybDogXCJcIiB9LCBsaW5rMjoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbmszOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazQ6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9IH0sXG4gICAgICAgICAgICB7IGlkOiAxMDEwLCBjb2RlOiBcIlowMlwiLCBrZXl3b3JkOiBcIuimgeS/neabuFwiLCBsaW5rMTogeyBuYW1lOiBcIuimgeS/neabuOWFp+WuuVwiLCB1cmw6IFwiXCIgfSwgbGluazI6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rMzoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbms0OiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSB9LFxuICAgICAgICAgICAgeyBpZDogMTAxMSwgY29kZTogXCJaMDNcIiwga2V5d29yZDogXCLloLHlg7nllq5cIiwgbGluazE6IHsgbmFtZTogXCLloLHlg7nllq7lhaflrrlcIiwgdXJsOiBcIlwiIH0sIGxpbmsyOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazM6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9LCBsaW5rNDoge25hbWU6IFwiXCIsIHVybDogXCJcIn0gfSxcbiAgICAgICAgICAgIHsgaWQ6IDEwMTIsIGNvZGU6IFwiTTAxXCIsIGtleXdvcmQ6IFwi55uu6YyEXCIsIGxpbmsxOiB7IG5hbWU6IFwi55uu6YyEXCIsIHVybDogXCJcIiB9LCBsaW5rMjoge25hbWU6IFwiXCIsIHVybDogXCJcIn0sIGxpbmszOiB7bmFtZTogXCJcIiwgdXJsOiBcIlwifSwgbGluazQ6IHtuYW1lOiBcIlwiLCB1cmw6IFwiXCJ9IH1cbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBnZXRJbml0aWFsRGF0YSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVNjcmlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlZC1kYXRhJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gZGF0YVNjcmlwdCAmJiBkYXRhU2NyaXB0LnRleHRDb250ZW50ID8gSlNPTi5wYXJzZShkYXRhU2NyaXB0LnRleHRDb250ZW50KSA6IHt9O1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkLmxpbmtMaWJyYXJ5IHx8IHBhcnNlZC5saW5rTGlicmFyeS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkLmxpbmtMaWJyYXJ5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShEQl9ERUZBVUxUXzExKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoXCLos4fmlpnmoLzlvI/op6PmnpDlpLHmlZdcIik7IH1cbiAgICAgICAgICAgIHJldHVybiB7IG1ldGE6IHt9LCBjbGllbnQ6IHt9LCBjb3ZlcmFnZXM6IFtdLCBsaW5rTGlicmFyeTogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShEQl9ERUZBVUxUXzExKSkgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBJTklUSUFMX0RBVEEgPSBnZXRJbml0aWFsRGF0YSgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgRU1QVFlfVEVNUExBVEUgPSB7XG4gICAgICAgICAgICBtZXRhOiB7IHF1b3RlTnVtYmVyOiBcIlwiLCBkYXRlOiBcIlwiIH0sXG4gICAgICAgICAgICBjbGllbnQ6IHtcbiAgICAgICAgICAgICAgICBwcm9wb3Nlck5hbWU6IFwiXCIsIG5hbWU6IFwiXCIsIHByb3Bvc2VyUGhvbmU6IFwiXCIsIHBob25lOiBcIlwiLFxuICAgICAgICAgICAgICAgIG1haWxpbmdBZGRyZXNzOiBcIlwiLCBhZGRyZXNzOiBcIlwiLCBtb2RlbDogXCJcIiwgcGxhdGU6IFwiXCIsXG4gICAgICAgICAgICAgICAgZW5naW5lTm86IFwiXCIsIG1hbnVmYWN0dXJpbmdEYXRlOiBcIlwiLCBwb2xpY3lQZXJpb2Q6IFwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb3ZlcmFnZXM6IFtdLFxuICAgICAgICAgICAgbGlua0xpYnJhcnk6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoREJfREVGQVVMVF8xMSkpXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgQ2VudGVyZWROb3RlTW9kYWwgPSAoeyBpc09wZW4sIG9uQ2xvc2UsIHRpdGxlLCBub3RlcyB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LVs1MDBdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCBiZy1ibGFjay82MCBiYWNrZHJvcC1ibHVyLXNtIGN1cnNvci1wb2ludGVyXCIgb25DbGljaz17b25DbG9zZX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctWyNmZWZjZThdIGJvcmRlci0yIGJvcmRlci15ZWxsb3ctNDAwIHJvdW5kZWQteGwgbWF4LXctbWQgdy1mdWxsIG1heC1oLVs4NXZoXSBvdmVyZmxvdy15LWF1dG8gcC02IHNoYWRvdy0yeGwgcmVsYXRpdmUgY3Vyc29yLXBvaW50ZXJcIiBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC03MDAgZm9udC1ib2xkIHRleHQteGwgbWItNCBwYi0yIGJvcmRlci1iLTIgYm9yZGVyLXllbGxvdy0zMDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYXMgZmEtaW5mby1jaXJjbGVcIj48L2k+IHt0aXRsZSB8fCAn55CG6LOg6YeN6bue5pGY6KaBJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtub3Rlcy5tYXAoKG5vdGUsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IGNsYXNzTmFtZT1cImZsZXggZ2FwLTMgdGV4dC1iYXNlIGxlYWRpbmctcmVsYXhlZCB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1yZWQtNTAwIHNocmluay0wXCI+e2krMX0uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e25vdGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IHB0LTQgYm9yZGVyLXQgYm9yZGVyLXllbGxvdy0yMDAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgaXRhbGljIGZvbnQtbWVkaXVtXCI+6bue5pOK6KaW56qX5YWn5Lu75oSP6JmV5Y2z5Y+v6Zec6ZaJPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBQcm9tcHRNb2RhbCA9ICh7IG9uQ2xvc2UgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2NvcGllZCwgc2V0Q29waWVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdFRleHQgPSBg5L2g5piv5bCI5qWt55qE5L2P5a6F54Gr6Zqq6L2J5bCN5Yqp55CG44CC6KuL5bCH44CM5L+d6Zqq5aCx5YO55Zau44CN5YWn5a656L2J5o+b54K656ym5ZCI54m55a6a57WQ5qeL55qEIEpTT04g5qC85byP44CCXG5cbioq5Zq05qC85o+Q5Y+W6IiH57WQ5qeL6KaB5rGC77yaKipcblxuMS4gKipKU09OIOWxpOe0mioq77yaXG4gICAqIG1ldGE6IOWMheWQqyBxdW90ZU51bWJlciAo5aCx5YO55Zau6JmfKSwgZGF0ZSAo5aCx5YO55pel5pyfKeOAglxuICAgKiBjbGllbnQ6IOWMheWQqyDopoHkv53kurov6KKr5L+d5Lq66LOH6KiK6IiH5bu656+J6LOH6KiK44CCXG4gICAqIGNvdmVyYWdlczog6Zqq56iu6Zmj5YiX44CCXG5cbjIuICoq5bu656+J6LOH6KiKICjmlL7lnKggY2xpZW50IOWFpykqKu+8mlxuICAgKiBtb2RlbDog57WQ5qeLICjlpoLvvJrpi7znrYvmt7flh53lnJ/pgKAp44CCXG4gICAqIHBsYXRlOiDmqJPlsaQgKOWmgu+8muWFsSA3IOWxpCnjgIJcbiAgICogZW5naW5lTm865Z2q5pW4ICjlpoLvvJo2NS43NeWdqinjgIJcbiAgICogbWFudWZhY3R1cmluZ0RhdGU6IOWujOW3peW5tOW6piAo5aaC77ya5rCR5ZyLNzPlubQp44CCXG5cbjMuICoq6Zqq56iu6LOH6KiKICjmlL7lnKggY292ZXJhZ2VzIOmZo+WIl+WFpykqKu+8mlxuICAgKiDmr4/lgIvnianku7blv4XpoIjljIXlkKvvvJpuYW1lICjpmqrnqK7lkI3nqLEpLCBkZXRhaWwgKOS/nemaquaomeeahOeJqeaWh+WtlyksIGFtb3VudCAo5L+d6aGNKSwgZGVkdWN0aWJsZSAo6Ieq6LKg6aGNKSwgcHJlbWl1bSAo5L+d6LK75pW45a2XKeOAglxuICAgKiAqKumXnOmNteS/neiyu+mCj+i8ryoq77yaXG4gICAgICog44CM5L2P5a6257ac5ZCI5L+d6Zqq44CN77ya6YCZ5piv6KiI55Wr5ZCN56ix77yM6KuL5YuZ5b+F5pS+5Zyo6Zmj5YiX55qE56ys5LiA5L2N44CC5YW2IHByZW1pdW0gKOS/neiyuykg5qyE5L2N6KuL5YuZ5b+F5aGr5YWlIDDvvIzku6Xpgb/lhY3oiIfkuIvmlrnntLDpoIXph43opIfoqIjnrpfnuL3kv53osrvjgIJcbiAgICAgKiDlhbbku5bntLDpoIXpmqrnqK7vvJroq4vkvp3nhafloLHlg7nllq7lr6bpmpvph5HpoY3mj5Dlj5bkv53osrvjgIJcblxuNC4gKirmrITkvY3lsI3mh4nooagqKu+8mlxuICAgKiBwcm9wb3Nlck5hbWU6IOimgeS/neS6uiwgbmFtZTog6KKr5L+d5Lq6LCBwcm9wb3NlclBob25lOiDopoHkv53kurrpm7voqbEsIHBob25lOiDooqvkv53kurrpm7voqbEsIG1haWxpbmdBZGRyZXNzOiDpgJroqIrlnLDlnYAsIGFkZHJlc3M6IOaomeeahOeJqeWcsOWdgCwgcG9saWN5UGVyaW9kOiDkv53pmqrmnJ/plpPjgIJcblxuKirovLjlh7rpmZDliLYgKOmHjeimgemYsumMrynvvJoqKlxuKiAqKuemgeatouW8leeUqOaomeiomCoq77ya6Ly45Ye65YWn5a6557WV5bCN5LiN5Y+v5YyF5ZCr5Lu75L2VIOOAgVtjaXRlOiAuLi5dIOaIlumhnuS8vOeahOafpeitieW8leeUqOaomeiomOOAglxuKiAqKue0lOa3qOagvOW8jyoq77ya5Y+q5Zue5YKz57SU5reo55qEIEpTT04g56iL5byP56K85aGK77yM56K65L+d5LiN6ZyA5Lu75L2V6JmV55CG5Y2z5Y+v6KKrIEpTT04ucGFyc2UoKSDop6PmnpDjgIJgO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVDb3B5ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgICAgICAgICAgICAgIHRleHRBcmVhLnZhbHVlID0gcHJvbXB0VGV4dDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDb3BpZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0Q29waWVkKGZhbHNlKSwgMjAwMCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7IGNvbnNvbGUuZXJyb3IoJ+eEoeazleikh+ijvScsIGVycik7IH1cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWdyYXktOTAwIGJnLW9wYWNpdHktNzUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei1bMzAwXSBwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy14bCBtYXgtdy0yeGwgdy1mdWxsIGZsZXggZmxleC1jb2wgbWF4LWgtWzkwdmhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgYmctZ3JheS01MCByb3VuZGVkLXQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTgwMFwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS1yb2JvdCB0ZXh0LWJsdWUtNjAwIG1yLTJcIj48L2k+55Sf5oiQIEFJIOi9ieaPm+aMh+S7pDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfSBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDBcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtdGltZXMgdGV4dC14bFwiPjwvaT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgb3ZlcmZsb3cteS1hdXRvIGZsZXgtMSB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgcmVhZE9ubHkgY2xhc3NOYW1lPVwidy1mdWxsIGgtODAgcC00IGJnLWdyYXktODAwIHRleHQtZ3JlZW4tNDAwIGZvbnQtbW9ubyB0ZXh0LXNtIHJvdW5kZWQgc2hhZG93LWlubmVyXCIgdmFsdWU9e3Byb21wdFRleHR9PjwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci10IGJnLWdyYXktNTAgZmxleCBqdXN0aWZ5LWVuZCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS0yMDAgcm91bmRlZCBmb250LW1lZGl1bVwiPumXnOmWiTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ29weX0gY2xhc3NOYW1lPXtgcHgtNSBweS0yIHJvdW5kZWQgc2hhZG93IGZvbnQtYm9sZCB0cmFuc2l0aW9uIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yICR7Y29waWVkID8gJ2JnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWJsdWUtNzAwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvcGllZCA/IDw+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLWNoZWNrXCI+PC9pPiDlt7LopIfoo73liLDliarosrznsL88Lz4gOiA8PjxpIGNsYXNzTmFtZT1cImZhcyBmYS1jb3B5XCI+PC9pPiDopIfoo73mjIfku6Q8Lz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IExpbmtNYW5hZ2VyVmlldyA9ICh7IGRhdGEsIGlzRWRpdGluZ0xpbmtzLCBzZXRJc0VkaXRpbmdMaW5rcywgc2V0Q3VycmVudFZpZXcsIGhhbmRsZUxpYnJhcnlDaGFuZ2UsIGFkZExpYnJhcnlSb3csIHJlbW92ZUxpYnJhcnlSb3csIHNhdmVBc0h0bWwgfSkgPT4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBiZy13aGl0ZSBtaW4taC1zY3JlZW4gcC04XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNiBib3JkZXItYiBwYi00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ibHVlLTcwMFwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS1kYXRhYmFzZSBtci0yXCI+PC9pPumAo+e1kOizh+aWmeW6q+euoeeQhiAo5YWxIHtkYXRhLmxpbmtMaWJyYXJ5Lmxlbmd0aH0g5qKdKTwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmdMaW5rcyghaXNFZGl0aW5nTGlua3MpfSBjbGFzc05hbWU9e2BweC00IHB5LTIgcm91bmRlZCBmb250LW1lZGl1bSAke2lzRWRpdGluZ0xpbmtzID8gJ2JnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy15ZWxsb3ctNTAwIHRleHQtYmxhY2snfWB9Pntpc0VkaXRpbmdMaW5rcyA/IFwi5a6M5oiQ5Lim5YSy5a2YXCIgOiBcIuS/ruaUueioreWumlwifTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtzYXZlQXNIdG1sfSBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctaW5kaWdvLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgZm9udC1tZWRpdW0gc2hhZG93XCI+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLWZpbGUtZG93bmxvYWRcIj48L2k+IOWtmOaqlDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50VmlldygncHJlc2VudGF0aW9uJyl9IGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ncmF5LTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWRcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtYXJyb3ctbGVmdFwiPjwvaT4g6L+U5ZuePC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvIHNoYWRvdyByb3VuZGVkLWxnIGJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBib3JkZXItY29sbGFwc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNzAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTQgdy0yMCBiZy15ZWxsb3ctMTAwIHRleHQtY2VudGVyXCI+5Luj6JmfPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtNCB3LTY0IHRleHQtY2VudGVyXCI+6Zec6Y215a2XICjljLnphY3pmqrnqK4pPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtNFwiPumAo+e1kOioreWumiAoTGluayAxLTQpPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRWRpdGluZ0xpbmtzICYmIDx0aCBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXJcIj7mk43kvZw8L3RoPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGF0YS5saW5rTGlicmFyeS5tYXAoKGxpYiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17bGliLmlkfSBjbGFzc05hbWU9XCJib3JkZXItdCB0ZXh0LXNtIGhvdmVyOmJnLWdyYXktNTAgdHJhbnNpdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtNCBhbGlnbi10b3AgYmcteWVsbG93LTUwIGZvbnQtYm9sZCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0VkaXRpbmdMaW5rcyA/IDxpbnB1dCBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLTIgYm9yZGVyLXllbGxvdy0zMDAgcm91bmRlZCBwLTEgdGV4dC1jZW50ZXIgZm9udC1ib2xkXCIgdmFsdWU9e2xpYi5jb2RlIHx8ICcnfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUxpYnJhcnlDaGFuZ2UoaW5kZXgsICdjb2RlJywgZS50YXJnZXQudmFsdWUpfSBtYXhMZW5ndGg9ezN9IC8+IDogbGliLmNvZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtNCBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNFZGl0aW5nTGlua3MgPyA8dGV4dGFyZWEgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciByb3VuZGVkIHAtMlwiIHJvd3M9ezN9IHZhbHVlPXtsaWIua2V5d29yZH0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVMaWJyYXJ5Q2hhbmdlKGluZGV4LCAna2V5d29yZCcsIGUudGFyZ2V0LnZhbHVlKX0gLz4gOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1jZW50ZXIgYmxvY2sgdy1mdWxsXCI+e2xpYi5rZXl3b3JkfTwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtNCBhbGlnbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1sxLCAyLCAzLCA0XS5tYXAoaSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aX0gY2xhc3NOYW1lPVwicC0yIGJnLWdyYXktNTAgYm9yZGVyIHJvdW5kZWQtbGcgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LVsxMHB4XSB0ZXh0LWJsdWUtNTAwIGZvbnQtYm9sZCBtYi0xIHVwcGVyY2FzZSB0cmFja2luZy10aWdodGVyXCI+6YCj57WQIHtpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0VkaXRpbmdMaW5rcyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHAtMSB0ZXh0LXhzIHJvdW5kZWRcIiBwbGFjZWhvbGRlcj1cIuaMiemIleWQjeeosVwiIHZhbHVlPXtsaWJbYGxpbmske2l9YF0/Lm5hbWUgfHwgJyd9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlTGlicmFyeUNoYW5nZShpbmRleCwgYGxpbmske2l9YCwgZS50YXJnZXQudmFsdWUsICduYW1lJyl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlciBwLTEgdGV4dC14cyBmb250LW1vbm8gcm91bmRlZFwiIHBsYWNlaG9sZGVyPVwiVVJMIOe2suWdgFwiIHZhbHVlPXtsaWJbYGxpbmske2l9YF0/LnVybCB8fCAnJ30gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVMaWJyYXJ5Q2hhbmdlKGluZGV4LCBgbGluayR7aX1gLCBlLnRhcmdldC52YWx1ZSwgJ3VybCcpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS03MDBcIj57bGliW2BsaW5rJHtpfWBdPy5uYW1lIHx8IFwiLVwifTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHRleHQtZ3JheS00MDAgdHJ1bmNhdGUgdy1mdWxsXCI+e2xpYltgbGluayR7aX1gXT8udXJsIHx8IFwi5pyq6Kit5a6aXCJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0VkaXRpbmdMaW5rcyAmJiA8dGQgY2xhc3NOYW1lPVwicC00IHRleHQtY2VudGVyIGFsaWduLXRvcFwiPjxidXR0b24gb25DbGljaz17KCkgPT4gcmVtb3ZlTGlicmFyeVJvdyhpbmRleCl9IGNsYXNzTmFtZT1cInRleHQtcmVkLTQwMCBob3Zlcjp0ZXh0LXJlZC02MDAgdHJhbnNpdGlvbiBwLTJcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtdHJhc2gtYWx0XCI+PC9pPjwvYnV0dG9uPjwvdGQ+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7aXNFZGl0aW5nTGlua3MgJiYgPGJ1dHRvbiBvbkNsaWNrPXthZGRMaWJyYXJ5Um93fSBjbGFzc05hbWU9XCJtdC00IHB4LTQgcHktMiBiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSByb3VuZGVkIHNoYWRvdyBmb250LWJvbGQgaG92ZXI6YmctZ3JlZW4tNzAwIHRyYW5zaXRpb25cIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtcGx1cyBtci0yXCI+PC9pPuaWsOWinumgheebrjwvYnV0dG9uPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IEVkaXRWaWV3ID0gKHsgZGF0YSwgc2V0RGF0YSwgc2V0Q3VycmVudFZpZXcgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQ2xpZW50Q2hhbmdlID0gKGZpZWxkLCB2YWx1ZSkgPT4gc2V0RGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIGNsaWVudDogeyAuLi5wcmV2LmNsaWVudCwgW2ZpZWxkXTogdmFsdWUgfSB9KSk7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVDb3ZlcmFnZUNoYW5nZSA9IChpbmRleCwgZmllbGQsIHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q292ZXJhZ2VzID0gWy4uLmRhdGEuY292ZXJhZ2VzXTtcbiAgICAgICAgICAgICAgICBuZXdDb3ZlcmFnZXNbaW5kZXhdID0geyAuLi5uZXdDb3ZlcmFnZXNbaW5kZXhdLCBbZmllbGRdOiB2YWx1ZSB9O1xuICAgICAgICAgICAgICAgIHNldERhdGEocHJldiA9PiAoeyAuLi5wcmV2LCBjb3ZlcmFnZXM6IG5ld0NvdmVyYWdlcyB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYWRkQ292ZXJhZ2VSb3cgPSAoKSA9PiBzZXREYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgY292ZXJhZ2VzOiBbLi4ucHJldi5jb3ZlcmFnZXMsIHsgaWQ6IERhdGUubm93KCksIG5hbWU6IFwiXCIsIGRldGFpbDogXCJcIiwgYW1vdW50OiBcIlwiLCBkZWR1Y3RpYmxlOiBcIueEoVwiLCBwcmVtaXVtOiAwIH1dIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUNvdmVyYWdlUm93ID0gKGluZGV4KSA9PiBzZXREYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgY292ZXJhZ2VzOiBwcmV2LmNvdmVyYWdlcy5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSB9KSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBwLTggYmctd2hpdGUgbWluLWgtc2NyZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTYgYm9yZGVyLWIgcGItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXllbGxvdy02MDBcIj7nt6jovK/loLHlg7nlhaflrrk8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50VmlldygncHJlc2VudGF0aW9uJyl9IGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgZm9udC1ib2xkIHNoYWRvdyBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uXCI+5a6M5oiQPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMgZ2FwLTQgbWItOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge09iamVjdC5rZXlzKGRhdGEuY2xpZW50KS5tYXAoa2V5ID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17a2V5fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgZm9udC1ib2xkIHRleHQtZ3JheS00MDAgbWItMSB1cHBlcmNhc2VcIj57a2V5fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyIHAtMiByb3VuZGVkIHRleHQtc20gZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS0yMDAgb3V0bGluZS1ub25lXCIgdmFsdWU9e2RhdGEuY2xpZW50W2tleV0gfHwgJyd9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2xpZW50Q2hhbmdlKGtleSwgZS50YXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcC00IHJvdW5kZWQtbGcgYm9yZGVyIHNoYWRvdy1pbm5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtYm9sZCBtYi00IHRleHQtZ3JlZW4tNzAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLWxpc3RcIj48L2k+IOaJv+S/nemaqueorua4heWWrueuoeeQhjwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkYXRhLmNvdmVyYWdlcy5tYXAoKGMsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2MuaWQgfHwgaX0gY2xhc3NOYW1lPVwiYmctd2hpdGUgcC0zIGJvcmRlciByb3VuZGVkLWxnIHNoYWRvdy1zbSBncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy01IGdhcC0yIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj48bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSBmb250LWJvbGQgdGV4dC1ncmF5LTQwMFwiPuaJv+S/nemaqueorumhnuWIpTwvbGFiZWw+PGlucHV0IGNsYXNzTmFtZT1cImJvcmRlciBwLTIgcm91bmRlZCB0ZXh0LXNtIGZvbnQtYm9sZFwiIHZhbHVlPXtjLm5hbWV9IG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ292ZXJhZ2VDaGFuZ2UoaSwgJ25hbWUnLCBlLnRhcmdldC52YWx1ZSl9IC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj48bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSBmb250LWJvbGQgdGV4dC1ncmF5LTQwMFwiPuS/nemaquaomeeahOeJqTwvbGFiZWw+PGlucHV0IGNsYXNzTmFtZT1cImJvcmRlciBwLTIgcm91bmRlZCB0ZXh0LXNtXCIgdmFsdWU9e2MuZGV0YWlsfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNvdmVyYWdlQ2hhbmdlKGksICdkZXRhaWwnLCBlLnRhcmdldC52YWx1ZSl9IC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj48bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSBmb250LWJvbGQgdGV4dC1ncmF5LTQwMFwiPuS/nemaqumHkemhjTwvbGFiZWw+PGlucHV0IGNsYXNzTmFtZT1cImJvcmRlciBwLTIgcm91bmRlZCB0ZXh0LXNtIHRleHQtY2VudGVyXCIgdmFsdWU9e2MuYW1vdW50fSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNvdmVyYWdlQ2hhbmdlKGksICdhbW91bnQnLCBlLnRhcmdldC52YWx1ZSl9IC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2xcIj48bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1bOXB4XSBmb250LWJvbGQgdGV4dC1ncmF5LTQwMFwiPuiHquiyoOmhjTwvbGFiZWw+PGlucHV0IGNsYXNzTmFtZT1cImJvcmRlciBwLTIgcm91bmRlZCB0ZXh0LXNtIHRleHQtY2VudGVyXCIgdmFsdWU9e2MuZGVkdWN0aWJsZX0gb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDb3ZlcmFnZUNoYW5nZShpLCAnZGVkdWN0aWJsZScsIGUudGFyZ2V0LnZhbHVlKX0gLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LVs5cHhdIGZvbnQtYm9sZCB0ZXh0LWdyYXktNDAwXCI+5L+d6Zqq6LK7PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXIgcC0yIHJvdW5kZWQgdGV4dC1zbSBmb250LWJvbGQgdGV4dC1yaWdodFwiIHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17Yy5wcmVtaXVtfSBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNvdmVyYWdlQ2hhbmdlKGksICdwcmVtaXVtJywgZS50YXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJlbW92ZUNvdmVyYWdlUm93KGkpfSBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDAgaG92ZXI6dGV4dC1yZWQtNjAwIHB4LTIgdHJhbnNpdGlvblwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS10cmFzaC1hbHRcIj48L2k+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17YWRkQ292ZXJhZ2VSb3d9IGNsYXNzTmFtZT1cIm10LTQgcHgtNCBweS0yIGJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgdGV4dC1zbSBmb250LWJvbGQgc2hhZG93IGhvdmVyOmJnLWdyZWVuLTcwMCB0cmFuc2l0aW9uXCI+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLXBsdXMgbXItMlwiPjwvaT7mlrDlop7pmqrnqK48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IFByZXNlbnRhdGlvblZpZXcgPSAoeyBkYXRhLCBzZXRDdXJyZW50VmlldywgZmluZE1hdGNoaW5nTGlua3MsIGNhbGN1bGF0ZWRUb3RhbCwgaW1wb3J0RGF0YSwgcmVsb2FkSW5pdGlhbERhdGEsIHNhdmVBc0h0bWwsIGZpbGVJbnB1dFJlZiwgc2V0U2hvd1Byb21wdE1vZGFsIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFttb2JpbGVQcmludE1vZGUsIHNldE1vYmlsZVByaW50TW9kZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IFtjbGlja0hpc3RvcnksIHNldENsaWNrSGlzdG9yeV0gPSB1c2VTdGF0ZShbXSk7XG4gICAgICAgICAgICBjb25zdCBbYWN0aXZlTm90ZSwgc2V0QWN0aXZlTm90ZV0gPSB1c2VTdGF0ZShudWxsKTsgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOiHquiyoOmhjeiou+ino+WFp+WuuVxuICAgICAgICAgICAgY29uc3QgREVEVUNUSUJMRV9OT1RFX0RBVEEgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwi6Ieq6LKg6aGN6IiH6ZmQ6aGN6Kqq5piOICjoqLs044CBNSlcIixcbiAgICAgICAgICAgICAgICBub3RlczogW1xuICAgICAgICAgICAgICAgICAgICBcIueriuebnOaQjeWksSjli5XnlKIp77ya5q+P5LiA5LqL5pWFL+S/nemaquacn+mWk+e0r+ioiOizoOWEn+mHkemhje+8mjE16JCsLzMw6JCs5YWD77yM5q+P5LiA5LqL5pWF6Ieq6LKg6aGNIDUsMDAwIOWFg+OAgijoqLs0KVwiLFxuICAgICAgICAgICAgICAgICAgICBcIueOu+eSg+aQjeWkse+8muavj+S4gOS6i+aVhS/kv53pmqrmnJ/plpPntK/oqIjos6DlhJ/ph5HpoY3vvJox6JCsLzLokKzlhYPvvIzmr4/kuIDkuovmlYXoh6rosqDpoY0gMSwwMDAg5YWD44CCKOiouzUpXCJcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJDbGFzcyA9IG1vYmlsZVByaW50TW9kZSA/IFwibW9iaWxlLXByaW50LW1vZGVcIiA6IFwibWF4LXctN3hsIG14LWF1dG8gbXQtOCBiZy13aGl0ZSBwYXBlci1zaGFkb3cgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gbWItMTBcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgaGFuZGxlVG9nZ2xlTW9kZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW1vYmlsZVByaW50TW9kZSkgeyBzZXRNb2JpbGVQcmludE1vZGUodHJ1ZSk7IHJldHVybjsgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SGlzdG9yeSA9IFsuLi5jbGlja0hpc3RvcnksIG5vd10uZmlsdGVyKHRpbWUgPT4gbm93IC0gdGltZSA8PSAyMDAwKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3SGlzdG9yeS5sZW5ndGggPj0gNSkgeyBzZXRNb2JpbGVQcmludE1vZGUoZmFsc2UpOyBzZXRDbGlja0hpc3RvcnkoW10pOyB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHNldENsaWNrSGlzdG9yeShuZXdIaXN0b3J5KTsgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgYmFja0l0ZW0gPSBkYXRhLmxpbmtMaWJyYXJ5LmZpbmQobCA9PiBsLmNvZGUgPT09IFwiWjAxXCIpPy5saW5rMTtcbiAgICAgICAgICAgIGNvbnN0IGFwcGxpY2F0aW9uSXRlbSA9IGRhdGEubGlua0xpYnJhcnkuZmluZChsID0+IGwuY29kZSA9PT0gXCJaMDJcIik/LmxpbmsxO1xuICAgICAgICAgICAgY29uc3QgcXVvdGVJdGVtID0gZGF0YS5saW5rTGlicmFyeS5maW5kKGwgPT4gbC5jb2RlID09PSBcIlowM1wiKT8ubGluazE7XG4gICAgICAgICAgICBjb25zdCBjYXRhbG9nSXRlbSA9IGRhdGEubGlua0xpYnJhcnkuZmluZChsID0+IGwua2V5d29yZCA9PT0gXCLnm67pjIRcIik7XG4gICAgICAgICAgICBjb25zdCBjb21wcmVoZW5zaXZlTGlua3MgPSBkYXRhLmxpbmtMaWJyYXJ5LmZpbmQobCA9PiBsLmNvZGUgPT09IFwiQTAxXCIpO1xuXG4gICAgICAgICAgICBjb25zdCBnZXROb3RlRGF0YSA9IChuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gXCLnkIbos6Dph43pu57mkZjopoFcIjtcbiAgICAgICAgICAgICAgICBsZXQgbm90ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmNsdWRlcyhcIuS9j+WutuiyoeeJqeaQjeWksVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IFwi5L2P5a626LKh54mp5pCN5aSxICjlkKvimIXoqLsxfjYpXCI7XG4gICAgICAgICAgICAgICAgICAgIG5vdGVzID0gW1wi55CG6LOg5YWn5a6577ya54Gr54G944CB54iG54K4562J5LqL5pWF6Ie05bu654mp5oiW5YuV55Si5pCN5aSx44CCXCIsIFwi5oOF5rOB55CG6LOg77ya5YyF5ZCr5riF6Zmk5bui5qOE54mp6LK755So44CB6YeR6J6N5L+h55So5Y2h6YeN6KO96LK7KOiouzEp44CCXCIsIFwi6KOc5YSf6aCF55uu77ya6Ieo5pmC5L2P5a6/55Sf5rS76LK744CB56ef5bGL5Luy5LuL5Y+K5pCs6YG36KOc5Yqp6LK7KOiouzIp44CCXCIsIFwi6ZmQ6aGN5YuV55Si77ya54+g5a+26aaW6aO+MeiQrOOAgeearuiNiTHokKzjgIHmm7jnsY0x5Y2D44CB6ZCY6Yy2MuWNgyjoqLszKeOAglwiLCBcIueriuebnOS/nemanO+8muWLleeUoueriuebnOaQjeWkseavj+S4gOS6i+aVheiHquiyoOmhjTXljYPlhYMo6Ki7NCnjgIJcIiwgXCLnjrvnkoPos6Dku5jvvJrkvY/lroXnjrvnkoPnoLTmkI3mr4/kuIDkuovmlYXoh6rosqDpoY0x5Y2D5YWDKOiouzUp44CCXCIsIFwi6aKx5rSq6KOc5YSf77ya6Ieq5YuV5om/5L+d5L2P5a6F6aKx6aKo5Y+K5rSq5rC054G95a6z6KOc5YSf5L+d6ZqqKOiouzYp44CCXCIsIFwi5LiN55CG6LOg5oOF77ya6KaB5L+d5Lq65pWF5oSP6KGM54K644CB5r2u5r+V55m86ZyJ44CB5bu654mp5pa85oqV5L+d5YmN5bey5Y+X5pCN44CCXCIsIFwi5rqW5YKZ5LqL6aCF77ya55CG6LOg55Sz6KuL5pu444CB5pCN5aSx5riF5Zau44CB54++5aC054Wn54mH44CB6LK755So5Zau5pOa44CCXCIsIFwi6LOg5LuY5qiZ5rqW77ya5bu656+J54mp5o6h6YeN572u5oiQ5pys6KiI77yM5LiN5omj5oqY6IiK77yb5YuV55Si5o6h5a+m6Zqb5YO55YC844CCXCJdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmFtZS5pbmNsdWRlcyhcIuesrOS4ieS6uuiyrOS7u1wiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IFwi56ys5LiJ5Lq66LKs5Lu7ICjlkKvimIXoqLs3KVwiO1xuICAgICAgICAgICAgICAgICAgICBub3RlcyA9IFtcIueQhuizoOWFp+Wuue+8muaEj+WkluS6i+aVheiHtOesrOS4ieS6uumrlOWCt+OAgeatu+S6oSBvciDosqHnianmkI3lrrPjgIJcIiwgXCLmg4Xms4HnkIbos6DvvJrmiYDmnInjgIHkvb/nlKjjgIHnrqHnkIbmqJnnmoTmhI/lpJboh7Tos6DlhJ/oq4vmsYLmmYLop7jnmbzjgIJcIiwgXCLmhbDllY/ph5HpoY3vvJrouqvmlYU16JCs44CB5L2P6ZmiNeWNg++8jOe0r+ioiOS4iumZkDUw6JCs5YWDKOiouzcp44CCXCIsIFwi6Zmk5aSW5bCN6LGh77ya5LiN5YyF5ZCr6KKr5L+d6Zqq5Lq66YWN5YG244CB5a625bGs44CB5Y+X5YOx5Lq6IG9yIOWQjOWxheS6uuOAglwiLCBcIuS4jeeQhuizoOaDhe+8muaVheaEj+ihjOeCuuOAgeS4jeazleihjOeCuuOAgembu+air+WPiuapn+WLlei7iuiyrOS7u+OAglwiLCBcIuS4jeeQhuizoOaDhe+8muWQkeS6uuenn+izg+S5i+iyoeeJqeiyrOS7u+OAgeWboOmch+WLleiHtOW7uueJqeWAkuWhjOiyrOS7u+OAglwiLCBcIuazleW+i+WNlOWKqe+8muWPr+WNlOWKqeawkeS6i+aKl+i+r+WPiuWSjOino++8jOWFrOWPuOiyoOaTlOiotOion+iyu+eUqOOAglwiLCBcIuebtOaOpeiri+axgu+8muaQjeWus+izoOWEn+iyrOS7u+eiuuWumuW+jO+8jOesrOS4ieS6uuW+l+ebtOaOpeiri+axguizoOasvuOAglwiLCBcIua6luWCmeS6i+mghe+8muiouuaWt+abuC/phqvnmYLllq7mk5rjgIHlkozop6Pmm7gv5Yik5rG65pu444CB6Lqr5YiG6K2J5piO44CCXCIsIFwi5ZKM6Kej6KaP56+E77ya5pyq57aT5pys5YWs5Y+45Y+D6IiH5LmL5om/6KqNIG9yIOWSjOino++8jOWFrOWPuOS4jeWPl+WFtuaLmOadn+OAglwiXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUuaW5jbHVkZXMoXCLlnLDpnIfln7rmnKxcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZXMgPSBbXCLnkIbos6DlhaflrrnvvJrlnLDpnIfjgIHngavngb0v5rW35Ziv6Ie05L2P5a6F5bu654mp5pCN5q+A6Ke455m855CG6LOg44CCXCIsIFwi5oOF5rOB55CG6LOg77ya6ZmQ5pa844CM5YWo5pCN44CN77yM5Y2z6ZGR5a6a5LiN5aCq5bGF5L2PIG9yIOS/ruW+qeiyu+mAvjUwJeOAglwiLCBcIuizoOS7mOmZkOmhje+8muacgOmrmDE1MOiQrOWFg++8jOS4pumhjeWkluaUr+S7mDIw6JCs5L2P5a6/6LK744CCXCIsIFwi5LiN55CG6LOg5oOF77ya5YuV55Si44CB6KOd5r2i44CB5Zyf5Zyw44CB54Gr5bGx54iG55m844CB5oiw54it44CB5qC46IO944CCXCIsIFwi57SF5qiZ6KOc5YSf77ya57aT6ZGR5a6a5YW35Y2x6Zqq5Lim6LK857SF6Imy5qiZ6KqM6ICF5YWI6KGM57Wm5LuYMTDokKzlhYPjgIJcIiwgXCLntabku5jmlrnlvI/vvJrnj77ph5Hntabku5jvvIzlgpnpvYrmlofku7blvowxNeaXpeWFp+aSpeasvuOAglwiLCBcIua6luWCmeS6i+mghe+8mueQhuizoOeUs+iri+abuOOAgeasiueLgOW9seacrOOAgeaLhumZpOmAmuefpSBvciDpkZHlrprorYnmmI7jgIJcIiwgXCLopIfkv53omZXnkIbvvJrmnInlpJrku73kv53llq7mmYLmjInkv53poY3mr5TkvovliIbmlKTvvIzlkIjoqIjpmZDpoY0xNTDokKzjgIJcIiwgXCLliYrmuJvntabku5jvvJroi6XlhajlnIvmkI3lpLHotoXliIbmlaPmqZ/liLbpmZDpoY3vvIzlsIfmjInmr5TkvovliYrmuJvjgIJcIiwgXCLlrprnvqnlsI3osaHvvJrpoJjmnInlkIjms5XniYznhafkuYvkvY/lroXnlKjlu7rnianjgIJcIl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lLmluY2x1ZGVzKFwi57ag6IO95Y2H57SaXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGVzID0gW1wi55CG6LOg5YWn5a6577ya54G95pCN5b6M5pS55o6h44CM57ag6IO95bu65p2Q44CN5L+u5b6pIG9yIOmHjeW7uuW7uuevieeJqeOAglwiLCBcIuaDheazgeeQhuizoO+8muS4u+Wlkee0hOaJv+S/neS6i+aVheiHtOS/nemaquaomeeahOaQjeavgOaZguinuOeZvOOAglwiLCBcIuaomeeroOmZkOWItu+8mumgiOeNsue2oOW7uuadkOOAgeeSsOS/nSBvciDnr4Dog73mqJnnq6DkuYvlu7rmnZDoqK3lgpnjgIJcIiwgXCLnkIbos6DlhKrpu57vvJrkvp3ntqDog73lu7rmnZDosrvnlKjos6DlhJ/vvIzkuJTjgIzkuI3lho3miaPpmaTmipjoiIrjgI3jgIJcIiwgXCLph5HpoY3pmZDliLbvvJrnkIbos6DkuIrpmZDngrrkuLvntITnkIbos6DmoLjnrpfph5HpoY3kuYsgMTUwJeOAglwiLCBcIue4vemhjemZkOWItu+8mue2oOiDveizoOS7mOiIh+S4u+e0hOizoOS7mOWQiOioiOS4jeW+l+i2hemBjuS4u+e0hOS/nemhjeOAglwiLCBcIuS4jeeQhuizoOaDhe+8muWboOiiq+S/nemaquS6uuWboOe0oOiHtOeEoeazleS7pee2oOiDveW7uuadkOS/ruW+qeiAheOAglwiLCBcIuS4jeeQhuizoOaDhe+8muimgeS/neS6uuaVheaEj+ihjOeCuuOAgea9rua/leeZvOmcieOAgeS4u+e0hOmZpOWkluS6i+mgheOAglwiLCBcIua6luWCmeS6i+mghe+8muS4u+e0hOeQhuizoOaWh+S7tuOAgee2oOiDveW7uuadkOS/rue5leS8sOWDueWWruWPiuitieaYjuOAglwiLCBcIuioiOeul+Wfuuekju+8muaOoeS/ruW+qSBvciDph43lu7rmiYDpnIDkuYvlr6bpmpvntqDog73osrvnlKjos6Dku5jjgIJcIl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lLmluY2x1ZGVzKFwi5qmf6LuK54Gr54G9XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGVzID0gW1wi55CG6LOg5YWn5a6577ya5qiZ55qENTDnsbPlhacgb3Ig56S+5Y2A6LuK5L2N5LmL5qmf6LuK54Gr54G9L+e4seeBq+aQjeWus+OAglwiLCBcIuaDheazgeeQhuizoO+8muWboOeBq+eBveS6i+aVhSBvciDnrKzkuInkurrmg6HmhI/nuLHngavmiYDoh7TkuYvmkI3lpLHjgIJcIiwgXCLlsI3osaHpmZDliLbvvJrpoIjngrrooqvkv53pmqrkurrjgIHphY3lgbbjgIHlrrblsawgb3Ig5ZCM5bGF5Lq65omA5pyJ44CCXCIsIFwi6LuK6Lyb6ZmQ5Yi277ya5b+F6aCI54K644CM6aCY5pyJ5ZCI5rOV54mM54Wn44CN5LmL5qmf6LuK5aeL5Y+X5L+d6Zqc44CCXCIsIFwi6LOg5LuY6ZmQ6aGN77ya5q+P6YOo5qmf6LuK5pyA6auY55CG6LOgNuiQrOWFg++8jOacgOS9juS4jeS9juaWvDLljYPlhYPjgIJcIiwgXCLnkIbos6DmlrnlvI/vvJrlhazlj7jlvpfku6Xkv67lvqkgb3Ig5Lul54++6YeR6YCy6KGM6LOg5YSf44CCXCIsIFwi5oqY6IiK6KiI566X77ya5q+P5bm05oqY6IiK546HIDI1Je+8jOS+neWHuuW7oOW5tOaciOWPiuaciOaVuOaPm+eul+OAglwiLCBcIuS4jeeQhuizoOaDhe+8mumdnuWxrOeBq+eBvSBvciDnuLHngavkuovmlYXjgIHpnZ7mib/kv53ljYDln5/kuYvmipXkv53jgIJcIiwgXCLmupblgpnkuovpoIXvvJrnlLPoq4vmm7jjgIHmqZ/ou4rooYznhafjgIHkv67ou4rkvLDlg7nllq7lj4rnmbznpajjgIJcIiwgXCLorYnmmI7mlofku7bvvJrmh4nmnKzlhazlj7jopoHmsYLmmYLvvIzpnIDmj5DkvpvmhrLorabomZXnkIborYnmmI7jgIJcIl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lLmluY2x1ZGVzKFwi5aSp54G96LK755SoXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGVzID0gW1wi55CG6LOg5YWn5a6577ya5aSp54G96Ie05bu654mp5Y+X5pCN77yM6YCj6YC+N+aXpeS4jemBqeWxheS9j+S5i+ijnOWEn+OAglwiLCBcIuaJv+S/neS6i+aVhe+8muWcsOmch+OAgemisemiqOOAgea0quawtOOAgeWxseW0qeOAgembt+aTiuOAgemWg+mbu+OAglwiLCBcIuaDheazgeeQhuizoO+8muWboOS4iui/sOS6i+aVheiHtOS9j+WuheWvpuizquS4iuS4jeiDveWxheS9j+mAo+e6jOmAvjfml6XjgIJcIiwgXCLoo5zmqJnmupbvvJrmjInkv67lvqnosrvljaDph43nva7miJDmnKzkuYvnmb7liIbmr5ToqIjnrpfoo5zlhJ/mnIjmlbjjgIJcIiwgXCLnkIbos6DkuIrpmZDvvJrkv53pmqrmnJ/plpPlhafmnIDpq5joo5zlhJ/mnJ/plpPku6UgMTIg5YCL5pyI54K66ZmQ44CCXCIsIFwi5LiN55CG6LOg5oOF77ya5bu654mp6YCj6YC+NjDlpKnnhKHkurrnnIvnrqHjgIHmipXkv53liY3lt7LnmbznlJ/kuovmlYXjgIJcIiwgXCLkuI3nkIbos6Dmg4XvvJrmva7mv5XnmbzpnInjgIHljp/lrZDog73ovLvlsITjgIHnvbflt6XmmrTli5XjgIHlgrPmn5Pnl4XjgIJcIiwgXCLkuIDmrKHntabku5jvvJrph5HpoY3norroqo3lvozmlrwgMTUg5aSp5YWn5LiA5qyh5oCn57Wm5LuY54++6YeR44CCXCIsIFwi5rqW5YKZ5LqL6aCF77ya55Sz6KuL5pu444CB5pCN5aSx5riF5Zau44CB54++5aC054Wn54mH44CB54Sh5rOV5bGF5L2P6K2J5piO44CCXCIsIFwi5pmC5pWI6ZmQ5Yi277ya5qyK5Yip6Ieq5b6X6KuL5rGC5pel6LW377yM57aT6YGOIDIg5bm05raI5ruF44CCXCJdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGVzID0gW1wi6KuL5Y+D6Zax5q2j5byP5L+d5Zau5qKd5qy+5YWn5a655pGY6KaB44CCXCJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyB0aXRsZSwgbm90ZXMgfTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbmRlckl0ZW1OYW1lID0gKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlRGF0YSA9IGdldE5vdGVEYXRhKGl0ZW0ubmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJob3Zlci1oaWdobGlnaHQgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgY3Vyc29yLXBvaW50ZXIgdGFibGUtdGV4dC1jdXN0b21cIiBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVOb3RlKG5vdGVEYXRhKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubmFtZX0gPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWluZm8tY2lyY2xlIHRleHQtYmx1ZS00MDAgbWwtMSB0ZXh0LXhzXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5rLXdyYXBwZXIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbMSwgMiwgMywgNF0ubWFwKGkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVkTGlua3MgPSBmaW5kTWF0Y2hpbmdMaW5rcyhpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluayA9IG1hdGNoZWRMaW5rcz8uW2BsaW5rJHtpfWBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGxpbms/LnVybCAmJiBsaW5rPy5uYW1lKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBrZXk9e2l9IGhyZWY9e2xpbmsudXJsfSB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzc05hbWU9XCJjb3ZlcmFnZS1saW5rIGxpbmstdGV4dC1ibHVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWZpbGUtcGRmIG1yLTEgdGV4dC1bOHB0XVwiPjwvaT57bGluay5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGItMjBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCB0ZXh0LXdoaXRlIHAtMyBzaGFkb3ctbWQgbm8tcHJpbnQgc3RpY2t5IHRvcC0wIHotNTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG8gZmxleCBmbGV4LXdyYXAganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPvCfj6Ag5L2P5a6F54Gr6Zqq6LyU5Yqp57O757WxPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgZmxleC13cmFwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGFsb2dJdGVtPy5saW5rMT8udXJsICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2NhdGFsb2dJdGVtLmxpbmsxLnVybH0gdGFyZ2V0PVwiX2JsYW5rXCIgY2xhc3NOYW1lPVwicHgtMyBweS0yIGJnLW9yYW5nZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkIGZvbnQtbWVkaXVtIGhvdmVyOmJnLW9yYW5nZS03MDAgdHJhbnNpdGlvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1saXN0XCI+PC9pPiDnm67pjIRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVUb2dnbGVNb2RlfSBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctZ3JheS02MDAgcm91bmRlZCBmb250LW1lZGl1bSBob3ZlcjpiZy1ncmF5LTcwMCB0cmFuc2l0aW9uIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9e21vYmlsZVByaW50TW9kZSA/IFwiZmFzIGZhLWRlc2t0b3BcIiA6IFwiZmFzIGZhLW1vYmlsZS1hbHRcIn0+PC9pPiB7bW9iaWxlUHJpbnRNb2RlID8gXCLpm7vohabniYhcIiA6IFwi5omL5qmf54mIXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IW1vYmlsZVByaW50TW9kZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJvbXB0TW9kYWwodHJ1ZSl9IGNsYXNzTmFtZT1cInB4LTMgcHktMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgZm9udC1tZWRpdW0gdHJhbnNpdGlvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS1yb2JvdFwiPjwvaT4g55Sf5oiQIEFJIOaMh+S7pDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCByb3VuZGVkIGZvbnQtbWVkaXVtIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtZmlsZS1pbXBvcnRcIj48L2k+IOWMr+WFpSBKU09OPGlucHV0IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiLmpzb25cIiByZWY9e2ZpbGVJbnB1dFJlZn0gb25DaGFuZ2U9e2ltcG9ydERhdGF9IGNsYXNzTmFtZT1cImhpZGRlblwiIC8+PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRWaWV3KCdlZGl0X2RhdGEnKX0gY2xhc3NOYW1lPVwicHgtMyBweS0yIGJnLXllbGxvdy01MDAgdGV4dC1ibGFjayByb3VuZGVkIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtcGVuXCI+PC9pPiDnt6jovK88L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRWaWV3KCdtYW5hZ2VfbGlua3MnKX0gY2xhc3NOYW1lPVwicHgtMyBweS0yIGJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCByb3VuZGVkIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtbGlua1wiPjwvaT4g6LOH5paZ5bqrPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtzYXZlQXNIdG1sfSBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctaW5kaWdvLTYwMCBob3ZlcjpiZy1pbmRpZ28tNzAwIHJvdW5kZWQgZm9udC1tZWRpdW0gdHJhbnNpdGlvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS1maWxlLWRvd25sb2FkXCI+PC9pPiDlrZjmqpQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3JlbG9hZEluaXRpYWxEYXRhfSBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNjAwIHJvdW5kZWQgZm9udC1tZWRpdW0gdHJhbnNpdGlvbiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS11bmRvXCI+PC9pPiDph43oqK08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbnRhaW5lckNsYXNzfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS03MDAgcC02IHRleHQtd2hpdGUgc2hhZG93LWlubmVyIGZsZXggZmxleC13cmFwIGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2JhY2tJdGVtPy51cmwgfHwgXCIjXCJ9IGNsYXNzTmFtZT1cIm5vLXByaW50IHB4LTQgcHktMiBiZy13aGl0ZS8yMCBob3ZlcjpiZy13aGl0ZS8zMCB0ZXh0LXdoaXRlIGJvcmRlciBib3JkZXItd2hpdGUvNDAgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1ib2xkIHRyYW5zaXRpb24gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhcyBmYS1hcnJvdy1sZWZ0XCI+PC9pPiB7YmFja0l0ZW0/Lm5hbWUgfHwgXCLlm57kuIrpoIFcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWQ6dGV4dC0zeGwgZm9udC1ib2xkIHRyYWNraW5nLXdpZGVyXCI+6YeR5aW95L2PMi4w5L2P5a6F54Gr6Zqq6LyU5Yqp6Kqq5piOPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgbm8tcHJpbnQgbXQtMiBtZDptdC0wIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FwcGxpY2F0aW9uSXRlbT8udXJsICYmIGFwcGxpY2F0aW9uSXRlbT8ubmFtZSAmJiA8YSBocmVmPXthcHBsaWNhdGlvbkl0ZW0udXJsfSB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctd2hpdGUvMjAgYm9yZGVyIGJvcmRlci13aGl0ZS80MCByb3VuZGVkLWZ1bGwgZm9udC1ib2xkIGhvdmVyOmJnLXdoaXRlLzMwIHRyYW5zaXRpb24gbGluay10ZXh0LWJsdWVcIj57YXBwbGljYXRpb25JdGVtLm5hbWV9PC9hPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3F1b3RlSXRlbT8udXJsICYmIHF1b3RlSXRlbT8ubmFtZSAmJiA8YSBocmVmPXtxdW90ZUl0ZW0udXJsfSB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzc05hbWU9XCJweC0zIHB5LTIgYmctd2hpdGUvMjAgYm9yZGVyIGJvcmRlci13aGl0ZS80MCByb3VuZGVkLWZ1bGwgZm9udC1ib2xkIGhvdmVyOmJnLXdoaXRlLzMwIHRyYW5zaXRpb24gbGluay10ZXh0LWJsdWVcIj57cXVvdGVJdGVtLm5hbWV9PC9hPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBtZDpwLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGdyaWQgZ3JpZC1jb2xzLTEgJHttb2JpbGVQcmludE1vZGUgPyAnZ2FwLTQnIDogJ21kOmdyaWQtY29scy0yIGdhcC02J30gbWItOGB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNSByb3VuZGVkLXhsIGJvcmRlci1sLTggYm9yZGVyLWJsdWUtNjAwIGJvcmRlciBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCBtYi0yIHRleHQtYmx1ZS04MDBcIj7ln7rmnKzos4foqIo8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgdGV4dC1zbSB0ZXh0LWdyYXktODAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGZvbnQtbWVkaXVtXCI+6KaB5L+d5Lq677yaPC9zcGFuPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWJsdWUtOTAwXCI+e2RhdGEuY2xpZW50LnByb3Bvc2VyTmFtZX08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGZvbnQtbWVkaXVtXCI+6KKr5L+d6Zqq5Lq677yaPC9zcGFuPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+e2RhdGEuY2xpZW50Lm5hbWV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBmb250LW1lZGl1bVwiPumAo+e1oembu+ipse+8mjwvc3Bhbj48c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWJsdWUtODAwXCI+KOimgSkge2RhdGEuY2xpZW50LnByb3Bvc2VyUGhvbmV9IC8gKOiiqykge2RhdGEuY2xpZW50LnBob25lfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgZm9udC1tZWRpdW1cIj7pgJroqIrlnLDlnYDvvJo8L3NwYW4+PHNwYW4+e2RhdGEuY2xpZW50Lm1haWxpbmdBZGRyZXNzfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgZm9udC1tZWRpdW1cIj7kv53pmqrmnJ/plpPvvJo8L3NwYW4+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBiZy1ibHVlLTUwIHRleHQtYmx1ZS04MDAgcHgtMiBweS0xIHJvdW5kZWQgZm9udC1tb25vXCI+e2RhdGEuY2xpZW50LnBvbGljeVBlcmlvZH08L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC01IHJvdW5kZWQteGwgYm9yZGVyLWwtOCBib3JkZXItaW5kaWdvLTYwMCBib3JkZXIgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LWJvbGQgbWItMiB0ZXh0LWJsdWUtODAwXCI+5qiZ55qE54mp5piO57SwPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHRleHQtc20gdGV4dC1ncmF5LTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBmb250LW1lZGl1bSB0ZXh0LXhzXCI+5qiZ55qE54mp5Zyw5Z2A77yaPC9zcGFuPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWluZGlnby05MDBcIj57ZGF0YS5jbGllbnQuYWRkcmVzc308L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGZvbnQtYm9sZFwiPuW7uueviee1kOani++8mjwvc3Bhbj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNzAwIGZvbnQtYm9sZFwiPntkYXRhLmNsaWVudC5tb2RlbCB8fCBcIuacqui+qOitmFwifTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgZm9udC1ib2xkXCI+5qiT5bGk6LOH6KiK77yaPC9zcGFuPjxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS03MDAgZm9udC1ib2xkXCI+e2RhdGEuY2xpZW50LnBsYXRlIHx8IFwi5pyq6L6o6K2YXCJ9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBmb250LW1lZGl1bVwiPuWdquaVuC/lrozlt6XvvJo8L3NwYW4+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e2RhdGEuY2xpZW50LmVuZ2luZU5vIHx8IFwi5pyq6L6o6K2YXCJ9PC9zcGFuPiAvIHtkYXRhLmNsaWVudC5tYW51ZmFjdHVyaW5nRGF0ZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSBwLTMgZm9udC1ib2xkXCI+8J+boe+4jyDmib/kv53lhaflrrnmmI7ntLAgKOm7nuaTiumaqueoruWQjeeoseWPr+eci+eQhuizoOmHjem7nuaRmOimgSk8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IGJvcmRlci1jb2xsYXBzZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwIHRhYmxlLXRleHQtY3VzdG9tIGZvbnQtYmxhY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9e2BweS0zIHB4LTIgYm9yZGVyLWIgJHttb2JpbGVQcmludE1vZGUgPyAndy1bMzUlXScgOiAndy1bMjUlXSd9YH0+5om/5L+d6Zqq56iu6aGe5YilPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9e2BweS0zIHB4LTIgYm9yZGVyLWIgJHttb2JpbGVQcmludE1vZGUgPyAndy1bMzUlXScgOiAndy1bMzAlXSd9YH0+5L+d6Zqq5qiZ55qE54mpPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9e2BweS0zIHB4LTIgdGV4dC1jZW50ZXIgYm9yZGVyLWIgJHttb2JpbGVQcmludE1vZGUgPyAndy1bMzAlXScgOiAndy1bMjAlXSd9YH0+5L+d6Zqq6YeR6aGNPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshbW9iaWxlUHJpbnRNb2RlICYmIDx0aCBjbGFzc05hbWU9XCJweS0zIHB4LTIgdGV4dC1jZW50ZXIgYm9yZGVyLWIgdy1bMTAlXVwiPuiHquiyoOmhjTwvdGg+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFtb2JpbGVQcmludE1vZGUgJiYgPHRoIGNsYXNzTmFtZT1cInB5LTMgcHgtMiB0ZXh0LXJpZ2h0IGJvcmRlci1iIHctWzE1JV1cIj7kv53pmqrosrs8L3RoPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keSBjbGFzc05hbWU9XCJ0YWJsZS10ZXh0LWN1c3RvbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyog5L2P5a6257ac5ZCI5L+d6ZqqIOaomemhjOWIlyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzTmFtZT1cImJnLWJsdWUtNTAvNTAgYm9yZGVyLWIgYm9yZGVyLWJsdWUtMTAwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHktMyBweC0yIGFsaWduLXRvcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1ibGFjayB0ZXh0LWJsdWUtOTAwIGxlYWRpbmctdGlnaHQgbWItMVwiPuS9j+Wutue2nOWQiOS/nemaqjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGluay13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbMSwgMiwgMywgNF0ubWFwKGkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGNvbXByZWhlbnNpdmVMaW5rcz8uW2BsaW5rJHtpfWBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChsaW5rPy51cmwgJiYgbGluaz8ubmFtZSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGtleT17aX0gaHJlZj17bGluay51cmx9IHRhcmdldD1cIl9ibGFua1wiIGNsYXNzTmFtZT1cImNvdmVyYWdlLWxpbmsgbGluay10ZXh0LWJsdWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmFzIGZhLWZpbGUtcGRmIG1yLTEgdGV4dC1bOHB0XVwiPjwvaT57bGluay5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXttb2JpbGVQcmludE1vZGUgPyAyIDogNH0gY2xhc3NOYW1lPVwicHktMyBweC0yIHRleHQtYmx1ZS04MDAgaXRhbGljIGFsaWduLW1pZGRsZVwiPuS7peS4i+eCuuS9j+Wutue2nOWQiOS/nemaquioiOeVq+WFp+Wuue+8mjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIOWQhOmaqueorue0sOmghSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RhdGEuY292ZXJhZ2VzLmZpbHRlcihjID0+IGMubmFtZSAhPT0gXCLkvY/lrrbntpzlkIjkv53pmqpcIikubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWdyYXktMTAwIGhvdmVyOmJnLWdyZWVuLTUwLzMwIHRyYW5zaXRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB5LTMgcHgtMiBhbGlnbi10b3AgbWQ6cGwtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckl0ZW1OYW1lKGl0ZW0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPXtgcHktMyBweC0yIGxlYWRpbmctbm9ybWFsIGFsaWduLXRvcGB9PntpdGVtLmRldGFpbH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHktMyBweC0yIHRleHQtY2VudGVyIGFsaWduLXRvcFwiPntpdGVtLmFtb3VudH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIOiHquiyoOmhjeashOS9je+8muWDheiyoeeJqeaQjeWkseS/nemaqumhr+ekuiAo6Ki7NC41KSDol43oibLmjInpiJUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshbW9iaWxlUHJpbnRNb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweS0zIHB4LTIgdGV4dC1jZW50ZXIgYWxpZ24tdG9wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57aXRlbS5kZWR1Y3RpYmxlIHx8IFwi54ShXCJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5uYW1lLmluY2x1ZGVzKFwi6LKh54mp5pCN5aSxXCIpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGluay10ZXh0LWJsdWUgZm9udC1ib2xkIG10LTEgaG92ZXI6dGV4dC1yZWQtNTAwIHRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZU5vdGUoREVEVUNUSUJMRV9OT1RFX0RBVEEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICjoqLs0LjUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IW1vYmlsZVByaW50TW9kZSAmJiA8dGQgY2xhc3NOYW1lPVwicHktMyBweC0yIHRleHQtcmlnaHQgZm9udC1ib2xkIGFsaWduLXRvcFwiPntOdW1iZXIoaXRlbS5wcmVtaXVtIHx8IDApLnRvTG9jYWxlU3RyaW5nKCl9PC90ZD59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyog57i96KiI5qyE5L2NICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAgZm9udC1ib2xkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sU3Bhbj17bW9iaWxlUHJpbnRNb2RlID8gMiA6IDR9IGNsYXNzTmFtZT1cInB5LTQgcHgtMyB0ZXh0LXJpZ2h0XCI+8J+SsCDnuL3oqIjkv53pmqrosrsgKOaWsOWPsOW5oyk8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB5LTQgcHgtMyB0ZXh0LXJpZ2h0IHRleHQtbGcgbWQ6dGV4dC14bCB0ZXh0LXJlZC02MDAgZm9udC1ibGFjayB0cmFja2luZy10aWdodFwiPiR7Y2FsY3VsYXRlZFRvdGFsLnRvTG9jYWxlU3RyaW5nKCl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8Q2VudGVyZWROb3RlTW9kYWwgaXNPcGVuPXshIWFjdGl2ZU5vdGV9IG9uQ2xvc2U9eygpID0+IHNldEFjdGl2ZU5vdGUobnVsbCl9IHRpdGxlPXthY3RpdmVOb3RlPy50aXRsZX0gbm90ZXM9e2FjdGl2ZU5vdGU/Lm5vdGVzIHx8IFtdfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBBcHAgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZShJTklUSUFMX0RBVEEpO1xuICAgICAgICAgICAgY29uc3QgW2N1cnJlbnRWaWV3LCBzZXRDdXJyZW50Vmlld10gPSB1c2VTdGF0ZSgncHJlc2VudGF0aW9uJyk7XG4gICAgICAgICAgICBjb25zdCBbaXNFZGl0aW5nTGlua3MsIHNldElzRWRpdGluZ0xpbmtzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFtzaG93UHJvbXB0TW9kYWwsIHNldFNob3dQcm9tcHRNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRUb3RhbCA9IHVzZU1lbW8oKCkgPT4gZGF0YS5jb3ZlcmFnZXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIE51bWJlcihpdGVtLnByZW1pdW0gfHwgMCksIDApLCBbZGF0YS5jb3ZlcmFnZXNdKTtcblxuICAgICAgICAgICAgY29uc3QgZmluZE1hdGNoaW5nTGlua3MgPSAoY292ZXJhZ2VJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb3ZlcmFnZUl0ZW0ubmFtZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBjb3ZlcmFnZUl0ZW0ubmFtZS50cmltKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEubGlua0xpYnJhcnkuZmluZChsaWIgPT4gbGliLmtleXdvcmQgJiYgbm9ybWFsaXplZE5hbWUuaW5jbHVkZXMobGliLmtleXdvcmQudHJpbSgpKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVMaWJyYXJ5Q2hhbmdlID0gdXNlQ2FsbGJhY2soKGluZGV4LCBmaWVsZCwgdmFsdWUsIHN1YkZpZWxkID0gbnVsbCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldERhdGEocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xpYnJhcnkgPSBbLi4ucHJldi5saW5rTGlicmFyeV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJGaWVsZCkgbmV3TGlicmFyeVtpbmRleF1bZmllbGRdID0geyAuLi5uZXdMaWJyYXJ5W2luZGV4XVtmaWVsZF0sIFtzdWJGaWVsZF06IHZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgbmV3TGlicmFyeVtpbmRleF1bZmllbGRdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnByZXYsIGxpbmtMaWJyYXJ5OiBuZXdMaWJyYXJ5IH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog5a2Y5qqU5Yqf6IO95by35YyW77yaXG4gICAgICAgICAgICAgKiDlsIfnm67liY0gUmVhY3Qg54uA5oWL77yI5YyF5ZCr5L+u5pS55b6M55qE6LOH5paZ5bqr6YCj57WQ77yJ5a6M5pW05a+r5YWl5paw5qqU5qGI55qEIDxzY3JpcHQgaWQ9XCJzYXZlZC1kYXRhXCI+IOWFp+OAglxuICAgICAgICAgICAgICog6YCZ5qij55Si5Ye655qEIEhUTUwg5paH5Lu25bCx5piv5LiA5YCL5a6M5YWo542o56uL44CB5YyF5ZCr5pyA5paw6LOH5paZ55qE5Zau5qqU44CCXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHNhdmVBc0h0bWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8g6KSH6KO95pW05YCLIERPTSDntZDmp4tcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9uZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8g5riF56m6IHJvb3TvvIznorrkv53mlrDmqpTmoYjplovllZ/mmYLmnIPnlLHlhbblhaflu7rnmoQgSlNPTiDph43mlrDliJ3lp4vljJYgUmVhY3RcbiAgICAgICAgICAgICAgICBjb25zdCByb290RGl2ID0gY2xvbmUucXVlcnlTZWxlY3RvcignI3Jvb3QnKTtcbiAgICAgICAgICAgICAgICBpZihyb290RGl2KSByb290RGl2LmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIOWwh+ebruWJjeeahCBzdGF0ZSAoZGF0YSkg5bqP5YiX5YyW5Lim5a+r5YWlIHNjcmlwdCDmqJnnsaRcbiAgICAgICAgICAgICAgICBjb25zdCBzYXZlZERhdGFTY3JpcHQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKFwiI3NhdmVkLWRhdGFcIik7XG4gICAgICAgICAgICAgICAgaWYoc2F2ZWREYXRhU2NyaXB0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIOmAmeWMheWQqyBtZXRhLCBjbGllbnQsIGNvdmVyYWdlcyDku6Xlj4rmnIDpl5zpjbXnmoTorormm7TlvowgbGlua0xpYnJhcnlcbiAgICAgICAgICAgICAgICAgICAgc2F2ZWREYXRhU2NyaXB0LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8g55Si55Sf5qqU5ZCN6YKP6LyvXG4gICAgICAgICAgICAgICAgbGV0IGRhdGVTdHIgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNsaWVudC5wb2xpY3lQZXJpb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBkYXRhLmNsaWVudC5wb2xpY3lQZXJpb2QubWF0Y2goLyhcXGR7MiwzfSlcXHMq5bm0XFxzKihcXGR7MSwyfSlcXHMq5pyIXFxzKihcXGR7MSwyfSlcXHMq5pelLyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeWVhciA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGggPSBtYXRjaFsyXS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF5ID0gbWF0Y2hbM10ucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVTdHIgPSBgJHt5ZWFyfSR7bW9udGh9JHtkYXl9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGAke2RhdGVTdHJ9JHtkYXRhLmNsaWVudC5uYW1lIHx8ICcnfS3kvY/lroXngavpmqrovJTliqnoqqrmmI4uaHRtbGA7XG4gICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjbG9uZS5vdXRlckhUTUxdLCB7IHR5cGU6IFwidGV4dC9odG1sXCIgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZU5hbWU7XG4gICAgICAgICAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIOmHi+aUvuiomOaGtumrlFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpLCAxMDApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaW1wb3J0RGF0YSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltcG9ydGVkRGF0YSA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1wb3J0ZWREYXRhLmxpbmtMaWJyYXJ5IHx8IGltcG9ydGVkRGF0YS5saW5rTGlicmFyeS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRlZERhdGEubGlua0xpYnJhcnkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEubGlua0xpYnJhcnkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERhdGEoaW1wb3J0ZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSlNPTiDop6PmnpDpjK/oqqRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgcmVsb2FkSW5pdGlhbERhdGEgPSAoKSA9PiB7IFxuICAgICAgICAgICAgICAgIGlmKGNvbmZpcm0oJ+eiuuWumuimgemChOWOn+WIsOmgkOioreWAvO+8iOa4heepuuaJgOaciei8uOWFpeizh+aWme+8ie+8nycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERhdGEoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShFTVBUWV9URU1QTEFURSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktMTAwIGZvbnQtc2Fuc1wiPlxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFZpZXcgPT09ICdtYW5hZ2VfbGlua3MnID8gXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGlua01hbmFnZXJWaWV3IGRhdGE9e2RhdGF9IGlzRWRpdGluZ0xpbmtzPXtpc0VkaXRpbmdMaW5rc30gc2V0SXNFZGl0aW5nTGlua3M9e3NldElzRWRpdGluZ0xpbmtzfSBzZXRDdXJyZW50Vmlldz17c2V0Q3VycmVudFZpZXd9IGhhbmRsZUxpYnJhcnlDaGFuZ2U9e2hhbmRsZUxpYnJhcnlDaGFuZ2V9IGFkZExpYnJhcnlSb3c9eygpID0+IHNldERhdGEocHJldiA9PiAoeyAuLi5wcmV2LCBsaW5rTGlicmFyeTogWy4uLnByZXYubGlua0xpYnJhcnksIHsgaWQ6IERhdGUubm93KCksIGNvZGU6IFwiXCIsIGtleXdvcmQ6IFwiXCIsIGxpbmsxOiB7fSwgbGluazI6IHt9LCBsaW5rMzoge30sIGxpbms0OiB7fSB9XSB9KSl9IHJlbW92ZUxpYnJhcnlSb3c9eyhpKSA9PiBzZXREYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgbGlua0xpYnJhcnk6IHByZXYubGlua0xpYnJhcnkuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAhPT0gaSkgfSkpfSBzYXZlQXNIdG1sPXtzYXZlQXNIdG1sfSAvPiA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZpZXcgPT09ICdlZGl0X2RhdGEnID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0VmlldyBkYXRhPXtkYXRhfSBzZXREYXRhPXtzZXREYXRhfSBzZXRDdXJyZW50Vmlldz17c2V0Q3VycmVudFZpZXd9IC8+IDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDxQcmVzZW50YXRpb25WaWV3IGRhdGE9e2RhdGF9IHNldEN1cnJlbnRWaWV3PXtzZXRDdXJyZW50Vmlld30gZmluZE1hdGNoaW5nTGlua3M9e2ZpbmRNYXRjaGluZ0xpbmtzfSBjYWxjdWxhdGVkVG90YWw9e2NhbGN1bGF0ZWRUb3RhbH0gaW1wb3J0RGF0YT17aW1wb3J0RGF0YX0gcmVsb2FkSW5pdGlhbERhdGE9e3JlbG9hZEluaXRpYWxEYXRhfSBzYXZlQXNIdG1sPXtzYXZlQXNIdG1sfSBmaWxlSW5wdXRSZWY9e2ZpbGVJbnB1dFJlZn0gc2V0U2hvd1Byb21wdE1vZGFsPXtzZXRTaG93UHJvbXB0TW9kYWx9IC8+XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAge3Nob3dQcm9tcHRNb2RhbCAmJiA8UHJvbXB0TW9kYWwgb25DbG9zZT17KCkgPT4gc2V0U2hvd1Byb21wdE1vZGFsKGZhbHNlKX0gLz59XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xuICAgICAgICByb290LnJlbmRlcig8QXBwIC8+KTtcbiAgICAiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNRLElBQUFBLE1BQUEsR0FBOERDLEtBQUs7RUFBM0RDLFFBQVEsR0FBQUYsTUFBQSxDQUFSRSxRQUFRO0VBQUVDLE1BQU0sR0FBQUgsTUFBQSxDQUFORyxNQUFNO0VBQUVDLFNBQVMsR0FBQUosTUFBQSxDQUFUSSxTQUFTO0VBQUVDLE9BQU8sR0FBQUwsTUFBQSxDQUFQSyxPQUFPO0VBQUVDLFdBQVcsR0FBQU4sTUFBQSxDQUFYTSxXQUFXO0FBRXpELElBQU1DLGFBQWEsR0FBRyxDQUNsQjtFQUFFQyxFQUFFLEVBQUUsSUFBSTtFQUFFQyxJQUFJLEVBQUUsS0FBSztFQUFFQyxPQUFPLEVBQUUsUUFBUTtFQUFFQyxLQUFLLEVBQUU7SUFBQ0MsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7SUFBQ0YsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRSxLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRyxLQUFLLEVBQUU7SUFBRUosSUFBSSxFQUFFLE1BQU07SUFBRUMsR0FBRyxFQUFFO0VBQXFGO0FBQUUsQ0FBQyxFQUNwUDtFQUFFTCxFQUFFLEVBQUUsSUFBSTtFQUFFQyxJQUFJLEVBQUUsS0FBSztFQUFFQyxPQUFPLEVBQUUsVUFBVTtFQUFFQyxLQUFLLEVBQUU7SUFBQ0MsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7SUFBQ0YsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRSxLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRyxLQUFLLEVBQUU7SUFBRUosSUFBSSxFQUFFLE1BQU07SUFBRUMsR0FBRyxFQUFFO0VBQXdGO0FBQUUsQ0FBQyxFQUN6UDtFQUFFTCxFQUFFLEVBQUUsSUFBSTtFQUFFQyxJQUFJLEVBQUUsS0FBSztFQUFFQyxPQUFPLEVBQUUsV0FBVztFQUFFQyxLQUFLLEVBQUU7SUFBQ0MsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7SUFBQ0YsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRSxLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRyxLQUFLLEVBQUU7SUFBRUosSUFBSSxFQUFFLE1BQU07SUFBRUMsR0FBRyxFQUFFO0VBQXdGO0FBQUUsQ0FBQyxFQUMxUDtFQUFFTCxFQUFFLEVBQUUsSUFBSTtFQUFFQyxJQUFJLEVBQUUsVUFBVTtFQUFFQyxPQUFPLEVBQUUsVUFBVTtFQUFFQyxLQUFLLEVBQUU7SUFBQ0MsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7SUFBQ0YsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRSxLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRyxLQUFLLEVBQUU7SUFBRUosSUFBSSxFQUFFLE1BQU07SUFBRUMsR0FBRyxFQUFFO0VBQXdGO0FBQUUsQ0FBQyxFQUM5UDtFQUFFTCxFQUFFLEVBQUUsSUFBSTtFQUFFQyxJQUFJLEVBQUUsS0FBSztFQUFFQyxPQUFPLEVBQUUsWUFBWTtFQUFFQyxLQUFLLEVBQUU7SUFBQ0MsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFQyxLQUFLLEVBQUU7SUFBQ0YsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRSxLQUFLLEVBQUU7SUFBQ0gsSUFBSSxFQUFFLEVBQUU7SUFBRUMsR0FBRyxFQUFFO0VBQUUsQ0FBQztFQUFFRyxLQUFLLEVBQUU7SUFBRUosSUFBSSxFQUFFLE1BQU07SUFBRUMsR0FBRyxFQUFFO0VBQXdGO0FBQUUsQ0FBQyxFQUMzUDtFQUFFTCxFQUFFLEVBQUUsSUFBSTtFQUFFQyxJQUFJLEVBQUUsS0FBSztFQUFFQyxPQUFPLEVBQUUsZ0JBQWdCO0VBQUVDLEtBQUssRUFBRTtJQUFDQyxJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVDLEtBQUssRUFBRTtJQUFDRixJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVFLEtBQUssRUFBRTtJQUFDSCxJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVHLEtBQUssRUFBRTtJQUFFSixJQUFJLEVBQUUsTUFBTTtJQUFFQyxHQUFHLEVBQUU7RUFBd0Y7QUFBRSxDQUFDLEVBQy9QO0VBQUVMLEVBQUUsRUFBRSxJQUFJO0VBQUVDLElBQUksRUFBRSxLQUFLO0VBQUVDLE9BQU8sRUFBRSxZQUFZO0VBQUVDLEtBQUssRUFBRTtJQUFDQyxJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVDLEtBQUssRUFBRTtJQUFDRixJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVFLEtBQUssRUFBRTtJQUFDSCxJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVHLEtBQUssRUFBRTtJQUFFSixJQUFJLEVBQUUsTUFBTTtJQUFFQyxHQUFHLEVBQUU7RUFBd0Y7QUFBRSxDQUFDLEVBQzNQO0VBQUVMLEVBQUUsRUFBRSxJQUFJO0VBQUVDLElBQUksRUFBRSxLQUFLO0VBQUVDLE9BQU8sRUFBRSxVQUFVO0VBQUVDLEtBQUssRUFBRTtJQUFDQyxJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVDLEtBQUssRUFBRTtJQUFDRixJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVFLEtBQUssRUFBRTtJQUFDSCxJQUFJLEVBQUUsRUFBRTtJQUFFQyxHQUFHLEVBQUU7RUFBRSxDQUFDO0VBQUVHLEtBQUssRUFBRTtJQUFFSixJQUFJLEVBQUUsTUFBTTtJQUFFQyxHQUFHLEVBQUU7RUFBRztBQUFFLENBQUMsRUFDcEs7RUFBRUwsRUFBRSxFQUFFLElBQUk7RUFBRUMsSUFBSSxFQUFFLEtBQUs7RUFBRUMsT0FBTyxFQUFFLEtBQUs7RUFBRUMsS0FBSyxFQUFFO0lBQUVDLElBQUksRUFBRSxLQUFLO0lBQUVDLEdBQUcsRUFBRTtFQUFHLENBQUM7RUFBRUMsS0FBSyxFQUFFO0lBQUNGLElBQUksRUFBRSxFQUFFO0lBQUVDLEdBQUcsRUFBRTtFQUFFLENBQUM7RUFB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</script></head>
<body>
    <div id="root"></div>

    <script id="saved-data" type="application/json">{
  "meta": {
    "quoteNumber": "RF25441763",
    "date": "114年03月20日"
  },
  "client": {
    "proposerName": "張曼玲",
    "name": "張曼玲",
    "proposerPhone": "0921910124",
    "phone": "0921910124",
    "mailingAddress": "111 台北市士林區天母東路114號6樓",
    "address": "111 台北市士林區天母東路114號6樓",
    "policyPeriod": "民國 114年3月22日中午12時起至民國 115年3月22 日中午12時止",
    "model": "鋼筋混凝土(水泥)造",
    "plate": "地上層共7層",
    "engineNo": "65.75坪",
    "manufacturingDate": "民國73年"
  },
  "coverages": [
    {
      "name": "住家綜合保險",
      "detail": "",
      "amount": "",
      "deductible": "",
      "premium": 0
    },
    {
      "name": "住家財物損失保險(★註1~6)",
      "detail": "建築物及其內動產",
      "amount": "9,870,000",
      "deductible": "(註4,5)",
      "premium": 320
    },
    {
      "name": "住家第三人責任保險(★註7)",
      "detail": "依條款之約定",
      "amount": "24,000,000",
      "deductible": "無",
      "premium": 1025
    },
    {
      "name": "住宅地震基本保險",
      "detail": "建築物(不包括動產及裝潢)",
      "amount": "1,500,000",
      "deductible": "無",
      "premium": 1350
    },
    {
      "name": "住家綠能升級附加條款",
      "detail": "建築物及其內動產",
      "amount": "依條款約定",
      "deductible": "無",
      "premium": 203
    },
    {
      "name": "擴大承保機車火災事故附加條款",
      "detail": "依條款之約定",
      "amount": "依條款約定",
      "deductible": "無",
      "premium": 2
    },
    {
      "name": "住宅天災費用補償保險",
      "detail": "建築物",
      "amount": "每月補價1萬元/最高12個月",
      "deductible": "無",
      "premium": 395
    }
  ],
  "linkLibrary": [
    {
      "id": 1001,
      "code": "A01",
      "keyword": "住家綜合保險",
      "link1": {
        "name": "",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "保單條款",
        "url": "https://drive.google.com/file/d/1DDvulX7nAanF0hY5dqL3KQmQRS4um-8x/view?usp=sharing"
      }
    },
    {
      "id": 1002,
      "code": "B01",
      "keyword": "住家財物損失保險",
      "link1": {
        "name": "",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "保單條款",
        "url": "https://drive.google.com/file/d/1H_XDPLrwtp-Fi6AzdxlkOplJ6-WCXEmh/view?usp=drive_link"
      }
    },
    {
      "id": 1003,
      "code": "C01",
      "keyword": "住家第三人責任保險",
      "link1": {
        "name": "",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "保單條款",
        "url": "https://drive.google.com/file/d/1vF9h2itCOaSd-KwFoHERR7weGY6IUYNs/view?usp=drive_link"
      }
    },
    {
      "id": 1004,
      "code": "住宅地震基本保險",
      "keyword": "住宅地震基本保險",
      "link1": {
        "name": "",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "保單條款",
        "url": "https://drive.google.com/file/d/1u0o4QBoHmcMg170CwHjPhnxfVWj-bd_C/view?usp=drive_link"
      }
    },
    {
      "id": 1005,
      "code": "E01",
      "keyword": "住家綠能升級附加條款",
      "link1": {
        "name": "",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "保單條款",
        "url": "https://drive.google.com/file/d/1Rinkab6a-XycNtAQdiaPogjQSEL5pNHo/view?usp=drive_link"
      }
    },
    {
      "id": 1006,
      "code": "F01",
      "keyword": "擴大承保機車火災事故附加條款",
      "link1": {
        "name": "",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "保單條款",
        "url": "https://drive.google.com/file/d/1kChySSWGHuJ9JHz3aBLKHUg8z1YpVmOE/view?usp=drive_link"
      }
    },
    {
      "id": 1007,
      "code": "G01",
      "keyword": "住宅天災費用補償保險",
      "link1": {
        "name": "",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "保單條款",
        "url": "https://drive.google.com/file/d/1Frt5eSiBGlCYzzsy765tB3d01blsCss_/view?usp=drive_link"
      }
    },
    {
      "id": 1008,
      "code": "H01",
      "keyword": "續保約定附加條款",
      "link1": {
        "name": "",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "保單條款",
        "url": ""
      }
    },
    {
      "id": 1009,
      "code": "Z01",
      "keyword": "回上頁",
      "link1": {
        "name": "回上頁",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "",
        "url": ""
      }
    },
    {
      "id": 1010,
      "code": "Z02",
      "keyword": "要保書",
      "link1": {
        "name": "要保書內容",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "",
        "url": ""
      }
    },
    {
      "id": 1011,
      "code": "Z03",
      "keyword": "報價單",
      "link1": {
        "name": "報價單內容",
        "url": ""
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "",
        "url": ""
      }
    },
    {
      "id": 1012,
      "code": "M01",
      "keyword": "目錄",
      "link1": {
        "name": "目錄",
        "url": "https://drive.google.com/file/d/1nApFdBvKmIafbXAe1nxzoHG4wjFBU7h-/view?usp=drive_link"
      },
      "link2": {
        "name": "",
        "url": ""
      },
      "link3": {
        "name": "",
        "url": ""
      },
      "link4": {
        "name": "",
        "url": ""
      }
    }
  ]
}</script>

    <script type="text/babel">
        const { useState, useRef, useEffect, useMemo, useCallback } = React;

        const DB_DEFAULT_11 = [
            { id: 1001, code: "A01", keyword: "住家綜合保險", link1: {name: "", url: ""}, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: { name: "保單條款", url: "https://drive.google.com/file/d/1DDvulX7nAanF0hY5dqL3KQmQRS4um-8x/view?usp=sharing" } },
            { id: 1002, code: "B01", keyword: "住家財物損失保險", link1: {name: "", url: ""}, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: { name: "保單條款", url: "https://drive.google.com/file/d/1H_XDPLrwtp-Fi6AzdxlkOplJ6-WCXEmh/view?usp=drive_link" } },
            { id: 1003, code: "C01", keyword: "住家第三人責任保險", link1: {name: "", url: ""}, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: { name: "保單條款", url: "https://drive.google.com/file/d/1vF9h2itCOaSd-KwFoHERR7weGY6IUYNs/view?usp=drive_link" } },
            { id: 1004, code: "住宅地震基本保險", keyword: "住宅地震基本保險", link1: {name: "", url: ""}, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: { name: "保單條款", url: "https://drive.google.com/file/d/1u0o4QBoHmcMg170CwHjPhnxfVWj-bd_C/view?usp=drive_link" } },
            { id: 1005, code: "E01", keyword: "住家綠能升級附加條款", link1: {name: "", url: ""}, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: { name: "保單條款", url: "https://drive.google.com/file/d/1Rinkab6a-XycNtAQdiaPogjQSEL5pNHo/view?usp=drive_link" } },
            { id: 1006, code: "F01", keyword: "擴大承保機車火災事故附加條款", link1: {name: "", url: ""}, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: { name: "保單條款", url: "https://drive.google.com/file/d/1kChySSWGHuJ9JHz3aBLKHUg8z1YpVmOE/view?usp=drive_link" } },
            { id: 1007, code: "G01", keyword: "住宅天災費用補償保險", link1: {name: "", url: ""}, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: { name: "保單條款", url: "https://drive.google.com/file/d/1Frt5eSiBGlCYzzsy765tB3d01blsCss_/view?usp=drive_link" } },
            { id: 1008, code: "H01", keyword: "續保約定附加條款", link1: {name: "", url: ""}, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: { name: "保單條款", url: "" } },
            { id: 1009, code: "Z01", keyword: "回上頁", link1: { name: "回上頁", url: "" }, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: {name: "", url: ""} },
            { id: 1010, code: "Z02", keyword: "要保書", link1: { name: "要保書內容", url: "" }, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: {name: "", url: ""} },
            { id: 1011, code: "Z03", keyword: "報價單", link1: { name: "報價單內容", url: "" }, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: {name: "", url: ""} },
            { id: 1012, code: "M01", keyword: "目錄", link1: { name: "目錄", url: "" }, link2: {name: "", url: ""}, link3: {name: "", url: ""}, link4: {name: "", url: ""} }
        ];

        const getInitialData = () => {
            try {
                const dataScript = document.getElementById('saved-data');
                const parsed = dataScript && dataScript.textContent ? JSON.parse(dataScript.textContent) : {};
                if (!parsed.linkLibrary || parsed.linkLibrary.length === 0) {
                    parsed.linkLibrary = JSON.parse(JSON.stringify(DB_DEFAULT_11));
                }
                return parsed;
            } catch (e) { console.error("資料格式解析失敗"); }
            return { meta: {}, client: {}, coverages: [], linkLibrary: JSON.parse(JSON.stringify(DB_DEFAULT_11)) };
        };

        const INITIAL_DATA = getInitialData();
        
        const EMPTY_TEMPLATE = {
            meta: { quoteNumber: "", date: "" },
            client: {
                proposerName: "", name: "", proposerPhone: "", phone: "",
                mailingAddress: "", address: "", model: "", plate: "",
                engineNo: "", manufacturingDate: "", policyPeriod: ""
            },
            coverages: [],
            linkLibrary: JSON.parse(JSON.stringify(DB_DEFAULT_11))
        };

        const CenteredNoteModal = ({ isOpen, onClose, title, notes }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[500] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm cursor-pointer" onClick={onClose}>
                    <div className="bg-[#fefce8] border-2 border-yellow-400 rounded-xl max-w-md w-full max-h-[85vh] overflow-y-auto p-6 shadow-2xl relative cursor-pointer" onClick={onClose}>
                        <h4 className="text-red-700 font-bold text-xl mb-4 pb-2 border-b-2 border-yellow-300 flex items-center gap-2">
                            <i className="fas fa-info-circle"></i> {title || '理賠重點摘要'}
                        </h4>
                        <div className="space-y-4">
                            {notes.map((note, i) => (
                                <div key={i} className="flex gap-3 text-base leading-relaxed text-gray-700">
                                    <span className="font-bold text-red-500 shrink-0">{i+1}.</span>
                                    <span>{note}</span>
                                </div>
                            ))}
                        </div>
                        <div className="mt-8 pt-4 border-t border-yellow-200 text-center">
                            <span className="text-xs text-gray-400 italic font-medium">點擊視窗內任意處即可關閉</span>
                        </div>
                    </div>
                </div>
            );
        };

        const PromptModal = ({ onClose }) => {
            const [copied, setCopied] = useState(false);
            const promptText = `你是專業的住宅火險轉對助理。請將「保險報價單」內容轉換為符合特定結構的 JSON 格式。

**嚴格提取與結構要求：**

1. **JSON 層級**：
   * meta: 包含 quoteNumber (報價單號), date (報價日期)。
   * client: 包含 要保人/被保人資訊與建築資訊。
   * coverages: 險種陣列。

2. **建築資訊 (放在 client 內)**：
   * model: 結構 (如：鋼筋混凝土造)。
   * plate: 樓層 (如：共 7 層)。
   * engineNo:坪數 (如：65.75坪)。
   * manufacturingDate: 完工年度 (如：民國73年)。

3. **險種資訊 (放在 coverages 陣列內)**：
   * 每個物件必須包含：name (險種名稱), detail (保險標的物文字), amount (保額), deductible (自負額), premium (保費數字)。
   * **關鍵保費邏輯**：
     * 「住家綜合保險」：這是計畫名稱，請務必放在陣列的第一位。其 premium (保費) 欄位請務必填入 0，以避免與下方細項重複計算總保費。
     * 其他細項險種：請依照報價單實際金額提取保費。

4. **欄位對應表**：
   * proposerName: 要保人, name: 被保人, proposerPhone: 要保人電話, phone: 被保人電話, mailingAddress: 通訊地址, address: 標的物地址, policyPeriod: 保險期間。

**輸出限制 (重要防錯)：**
* **禁止引用標記**：輸出內容絕對不可包含任何 、[cite: ...] 或類似的查證引用標記。
* **純淨格式**：只回傳純淨的 JSON 程式碼塊，確保不需任何處理即可被 JSON.parse() 解析。`;
            
            const handleCopy = () => {
                const textArea = document.createElement("textarea");
                textArea.value = promptText;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                } catch (err) { console.error('無法複製', err); }
                document.body.removeChild(textArea);
            };

            return (
                <div className="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-[300] p-4">
                    <div className="bg-white rounded-lg shadow-xl max-w-2xl w-full flex flex-col max-h-[90vh]">
                        <div className="p-4 border-b flex justify-between items-center bg-gray-50 rounded-t-lg">
                            <h3 className="text-xl font-bold text-gray-800"><i className="fas fa-robot text-blue-600 mr-2"></i>生成 AI 轉換指令</h3>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-700"><i className="fas fa-times text-xl"></i></button>
                        </div>
                        <div className="p-6 overflow-y-auto flex-1 text-sm text-gray-600">
                            <textarea readOnly className="w-full h-80 p-4 bg-gray-800 text-green-400 font-mono text-sm rounded shadow-inner" value={promptText}></textarea>
                        </div>
                        <div className="p-4 border-t bg-gray-50 flex justify-end gap-3">
                            <button onClick={onClose} className="px-4 py-2 text-gray-600 hover:bg-gray-200 rounded font-medium">關閉</button>
                            <button onClick={handleCopy} className={`px-5 py-2 rounded shadow font-bold transition flex items-center gap-2 ${copied ? 'bg-green-600 text-white' : 'bg-blue-600 text-white hover:bg-blue-700'}`}>
                                {copied ? <><i className="fas fa-check"></i> 已複製到剪貼簿</> : <><i className="fas fa-copy"></i> 複製指令</>}
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const LinkManagerView = ({ data, isEditingLinks, setIsEditingLinks, setCurrentView, handleLibraryChange, addLibraryRow, removeLibraryRow, saveAsHtml }) => (
            <div className="max-w-7xl mx-auto bg-white min-h-screen p-8">
                <div className="flex justify-between items-center mb-6 border-b pb-4">
                    <h2 className="text-2xl font-bold text-blue-700"><i className="fas fa-database mr-2"></i>連結資料庫管理 (共 {data.linkLibrary.length} 條)</h2>
                    <div className="flex gap-2">
                        <button onClick={() => setIsEditingLinks(!isEditingLinks)} className={`px-4 py-2 rounded font-medium ${isEditingLinks ? 'bg-green-600 text-white' : 'bg-yellow-500 text-black'}`}>{isEditingLinks ? "完成並儲存" : "修改設定"}</button>
                        <button onClick={saveAsHtml} className="px-4 py-2 bg-indigo-600 text-white rounded font-medium shadow"><i className="fas fa-file-download"></i> 存檔</button>
                        <button onClick={() => setCurrentView('presentation')} className="px-4 py-2 bg-gray-500 text-white rounded"><i className="fas fa-arrow-left"></i> 返回</button>
                    </div>
                </div>
                <div className="overflow-x-auto shadow rounded-lg border">
                    <table className="w-full text-left border-collapse">
                        <thead className="bg-gray-100 text-gray-700 text-sm">
                            <tr>
                                <th className="p-4 w-20 bg-yellow-100 text-center">代號</th>
                                <th className="p-4 w-64 text-center">關鍵字 (匹配險種)</th>
                                <th className="p-4">連結設定 (Link 1-4)</th>
                                {isEditingLinks && <th className="p-4 text-center">操作</th>}
                            </tr>
                        </thead>
                        <tbody>
                            {data.linkLibrary.map((lib, index) => (
                                <tr key={lib.id} className="border-t text-sm hover:bg-gray-50 transition">
                                    <td className="p-4 align-top bg-yellow-50 font-bold text-center">
                                        {isEditingLinks ? <input className="w-full border-2 border-yellow-300 rounded p-1 text-center font-bold" value={lib.code || ''} onChange={(e) => handleLibraryChange(index, 'code', e.target.value)} maxLength={3} /> : lib.code}
                                    </td>
                                    <td className="p-4 align-top">
                                        {isEditingLinks ? <textarea className="w-full border rounded p-2" rows={3} value={lib.keyword} onChange={(e) => handleLibraryChange(index, 'keyword', e.target.value)} /> : <span className="font-bold text-center block w-full">{lib.keyword}</span>}
                                    </td>
                                    <td className="p-4 align-top">
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                                            {[1, 2, 3, 4].map(i => (
                                                <div key={i} className="p-2 bg-gray-50 border rounded-lg shadow-sm">
                                                    <div className="text-[10px] text-blue-500 font-bold mb-1 uppercase tracking-tighter">連結 {i}</div>
                                                    {isEditingLinks ? (
                                                        <div className="space-y-1">
                                                            <input className="w-full border p-1 text-xs rounded" placeholder="按鈕名稱" value={lib[`link${i}`]?.name || ''} onChange={(e) => handleLibraryChange(index, `link${i}`, e.target.value, 'name')} />
                                                            <input className="w-full border p-1 text-xs font-mono rounded" placeholder="URL 網址" value={lib[`link${i}`]?.url || ''} onChange={(e) => handleLibraryChange(index, `link${i}`, e.target.value, 'url')} />
                                                        </div>
                                                    ) : (
                                                        <div className="flex flex-col">
                                                            <span className="text-xs font-bold text-gray-700">{lib[`link${i}`]?.name || "-"}</span>
                                                            <span className="text-[10px] text-gray-400 truncate w-full">{lib[`link${i}`]?.url || "未設定"}</span>
                                                        </div>
                                                    )}
                                                </div>
                                            ))}
                                        </div>
                                    </td>
                                    {isEditingLinks && <td className="p-4 text-center align-top"><button onClick={() => removeLibraryRow(index)} className="text-red-400 hover:text-red-600 transition p-2"><i className="fas fa-trash-alt"></i></button></td>}
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>
                {isEditingLinks && <button onClick={addLibraryRow} className="mt-4 px-4 py-2 bg-green-600 text-white rounded shadow font-bold hover:bg-green-700 transition"><i className="fas fa-plus mr-2"></i>新增項目</button>}
            </div>
        );

        const EditView = ({ data, setData, setCurrentView }) => {
            const handleClientChange = (field, value) => setData(prev => ({ ...prev, client: { ...prev.client, [field]: value } }));
            const handleCoverageChange = (index, field, value) => {
                const newCoverages = [...data.coverages];
                newCoverages[index] = { ...newCoverages[index], [field]: value };
                setData(prev => ({ ...prev, coverages: newCoverages }));
            };
            const addCoverageRow = () => setData(prev => ({ ...prev, coverages: [...prev.coverages, { id: Date.now(), name: "", detail: "", amount: "", deductible: "無", premium: 0 }] }));
            const removeCoverageRow = (index) => setData(prev => ({ ...prev, coverages: prev.coverages.filter((_, i) => i !== index) }));

            return (
                <div className="max-w-7xl mx-auto p-8 bg-white min-h-screen">
                    <div className="flex justify-between items-center mb-6 border-b pb-4">
                        <h2 className="text-2xl font-bold text-yellow-600">編輯報價內容</h2>
                        <button onClick={() => setCurrentView('presentation')} className="px-4 py-2 bg-blue-600 text-white rounded font-bold shadow hover:bg-blue-700 transition">完成</button>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
                        {Object.keys(data.client).map(key => (
                            <div key={key}>
                                <label className="block text-xs font-bold text-gray-400 mb-1 uppercase">{key}</label>
                                <input className="w-full border p-2 rounded text-sm focus:ring-2 focus:ring-blue-200 outline-none" value={data.client[key] || ''} onChange={(e) => handleClientChange(key, e.target.value)} />
                            </div>
                        ))}
                    </div>
                    <div className="bg-gray-50 p-4 rounded-lg border shadow-inner">
                        <h3 className="font-bold mb-4 text-green-700 flex items-center gap-2"><i className="fas fa-list"></i> 承保險種清單管理</h3>
                        <div className="space-y-3">
                            {data.coverages.map((c, i) => (
                                <div key={c.id || i} className="bg-white p-3 border rounded-lg shadow-sm grid grid-cols-1 md:grid-cols-5 gap-2 relative">
                                    <div className="flex flex-col"><label className="text-[9px] font-bold text-gray-400">承保險種類別</label><input className="border p-2 rounded text-sm font-bold" value={c.name} onChange={(e) => handleCoverageChange(i, 'name', e.target.value)} /></div>
                                    <div className="flex flex-col"><label className="text-[9px] font-bold text-gray-400">保險標的物</label><input className="border p-2 rounded text-sm" value={c.detail} onChange={(e) => handleCoverageChange(i, 'detail', e.target.value)} /></div>
                                    <div className="flex flex-col"><label className="text-[9px] font-bold text-gray-400">保險金額</label><input className="border p-2 rounded text-sm text-center" value={c.amount} onChange={(e) => handleCoverageChange(i, 'amount', e.target.value)} /></div>
                                    <div className="flex flex-col"><label className="text-[9px] font-bold text-gray-400">自負額</label><input className="border p-2 rounded text-sm text-center" value={c.deductible} onChange={(e) => handleCoverageChange(i, 'deductible', e.target.value)} /></div>
                                    <div className="flex flex-col">
                                        <label className="text-[9px] font-bold text-gray-400">保險費</label>
                                        <div className="flex gap-1">
                                            <input className="w-full border p-2 rounded text-sm font-bold text-right" type="number" value={c.premium} onChange={(e) => handleCoverageChange(i, 'premium', e.target.value)} />
                                            <button onClick={() => removeCoverageRow(i)} className="text-red-400 hover:text-red-600 px-2 transition"><i className="fas fa-trash-alt"></i></button>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        <button onClick={addCoverageRow} className="mt-4 px-4 py-2 bg-green-600 text-white rounded text-sm font-bold shadow hover:bg-green-700 transition"><i className="fas fa-plus mr-2"></i>新增險種</button>
                    </div>
                </div>
            );
        };

        const PresentationView = ({ data, setCurrentView, findMatchingLinks, calculatedTotal, importData, reloadInitialData, saveAsHtml, fileInputRef, setShowPromptModal }) => {
            const [mobilePrintMode, setMobilePrintMode] = useState(true);
            const [clickHistory, setClickHistory] = useState([]);
            const [activeNote, setActiveNote] = useState(null); 
            
            // 自負額註解內容
            const DEDUCTIBLE_NOTE_DATA = {
                title: "自負額與限額說明 (註4、5)",
                notes: [
                    "竊盜損失(動產)：每一事故/保險期間累計賠償金額：15萬/30萬元，每一事故自負額 5,000 元。(註4)",
                    "玻璃損失：每一事故/保險期間累計賠償金額：1萬/2萬元，每一事故自負額 1,000 元。(註5)"
                ]
            };

            const containerClass = mobilePrintMode ? "mobile-print-mode" : "max-w-7xl mx-auto mt-8 bg-white paper-shadow rounded-lg overflow-hidden mb-10";
            
            const handleToggleMode = () => {
                if (!mobilePrintMode) { setMobilePrintMode(true); return; }
                const now = Date.now();
                const newHistory = [...clickHistory, now].filter(time => now - time <= 2000);
                if (newHistory.length >= 5) { setMobilePrintMode(false); setClickHistory([]); }
                else { setClickHistory(newHistory); }
            };

            const backItem = data.linkLibrary.find(l => l.code === "Z01")?.link1;
            const applicationItem = data.linkLibrary.find(l => l.code === "Z02")?.link1;
            const quoteItem = data.linkLibrary.find(l => l.code === "Z03")?.link1;
            const catalogItem = data.linkLibrary.find(l => l.keyword === "目錄");
            const comprehensiveLinks = data.linkLibrary.find(l => l.code === "A01");

            const getNoteData = (name) => {
                let title = "理賠重點摘要";
                let notes = [];
                if (name.includes("住家財物損失")) {
                    title = "住家財物損失 (含★註1~6)";
                    notes = ["理賠內容：火災、爆炸等事故致建物或動產損失。", "情況理賠：包含清除廢棄物費用、金融信用卡重製費(註1)。", "補償項目：臨時住宿生活費、租屋仲介及搬遷補助費(註2)。", "限額動產：珠寶首飾1萬、皮草1萬、書籍1千、鐘錶2千(註3)。", "竊盜保障：動產竊盜損失每一事故自負額5千元(註4)。", "玻璃賠付：住宅玻璃破損每一事故自負額1千元(註5)。", "颱洪補償：自動承保住宅颱風及洪水災害補償保險(註6)。", "不理賠情：要保人故意行為、潮濕發霉、建物於投保前已受損。", "準備事項：理賠申請書、損失清單、現場照片、費用單據。", "賠付標準：建築物採重置成本計，不扣折舊；動產採實際價值。"];
                } else if (name.includes("第三人責任")) {
                    title = "第三人責任 (含★註7)";
                    notes = ["理賠內容：意外事故致第三人體傷、死亡 or 財物損害。", "情況理賠：所有、使用、管理標的意外致賠償請求時觸發。", "慰問金額：身故5萬、住院5千，累計上限50萬元(註7)。", "除外對象：不包含被保險人配偶、家屬、受僱人 or 同居人。", "不理賠情：故意行為、不法行為、電梯及機動車責任。", "不理賠情：向人租賃之財物責任、因震動致建物倒塌責任。", "法律協助：可協助民事抗辯及和解，公司負擔訴訟費用。", "直接請求：損害賠償責任確定後，第三人得直接請求賠款。", "準備事項：診斷書/醫療單據、和解書/判決書、身分證明。", "和解規範：未經本公司參與之承認 or 和解，公司不受其拘束。"];
                } else if (name.includes("地震基本")) {
                    notes = ["理賠內容：地震、火災/海嘯致住宅建物損毀觸發理賠。", "情況理賠：限於「全損」，即鑑定不堪居住 or 修復費逾50%。", "賠付限額：最高150萬元，並額外支付20萬住宿費。", "不理賠情：動產、裝潢、土地、火山爆發、戰爭、核能。", "紅標補償：經鑑定具危險並貼紅色標誌者先行給付10萬元。", "給付方式：現金給付，備齊文件後15日內撥款。", "準備事項：理賠申請書、權狀影本、拆除通知 or 鑑定證明。", "複保處理：有多份保單時按保額比例分攤，合計限額150萬。", "削減給付：若全國損失超分散機制限額，將按比例削減。", "定義對象：領有合法牌照之住宅用建物。"];
                } else if (name.includes("綠能升級")) {
                    notes = ["理賠內容：災損後改採「綠能建材」修復 or 重建建築物。", "情況理賠：主契約承保事故致保險標的損毀時觸發。", "標章限制：須獲綠建材、環保 or 節能標章之建材設備。", "理賠優點：依綠能建材費用賠償，且「不再扣除折舊」。", "金額限制：理賠上限為主約理賠核算金額之 150%。", "總額限制：綠能賠付與主約賠付合計不得超過主約保額。", "不理賠情：因被保險人因素致無法以綠能建材修復者。", "不理賠情：要保人故意行為、潮濕發霉、主約除外事項。", "準備事項：主約理賠文件、綠能建材修繕估價單及證明。", "計算基礎：採修復 or 重建所需之實際綠能費用賠付。"];
                } else if (name.includes("機車火災")) {
                    notes = ["理賠內容：標的50米內 or 社區車位之機車火災/縱火損害。", "情況理賠：因火災事故 or 第三人惡意縱火所致之損失。", "對象限制：須為被保險人、配偶、家屬 or 同居人所有。", "車輛限制：必須為「領有合法牌照」之機車始受保障。", "賠付限額：每部機車最高理賠6萬元，最低不低於2千元。", "理賠方式：公司得以修復 or 以現金進行賠償。", "折舊計算：每年折舊率 25%，依出廠年月及月數換算。", "不理賠情：非屬火災 or 縱火事故、非承保區域之投保。", "準備事項：申請書、機車行照、修車估價單及發票。", "證明文件：應本公司要求時，需提供憲警處理證明。"];
                } else if (name.includes("天災費用")) {
                    notes = ["理賠內容：天災致建物受損，連逾7日不適居住之補償。", "承保事故：地震、颱風、洪水、山崩、雷擊、閃電。", "情況理賠：因上述事故致住宅實質上不能居住連續逾7日。", "補標準：按修復費占重置成本之百分比計算補償月數。", "理賠上限：保險期間內最高補償期間以 12 個月為限。", "不理賠情：建物連逾60天無人看管、投保前已發生事故。", "不理賠情：潮濕發霉、原子能輻射、罷工暴動、傳染病。", "一次給付：金額確認後於 15 天內一次性給付現金。", "準備事項：申請書、損失清單、現場照片、無法居住證明。", "時效限制：權利自得請求日起，經過 2 年消滅。"];
                } else {
                    notes = ["請參閱正式保單條款內容摘要。"];
                }
                return { title, notes };
            };

            const renderItemName = (item) => {
                const noteData = getNoteData(item.name);
                return (
                    <div className="flex flex-col">
                        <span className="hover-highlight font-bold text-gray-900 cursor-pointer table-text-custom" onClick={() => setActiveNote(noteData)}>
                            {item.name} <i className="fas fa-info-circle text-blue-400 ml-1 text-xs"></i>
                        </span>
                        <div className="link-wrapper mt-1">
                            {[1, 2, 3, 4].map(i => {
                                const matchedLinks = findMatchingLinks(item);
                                const link = matchedLinks?.[`link${i}`];
                                return (link?.url && link?.name) && (
                                    <a key={i} href={link.url} target="_blank" className="coverage-link link-text-blue">
                                        <i className="fas fa-file-pdf mr-1 text-[8pt]"></i>{link.name}
                                    </a>
                                );
                            })}
                        </div>
                    </div>
                );
            };

            return (
                <div className="pb-20">
                    <div className="bg-gray-800 text-white p-3 shadow-md no-print sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto flex flex-wrap justify-between items-center gap-2">
                            <h2 className="text-lg font-bold flex items-center gap-2">🏠 住宅火險輔助系統</h2>
                            <div className="flex gap-2 flex-wrap text-sm">
                                {catalogItem?.link1?.url && (
                                    <a href={catalogItem.link1.url} target="_blank" className="px-3 py-2 bg-orange-600 text-white rounded font-medium hover:bg-orange-700 transition flex items-center gap-2">
                                        <i className="fas fa-list"></i> 目錄
                                    </a>
                                )}
                                <button onClick={handleToggleMode} className="px-3 py-2 bg-gray-600 rounded font-medium hover:bg-gray-700 transition flex items-center gap-2">
                                    <i className={mobilePrintMode ? "fas fa-desktop" : "fas fa-mobile-alt"}></i> {mobilePrintMode ? "電腦版" : "手機版"}
                                </button>
                                {!mobilePrintMode && (
                                    <React.Fragment>
                                        <button onClick={() => setShowPromptModal(true)} className="px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded font-medium transition flex items-center gap-2"><i className="fas fa-robot"></i> 生成 AI 指令</button>
                                        <label className="px-3 py-2 bg-green-600 hover:bg-green-700 rounded font-medium cursor-pointer transition flex items-center gap-2"><i className="fas fa-file-import"></i> 匯入 JSON<input type="file" accept=".json" ref={fileInputRef} onChange={importData} className="hidden" /></label>
                                        <button onClick={() => setCurrentView('edit_data')} className="px-3 py-2 bg-yellow-500 text-black rounded font-medium transition flex items-center gap-2"><i className="fas fa-pen"></i> 編輯</button>
                                        <button onClick={() => setCurrentView('manage_links')} className="px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded font-medium transition flex items-center gap-2"><i className="fas fa-link"></i> 資料庫</button>
                                        <button onClick={saveAsHtml} className="px-3 py-2 bg-indigo-600 hover:bg-indigo-700 rounded font-medium transition flex items-center gap-2"><i className="fas fa-file-download"></i> 存檔</button>
                                        <button onClick={reloadInitialData} className="px-3 py-2 bg-red-500 hover:bg-red-600 rounded font-medium transition flex items-center gap-2"><i className="fas fa-undo"></i> 重設</button>
                                    </React.Fragment>
                                )}
                            </div>
                        </div>
                    </div>

                    <div className={containerClass}>
                        <div className="bg-blue-700 p-6 text-white shadow-inner flex flex-wrap justify-between items-center">
                            <div className="flex items-center gap-4">
                                <a href={backItem?.url || "#"} className="no-print px-4 py-2 bg-white/20 hover:bg-white/30 text-white border border-white/40 rounded-full text-sm font-bold transition flex items-center gap-2">
                                    <i className="fas fa-arrow-left"></i> {backItem?.name || "回上頁"}
                                </a>
                                <h1 className="text-2xl md:text-3xl font-bold tracking-wider">金好住2.0住宅火險輔助說明</h1>
                            </div>
                            <div className="flex gap-2 no-print mt-2 md:mt-0 text-sm">
                                {applicationItem?.url && applicationItem?.name && <a href={applicationItem.url} target="_blank" className="px-3 py-2 bg-white/20 border border-white/40 rounded-full font-bold hover:bg-white/30 transition link-text-blue">{applicationItem.name}</a>}
                                {quoteItem?.url && quoteItem?.name && <a href={quoteItem.url} target="_blank" className="px-3 py-2 bg-white/20 border border-white/40 rounded-full font-bold hover:bg-white/30 transition link-text-blue">{quoteItem.name}</a>}
                            </div>
                        </div>

                        <div className="p-4 md:p-8">
                            <div className={`grid grid-cols-1 ${mobilePrintMode ? 'gap-4' : 'md:grid-cols-2 gap-6'} mb-8`}>
                                <div className="bg-white p-5 rounded-xl border-l-8 border-blue-600 border shadow-sm">
                                    <h3 className="text-lg font-bold mb-2 text-blue-800">基本資訊</h3>
                                    <div className="space-y-2 text-sm text-gray-800">
                                        <div><span className="text-gray-500 font-medium">要保人：</span><span className="font-bold text-blue-900">{data.client.proposerName}</span></div>
                                        <div><span className="text-gray-500 font-medium">被保險人：</span><span className="font-bold text-gray-900">{data.client.name}</span></div>
                                        <div><span className="text-gray-500 font-medium">連絡電話：</span><span className="font-medium text-blue-800">(要) {data.client.proposerPhone} / (被) {data.client.phone}</span></div>
                                        <div><span className="text-gray-500 font-medium">通訊地址：</span><span>{data.client.mailingAddress}</span></div>
                                        <div><span className="text-gray-500 font-medium">保險期間：</span><span className="text-sm bg-blue-50 text-blue-800 px-2 py-1 rounded font-mono">{data.client.policyPeriod}</span></div>
                                    </div>
                                </div>
                                <div className="bg-white p-5 rounded-xl border-l-8 border-indigo-600 border shadow-sm">
                                    <h3 className="text-lg font-bold mb-2 text-blue-800">標的物明細</h3>
                                    <div className="space-y-2 text-sm text-gray-800">
                                        <div><span className="text-gray-500 font-medium text-xs">標的物地址：</span><span className="font-bold text-indigo-900">{data.client.address}</span></div>
                                        <div><span className="text-gray-500 font-bold">建築結構：</span><span className="text-blue-700 font-bold">{data.client.model || "未辨識"}</span></div>
                                        <div><span className="text-gray-500 font-bold">樓層資訊：</span><span className="text-blue-700 font-bold">{data.client.plate || "未辨識"}</span></div>
                                        <div><span className="text-gray-500 font-medium">坪數/完工：</span><span className="font-bold">{data.client.engineNo || "未辨識"}</span> / {data.client.manufacturingDate}</div>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                                <div className="bg-green-600 text-white p-3 font-bold">🛡️ 承保內容明細 (點擊險種名稱可看理賠重點摘要)</div>
                                <div className="overflow-x-auto">
                                    <table className="w-full text-left border-collapse">
                                        <thead>
                                            <tr className="bg-green-50 table-text-custom font-black">
                                                <th className={`py-3 px-2 border-b ${mobilePrintMode ? 'w-[35%]' : 'w-[25%]'}`}>承保險種類別</th>
                                                <th className={`py-3 px-2 border-b ${mobilePrintMode ? 'w-[35%]' : 'w-[30%]'}`}>保險標的物</th>
                                                <th className={`py-3 px-2 text-center border-b ${mobilePrintMode ? 'w-[30%]' : 'w-[20%]'}`}>保險金額</th>
                                                {!mobilePrintMode && <th className="py-3 px-2 text-center border-b w-[10%]">自負額</th>}
                                                {!mobilePrintMode && <th className="py-3 px-2 text-right border-b w-[15%]">保險費</th>}
                                            </tr>
                                        </thead>
                                        <tbody className="table-text-custom">
                                            {/* 住家綜合保險 標題列 */}
                                            <tr className="bg-blue-50/50 border-b border-blue-100 transition-colors">
                                                <td className="py-3 px-2 align-top">
                                                    <div className="font-black text-blue-900 leading-tight mb-1">住家綜合保險</div>
                                                    <div className="link-wrapper">
                                                        {[1, 2, 3, 4].map(i => {
                                                            const link = comprehensiveLinks?.[`link${i}`];
                                                            return (link?.url && link?.name) && (
                                                                <a key={i} href={link.url} target="_blank" className="coverage-link link-text-blue">
                                                                    <i className="fas fa-file-pdf mr-1 text-[8pt]"></i>{link.name}
                                                                </a>
                                                            );
                                                        })}
                                                    </div>
                                                </td>
                                                <td colSpan={mobilePrintMode ? 2 : 4} className="py-3 px-2 text-blue-800 italic align-middle">以下為住家綜合保險計畫內容：</td>
                                            </tr>

                                            {/* 各險種細項 */}
                                            {data.coverages.filter(c => c.name !== "住家綜合保險").map((item, index) => {
                                                return (
                                                    <tr key={index} className="border-b border-gray-100 hover:bg-green-50/30 transition">
                                                        <td className="py-3 px-2 align-top md:pl-4">
                                                            {renderItemName(item)}
                                                        </td>
                                                        <td className={`py-3 px-2 leading-normal align-top`}>{item.detail}</td>
                                                        <td className="py-3 px-2 text-center align-top">{item.amount}</td>
                                                        
                                                        {/* 自負額欄位：僅財物損失保險顯示 (註4.5) 藍色按鈕 */}
                                                        {!mobilePrintMode && (
                                                            <td className="py-3 px-2 text-center align-top">
                                                                <div className="flex flex-col items-center">
                                                                    <span>{item.deductible || "無"}</span>
                                                                    {item.name.includes("財物損失") && (
                                                                        <button 
                                                                            className="link-text-blue font-bold mt-1 hover:text-red-500 transition"
                                                                            onClick={() => setActiveNote(DEDUCTIBLE_NOTE_DATA)}
                                                                        >
                                                                            (註4.5)
                                                                        </button>
                                                                    )}
                                                                </div>
                                                            </td>
                                                        )}
                                                        
                                                        {!mobilePrintMode && <td className="py-3 px-2 text-right font-bold align-top">{Number(item.premium || 0).toLocaleString()}</td>}
                                                    </tr>
                                                );
                                            })}
                                            {/* 總計欄位 */}
                                            <tr className="bg-green-50 font-bold">
                                                <td colSpan={mobilePrintMode ? 2 : 4} className="py-4 px-3 text-right">💰 總計保險費 (新台幣)</td>
                                                <td className="py-4 px-3 text-right text-lg md:text-xl text-red-600 font-black tracking-tight">${calculatedTotal.toLocaleString()}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <CenteredNoteModal isOpen={!!activeNote} onClose={() => setActiveNote(null)} title={activeNote?.title} notes={activeNote?.notes || []} />
                </div>
            );
        };

        const App = () => {
            const [data, setData] = useState(INITIAL_DATA);
            const [currentView, setCurrentView] = useState('presentation');
            const [isEditingLinks, setIsEditingLinks] = useState(false);
            const [showPromptModal, setShowPromptModal] = useState(false);
            const fileInputRef = useRef(null);

            const calculatedTotal = useMemo(() => data.coverages.reduce((sum, item) => sum + Number(item.premium || 0), 0), [data.coverages]);

            const findMatchingLinks = (coverageItem) => {
                if (!coverageItem.name) return null;
                const normalizedName = coverageItem.name.trim();
                return data.linkLibrary.find(lib => lib.keyword && normalizedName.includes(lib.keyword.trim()));
            };

            const handleLibraryChange = useCallback((index, field, value, subField = null) => {
                setData(prev => {
                    const newLibrary = [...prev.linkLibrary];
                    if (subField) newLibrary[index][field] = { ...newLibrary[index][field], [subField]: value };
                    else newLibrary[index][field] = value;
                    return { ...prev, linkLibrary: newLibrary };
                });
            }, []);

            /**
             * 存檔功能強化：
             * 將目前 React 狀態（包含修改後的資料庫連結）完整寫入新檔案的 <script id="saved-data"> 內。
             * 這樣產出的 HTML 文件就是一個完全獨立、包含最新資料的單檔。
             */
            const saveAsHtml = () => {
                // 複製整個 DOM 結構
                const clone = document.documentElement.cloneNode(true);
                
                // 清空 root，確保新檔案開啟時會由其內建的 JSON 重新初始化 React
                const rootDiv = clone.querySelector('#root');
                if(rootDiv) rootDiv.innerHTML = '';
                
                // 將目前的 state (data) 序列化並寫入 script 標籤
                const savedDataScript = clone.querySelector("#saved-data");
                if(savedDataScript) {
                    // 這包含 meta, client, coverages 以及最關鍵的變更後 linkLibrary
                    savedDataScript.textContent = JSON.stringify(data, null, 2);
                }

                // 產生檔名邏輯
                let dateStr = "";
                if (data.client.policyPeriod) {
                    const match = data.client.policyPeriod.match(/(\d{2,3})\s*年\s*(\d{1,2})\s*月\s*(\d{1,2})\s*日/);
                    if (match) {
                        const year = match[1];
                        const month = match[2].padStart(2, '0');
                        const day = match[3].padStart(2, '0');
                        dateStr = `${year}${month}${day}`;
                    }
                }
                
                const fileName = `${dateStr}${data.client.name || ''}-住宅火險輔助說明.html`;
                const blob = new Blob([clone.outerHTML], { type: "text/html" });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = fileName;
                link.click();
                
                // 釋放記憶體
                setTimeout(() => URL.revokeObjectURL(url), 100);
            };

            const importData = (event) => {
                const file = event.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const importedData = JSON.parse(e.target.result);
                        if (!importedData.linkLibrary || importedData.linkLibrary.length === 0) {
                            importedData.linkLibrary = JSON.parse(JSON.stringify(data.linkLibrary));
                        }
                        setData(importedData);
                    } catch (error) { 
                        console.error("JSON 解析錯誤");
                    }
                };
                reader.readAsText(file);
                event.target.value = '';
            };

            const reloadInitialData = () => { 
                if(confirm('確定要還原到預設值（清空所有輸入資料）？')) {
                    setData(JSON.parse(JSON.stringify(EMPTY_TEMPLATE)));
                }
            };

            return (
                <div className="min-h-screen bg-gray-100 font-sans">
                    {currentView === 'manage_links' ? 
                        <LinkManagerView data={data} isEditingLinks={isEditingLinks} setIsEditingLinks={setIsEditingLinks} setCurrentView={setCurrentView} handleLibraryChange={handleLibraryChange} addLibraryRow={() => setData(prev => ({ ...prev, linkLibrary: [...prev.linkLibrary, { id: Date.now(), code: "", keyword: "", link1: {}, link2: {}, link3: {}, link4: {} }] }))} removeLibraryRow={(i) => setData(prev => ({ ...prev, linkLibrary: prev.linkLibrary.filter((_, idx) => idx !== i) }))} saveAsHtml={saveAsHtml} /> : 
                        currentView === 'edit_data' ?
                        <EditView data={data} setData={setData} setCurrentView={setCurrentView} /> :
                        <PresentationView data={data} setCurrentView={setCurrentView} findMatchingLinks={findMatchingLinks} calculatedTotal={calculatedTotal} importData={importData} reloadInitialData={reloadInitialData} saveAsHtml={saveAsHtml} fileInputRef={fileInputRef} setShowPromptModal={setShowPromptModal} />
                    }
                    {showPromptModal && <PromptModal onClose={() => setShowPromptModal(false)} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body></html>